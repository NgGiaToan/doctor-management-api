2024-09-15 14:07:41.945 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-15 14:07:42.099 +07:00 [DBG] Hosting starting
2024-09-15 14:07:42.145 +07:00 [INF] User profile is available. Using 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 14:07:42.159 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-401a87b9-185b-4ae6-b430-e2cba568700e.xml'.
2024-09-15 14:07:42.172 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-74288969-9a33-424a-9467-b5621ad6023e.xml'.
2024-09-15 14:07:42.180 +07:00 [DBG] Found key {401a87b9-185b-4ae6-b430-e2cba568700e}.
2024-09-15 14:07:42.187 +07:00 [DBG] Found key {74288969-9a33-424a-9467-b5621ad6023e}.
2024-09-15 14:07:42.196 +07:00 [DBG] Considering key {74288969-9a33-424a-9467-b5621ad6023e} with expiration date 2024-11-14 09:41:20Z as default key.
2024-09-15 14:07:42.201 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-15 14:07:42.204 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-15 14:07:42.207 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-15 14:07:42.213 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-15 14:07:42.216 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-15 14:07:42.219 +07:00 [DBG] Using key {74288969-9a33-424a-9467-b5621ad6023e} as the default key.
2024-09-15 14:07:42.222 +07:00 [DBG] Key ring with default key {74288969-9a33-424a-9467-b5621ad6023e} was loaded during application startup.
2024-09-15 14:07:42.492 +07:00 [INF] Now listening on: https://localhost:7169
2024-09-15 14:07:42.494 +07:00 [INF] Now listening on: http://localhost:5169
2024-09-15 14:07:42.495 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-15 14:07:42.496 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-15 14:07:42.497 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-15 14:07:42.498 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-15 14:07:42.595 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 14:07:42.597 +07:00 [INF] Hosting environment: Development
2024-09-15 14:07:42.599 +07:00 [INF] Content root path: C:\Users\giato\Downloads\Workspace\.Net\CityInfo.API
2024-09-15 14:07:42.600 +07:00 [DBG] Hosting started
2024-09-15 15:20:08.592 +07:00 [DBG] Connection id "0HN6LBSR1C7TG" accepted.
2024-09-15 15:20:08.606 +07:00 [DBG] Connection id "0HN6LBSR1C7TG" started.
2024-09-15 15:20:08.735 +07:00 [DBG] Connection 0HN6LBSR1C7TG established using the following protocol: "Tls13"
2024-09-15 15:20:08.808 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - null null
2024-09-15 15:20:08.826 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-15 15:20:08.927 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:20:08.965 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:20:08.968 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:20:08.985 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:20:09.057 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:20:09.062 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:20:09.097 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:20:09.099 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:20:09.100 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:20:09.102 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:20:09.103 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:20:09.104 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:20:09.107 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:20:09.249 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-15 15:20:09.267 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:20:09.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-09-15 15:20:09.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-09-15 15:20:09.277 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-09-15 15:20:09.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:20:09.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:20:09.279 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-09-15 15:20:09.283 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-09-15 15:20:09.284 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:20:09.285 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-09-15 15:20:09.286 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-09-15 15:20:09.287 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:20:09.288 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:20:09.288 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:20:09.289 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-09-15 15:20:09.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-15 15:20:09.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-15 15:20:09.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:20:09.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:20:09.293 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-15 15:20:09.295 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-15 15:20:09.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:20:09.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-09-15 15:20:09.297 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:20:09.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:20:09.298 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:20:09.299 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:20:09.803 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:20:09.868 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .OrderBy(pt => pt.AppoitmentTime)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(ap => new AppointmentModel{ 
        AppoitmentTime = ap.AppoitmentTime, 
        AppoitmentStatus = ap.AppoitmentStatus, 
        PatientId = ap.PatientId, 
        Gender = ap.Patient.Gender, 
        Avatar = ap.Patient.Avatar, 
        FullName = ap.Patient.FullName, 
        Date = ap.Patient.Date 
    }
    )'
2024-09-15 15:20:10.026 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AppointmentModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            AppoitmentTime -> 0
            AppoitmentStatus -> 1
            PatientId -> 2
            Gender -> 3
            Avatar -> 4
            FullName -> 5
            Date -> 6
        SELECT t.AppoitmentTime, t.AppoitmentStatus, t.PatientId, p.Gender, p.Avatar, p.FullName, p.Date
        FROM 
        (
            SELECT a.AppoitmentStatus, a.AppoitmentTime, a.PatientId
            FROM Appointment AS a
            ORDER BY a.AppoitmentTime ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Patient AS p ON t.PatientId == p.PatientId
        ORDER BY t.AppoitmentTime ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppointmentModel>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-09-15 15:20:10.049 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:20:10.069 +07:00 [DBG] Created DbConnection. (19ms).
2024-09-15 15:20:10.072 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:20:10.456 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:20:10.459 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:20:10.464 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-15 15:20:10.471 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-15 15:20:10.478 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:20:10.578 +07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:20:10.585 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:20:10.591 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 7ms reading results.
2024-09-15 15:20:10.594 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:20:10.600 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (5ms).
2024-09-15 15:20:10.604 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:20:10.607 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:20:10.607 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:20:10.608 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:20:10.609 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:20:10.610 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 15:20:10.682 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 1574.4767ms
2024-09-15 15:20:10.683 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:20:10.687 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:20:10.691 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:20:10.693 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-15 15:20:10.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - 200 2 application/json; charset=utf-8 1900.5603ms
2024-09-15 15:20:14.001 +07:00 [DBG] Connection id "0HN6LBSR1C7TG" received FIN.
2024-09-15 15:20:14.006 +07:00 [DBG] Connection id "0HN6LBSR1C7TG" is closed. The last processed stream ID was 1.
2024-09-15 15:20:14.007 +07:00 [DBG] Connection id "0HN6LBSR1C7TG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:20:14.008 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TG completed.
2024-09-15 15:20:14.011 +07:00 [DBG] Connection id "0HN6LBSR1C7TG" stopped.
2024-09-15 15:22:14.530 +07:00 [DBG] Connection id "0HN6LBSR1C7TH" accepted.
2024-09-15 15:22:14.535 +07:00 [DBG] Connection id "0HN6LBSR1C7TH" started.
2024-09-15 15:22:14.560 +07:00 [DBG] Connection 0HN6LBSR1C7TH established using the following protocol: "Tls13"
2024-09-15 15:22:14.580 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 139
2024-09-15 15:22:14.593 +07:00 [DBG] POST requests are not supported
2024-09-15 15:22:14.598 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:22:14.600 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:22:14.603 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:22:14.609 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:22:14.613 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:22:14.636 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:22:14.637 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:22:14.638 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:22:14.639 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:22:14.640 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:22:14.640 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:22:14.642 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:22:14.647 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:22:14.649 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:22:14.653 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 15:22:14.657 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:22:14.659 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:22:14.670 +07:00 [DBG] Connection id "0HN6LBSR1C7TH", Request id "0HN6LBSR1C7TH:00000001": started reading request body.
2024-09-15 15:22:14.672 +07:00 [DBG] Connection id "0HN6LBSR1C7TH", Request id "0HN6LBSR1C7TH:00000001": done reading request body.
2024-09-15 15:22:14.718 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:14.718 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:14.719 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:22:14.731 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:14.762 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:22:14.816 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:22:14.873 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:22:14.876 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:22:14.879 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:22:14.890 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:22:14.959 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:22:14.962 +07:00 [DBG] Created DbConnection. (2ms).
2024-09-15 15:22:14.963 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:14.969 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:14.972 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:22:14.973 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:22:14.977 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-15 15:22:14.978 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:22:15.041 +07:00 [ERR] Failed executing DbCommand (60ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:22:15.046 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:15.047 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:22:15.226 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.DoctorManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Patient_Appoitment". The conflict occurred in database "DoctorDatabase", table "dbo.Patient", column 'PatientId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:a7ee837a-1c72-4270-a202-25c9e13190d7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Patient_Appoitment". The conflict occurred in database "DoctorDatabase", table "dbo.Patient", column 'PatientId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:a7ee837a-1c72-4270-a202-25c9e13190d7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-09-15 15:22:15.345 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:22:15.346 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:22:15.347 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-15 15:22:15.349 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-15 15:22:15.350 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-15 15:22:15.372 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 730.784ms
2024-09-15 15:22:15.373 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:22:15.374 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:22:15.374 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:15.375 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:22:15.377 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 500 201 application/problem+json; charset=utf-8 798.3488ms
2024-09-15 15:22:19.122 +07:00 [DBG] Connection id "0HN6LBSR1C7TH" received FIN.
2024-09-15 15:22:19.123 +07:00 [DBG] Connection id "0HN6LBSR1C7TH" is closed. The last processed stream ID was 1.
2024-09-15 15:22:19.124 +07:00 [DBG] Connection id "0HN6LBSR1C7TH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:22:19.125 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TH completed.
2024-09-15 15:22:19.126 +07:00 [DBG] Connection id "0HN6LBSR1C7TH" stopped.
2024-09-15 15:22:40.169 +07:00 [DBG] Connection id "0HN6LBSR1C7TI" accepted.
2024-09-15 15:22:40.173 +07:00 [DBG] Connection id "0HN6LBSR1C7TI" started.
2024-09-15 15:22:40.180 +07:00 [DBG] Connection 0HN6LBSR1C7TI established using the following protocol: "Tls13"
2024-09-15 15:22:40.190 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 139
2024-09-15 15:22:40.197 +07:00 [DBG] POST requests are not supported
2024-09-15 15:22:40.197 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:22:40.198 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:22:40.199 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:22:40.203 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:22:40.203 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:22:40.205 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:22:40.206 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:22:40.206 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:22:40.207 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:22:40.208 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:22:40.208 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:22:40.209 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:22:40.212 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:22:40.213 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:22:40.214 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 15:22:40.215 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:22:40.216 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:22:40.217 +07:00 [DBG] Connection id "0HN6LBSR1C7TI", Request id "0HN6LBSR1C7TI:00000001": started reading request body.
2024-09-15 15:22:40.217 +07:00 [DBG] Connection id "0HN6LBSR1C7TI", Request id "0HN6LBSR1C7TI:00000001": done reading request body.
2024-09-15 15:22:40.218 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:40.219 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:40.219 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:22:40.220 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:40.268 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:22:40.271 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:22:40.272 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:22:40.273 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:22:40.274 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:22:40.274 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:22:40.276 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:22:40.276 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:22:40.277 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:40.278 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:40.278 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:22:40.279 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:22:40.279 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:22:40.280 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:22:40.292 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:22:40.295 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:40.296 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-09-15 15:22:40.296 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:40.297 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:22:40.303 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:22:40.305 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 15:22:40.306 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:22:40.307 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:22:40.307 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:22:40.307 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:22:40.308 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:22:40.308 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:22:40.311 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 101.9605ms
2024-09-15 15:22:40.312 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:22:40.312 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:22:40.313 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:22:40.314 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:22:40.314 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 126 application/json; charset=utf-8 125.4167ms
2024-09-15 15:22:49.164 +07:00 [DBG] Connection id "0HN6LBSR1C7TI" received FIN.
2024-09-15 15:22:49.166 +07:00 [DBG] Connection id "0HN6LBSR1C7TI" is closed. The last processed stream ID was 1.
2024-09-15 15:22:49.166 +07:00 [DBG] Connection id "0HN6LBSR1C7TI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:22:49.168 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TI completed.
2024-09-15 15:22:49.169 +07:00 [DBG] Connection id "0HN6LBSR1C7TI" stopped.
2024-09-15 15:23:07.255 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ" accepted.
2024-09-15 15:23:07.256 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ" started.
2024-09-15 15:23:07.261 +07:00 [DBG] Connection 0HN6LBSR1C7TJ established using the following protocol: "Tls13"
2024-09-15 15:23:07.263 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 139
2024-09-15 15:23:07.269 +07:00 [DBG] POST requests are not supported
2024-09-15 15:23:07.270 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:23:07.270 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:23:07.271 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:23:07.272 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:23:07.272 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:23:07.273 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:23:07.274 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:23:07.275 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:23:07.276 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:23:07.277 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:23:07.278 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:23:07.278 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:23:07.279 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:23:07.280 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:23:07.280 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 15:23:07.281 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:23:07.282 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:23:07.282 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ", Request id "0HN6LBSR1C7TJ:00000001": started reading request body.
2024-09-15 15:23:07.283 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ", Request id "0HN6LBSR1C7TJ:00000001": done reading request body.
2024-09-15 15:23:07.284 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:23:07.284 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:23:07.285 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:23:07.285 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:23:07.286 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:23:07.287 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:23:07.288 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:23:07.289 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:23:07.289 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:23:07.290 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:23:07.291 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:23:07.291 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:23:07.292 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:07.292 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:07.293 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:23:07.294 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:23:07.294 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:23:07.295 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:23:07.299 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:23:07.300 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:07.301 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 15:23:07.302 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:07.302 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:23:07.303 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:23:07.304 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 15:23:07.305 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:23:07.306 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:23:07.306 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:23:07.307 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:23:07.307 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:23:07.307 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:23:07.309 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 30.2938ms
2024-09-15 15:23:07.309 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:23:07.310 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:23:07.310 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:07.311 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:23:07.312 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 126 application/json; charset=utf-8 49.2852ms
2024-09-15 15:23:14.472 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ" received FIN.
2024-09-15 15:23:14.473 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ" is closed. The last processed stream ID was 1.
2024-09-15 15:23:14.474 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TJ completed.
2024-09-15 15:23:14.474 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:23:14.485 +07:00 [DBG] Connection id "0HN6LBSR1C7TJ" stopped.
2024-09-15 15:23:18.329 +07:00 [DBG] Connection id "0HN6LBSR1C7TK" accepted.
2024-09-15 15:23:18.330 +07:00 [DBG] Connection id "0HN6LBSR1C7TK" started.
2024-09-15 15:23:18.334 +07:00 [DBG] Connection 0HN6LBSR1C7TK established using the following protocol: "Tls13"
2024-09-15 15:23:18.336 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - null null
2024-09-15 15:23:18.341 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:23:18.342 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:23:18.342 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:23:18.345 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:23:18.345 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:23:18.346 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:23:18.346 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:23:18.347 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:23:18.348 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:23:18.349 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:23:18.349 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:23:18.350 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:23:18.351 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:23:18.352 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:23:18.353 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-09-15 15:23:18.354 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-09-15 15:23:18.354 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-09-15 15:23:18.355 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:23:18.356 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:23:18.356 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-09-15 15:23:18.357 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-09-15 15:23:18.357 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:23:18.358 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-09-15 15:23:18.358 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-09-15 15:23:18.359 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:23:18.360 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:23:18.361 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:23:18.361 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-09-15 15:23:18.361 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-15 15:23:18.362 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-15 15:23:18.363 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:23:18.363 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:23:18.364 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-15 15:23:18.365 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-15 15:23:18.365 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:23:18.366 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-09-15 15:23:18.366 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:23:18.367 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:23:18.367 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:23:18.368 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:23:18.370 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:23:18.385 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:23:18.386 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:23:18.386 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:18.387 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:18.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:23:18.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:23:18.388 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:23:18.389 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:23:18.414 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:23:18.427 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:18.428 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 12ms reading results.
2024-09-15 15:23:18.429 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:18.429 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:23:18.430 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:23:18.431 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:23:18.431 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:23:18.432 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:23:18.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:23:18.432 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 15:23:18.440 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 89.2645ms
2024-09-15 15:23:18.441 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:23:18.441 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:23:18.442 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:18.443 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:23:18.443 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - 200 454 application/json; charset=utf-8 107.8176ms
2024-09-15 15:23:24.191 +07:00 [DBG] Connection id "0HN6LBSR1C7TK" received FIN.
2024-09-15 15:23:24.192 +07:00 [DBG] Connection id "0HN6LBSR1C7TK" is closed. The last processed stream ID was 1.
2024-09-15 15:23:24.192 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TK completed.
2024-09-15 15:23:24.193 +07:00 [DBG] Connection id "0HN6LBSR1C7TK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:23:24.208 +07:00 [DBG] Connection id "0HN6LBSR1C7TK" stopped.
2024-09-15 15:23:46.175 +07:00 [DBG] Connection id "0HN6LBSR1C7TL" accepted.
2024-09-15 15:23:46.177 +07:00 [DBG] Connection id "0HN6LBSR1C7TL" started.
2024-09-15 15:23:46.185 +07:00 [DBG] Connection 0HN6LBSR1C7TL established using the following protocol: "Tls13"
2024-09-15 15:23:46.190 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153 - null null
2024-09-15 15:23:46.196 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:23:46.196 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153'
2024-09-15 15:23:46.198 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)' with route pattern 'api/Appointment/{id}' is valid for the request path '/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153'
2024-09-15 15:23:46.199 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:23:46.199 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:23:46.200 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:23:46.209 +07:00 [INF] Route matched with {action = "GetById", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetById(System.Guid) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:23:46.213 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:23:46.213 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:23:46.214 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:23:46.215 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:23:46.215 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:23:46.216 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:23:46.217 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:23:46.217 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-15 15:23:46.218 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-15 15:23:46.220 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:23:46.220 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:23:46.221 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-15 15:23:46.221 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-15 15:23:46.228 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:23:46.233 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .SingleOrDefault(ap => ap.AppoitmentId == __id_0)'
2024-09-15 15:23:46.276 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.AppoitmentId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.AppoitmentStatus (string) Required MaxLength(50), 1], [Property: Appointment.AppoitmentTime (DateTime) Required, 2], [Property: Appointment.PatientId (Guid) Required FK Index, 3] }
        SELECT TOP(2) a.AppoitmentId, a.AppoitmentStatus, a.AppoitmentTime, a.PatientId
        FROM Appointment AS a
        WHERE a.AppoitmentId == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-15 15:23:46.280 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:23:46.280 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:23:46.281 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:46.282 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:46.282 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:23:46.283 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:23:46.283 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:23:46.284 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:23:46.289 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:23:46.292 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:23:46.292 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:46.293 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-09-15 15:23:46.294 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:23:46.295 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:27:19.723 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:27:19.726 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:27:19.727 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-15 15:27:19.728 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-15 15:27:19.729 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-15 15:27:19.734 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API) in 213517.7613ms
2024-09-15 15:27:19.735 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:27:19.737 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:27:19.738 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:27:19.739 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-15 15:27:19.742 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153 - 500 201 application/problem+json; charset=utf-8 213551.4232ms
2024-09-15 15:27:24.611 +07:00 [DBG] Connection id "0HN6LBSR1C7TL" received FIN.
2024-09-15 15:27:24.614 +07:00 [DBG] Connection id "0HN6LBSR1C7TL" is closed. The last processed stream ID was 1.
2024-09-15 15:27:24.615 +07:00 [DBG] Connection id "0HN6LBSR1C7TL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:27:24.617 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TL completed.
2024-09-15 15:27:24.618 +07:00 [DBG] Connection id "0HN6LBSR1C7TL" stopped.
2024-09-15 15:27:26.514 +07:00 [DBG] Connection id "0HN6LBSR1C7TM" accepted.
2024-09-15 15:27:26.515 +07:00 [DBG] Connection id "0HN6LBSR1C7TM" started.
2024-09-15 15:27:26.523 +07:00 [DBG] Connection 0HN6LBSR1C7TM established using the following protocol: "Tls13"
2024-09-15 15:27:26.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153 - null null
2024-09-15 15:27:26.529 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:27:26.530 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153'
2024-09-15 15:27:26.531 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)' with route pattern 'api/Appointment/{id}' is valid for the request path '/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153'
2024-09-15 15:27:26.533 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:27:26.535 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:27:26.536 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:27:26.537 +07:00 [INF] Route matched with {action = "GetById", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetById(System.Guid) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:27:26.538 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:27:26.538 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:27:26.539 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:27:26.540 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:27:26.541 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:27:26.541 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:27:26.543 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:27:26.544 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-15 15:27:26.545 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-15 15:27:26.546 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:27:26.547 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:27:26.547 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-15 15:27:26.548 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-15 15:27:26.553 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:27:26.556 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:27:26.556 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:27:26.557 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:27:26.561 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:27:26.562 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:27:26.562 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:27:26.563 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:27:26.564 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:27:26.624 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:27:26.627 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:27:26.628 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:27:26.629 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-09-15 15:27:26.630 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:27:26.630 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:29:14.221 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:29:14.223 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:29:14.224 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-15 15:29:14.226 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-15 15:29:14.226 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-15 15:29:14.228 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API) in 107686.7461ms
2024-09-15 15:29:14.229 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:29:14.230 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:29:14.232 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:29:14.232 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-15 15:29:14.233 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153 - 500 201 application/problem+json; charset=utf-8 107707.7382ms
2024-09-15 15:29:19.781 +07:00 [DBG] Connection id "0HN6LBSR1C7TM" received FIN.
2024-09-15 15:29:19.783 +07:00 [DBG] Connection id "0HN6LBSR1C7TM" is closed. The last processed stream ID was 1.
2024-09-15 15:29:19.785 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TM completed.
2024-09-15 15:29:19.786 +07:00 [DBG] Connection id "0HN6LBSR1C7TM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:29:19.797 +07:00 [DBG] Connection id "0HN6LBSR1C7TM" stopped.
2024-09-15 15:29:24.164 +07:00 [DBG] Connection id "0HN6LBSR1C7TN" accepted.
2024-09-15 15:29:24.165 +07:00 [DBG] Connection id "0HN6LBSR1C7TN" started.
2024-09-15 15:29:24.171 +07:00 [DBG] Connection 0HN6LBSR1C7TN established using the following protocol: "Tls13"
2024-09-15 15:29:24.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153 - null null
2024-09-15 15:29:24.176 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:29:24.177 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153'
2024-09-15 15:29:24.178 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)' with route pattern 'api/Appointment/{id}' is valid for the request path '/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153'
2024-09-15 15:29:24.179 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:29:24.180 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:29:24.181 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:29:24.184 +07:00 [INF] Route matched with {action = "GetById", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetById(System.Guid) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:29:24.186 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:29:24.187 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:29:24.188 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:29:24.189 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:29:24.189 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:29:24.190 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:29:24.191 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:29:24.192 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-15 15:29:24.192 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-15 15:29:24.193 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:29:24.194 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:29:24.194 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-15 15:29:24.195 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-15 15:29:24.198 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:29:24.207 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Include(ap => ap.Patient)
    .SingleOrDefault(ap => ap.AppoitmentId == __id_0)'
2024-09-15 15:29:24.219 +07:00 [DBG] Including navigation: 'Appointment.Patient'.
2024-09-15 15:29:24.253 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Appointment.AppoitmentId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.AppoitmentStatus (string) Required MaxLength(50), 1], [Property: Appointment.AppoitmentTime (DateTime) Required, 2], [Property: Appointment.PatientId (Guid) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Patient.PatientId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Patient.Avatar (string) Required MaxLength(255), 5], [Property: Patient.Date (DateTime) Required, 6], [Property: Patient.Diseases (string) Required MaxLength(500), 7], [Property: Patient.Email (string) Required MaxLength(100), 8], [Property: Patient.FullName (string) Required MaxLength(100), 9], [Property: Patient.Gender (string) Required, 10], [Property: Patient.Location (string) Required MaxLength(255), 11], [Property: Patient.PaymentId (Guid) Required FK Index, 12], [Property: Patient.PhoneNumber (string) Required MaxLength(15), 13], [Property: Patient.Status (string) Required, 14] }
        SELECT TOP(2) a.AppoitmentId, a.AppoitmentStatus, a.AppoitmentTime, a.PatientId, p.PatientId, p.Avatar, p.Date, p.Diseases, p.Email, p.FullName, p.Gender, p.Location, p.PaymentId, p.PhoneNumber, p.Status
        FROM Appointment AS a
        INNER JOIN Patient AS p ON a.PatientId == p.PatientId
        WHERE a.AppoitmentId == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-15 15:29:24.255 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:29:24.255 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:29:24.256 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:29:24.257 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:29:24.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:29:24.258 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:29:24.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:29:24.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId], [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status]
FROM [Appointment] AS [a]
INNER JOIN [Patient] AS [p] ON [a].[PatientId] = [p].[PatientId]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:29:24.279 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId], [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status]
FROM [Appointment] AS [a]
INNER JOIN [Patient] AS [p] ON [a].[PatientId] = [p].[PatientId]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:29:24.281 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:29:24.297 +07:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:29:24.307 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:29:24.320 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:29:24.322 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 40ms reading results.
2024-09-15 15:29:24.323 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:29:24.323 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:29:27.285 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:29:27.286 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:29:27.286 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:29:27.287 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:29:27.287 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:29:27.288 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModel'.
2024-09-15 15:29:27.290 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API) in 3100.0381ms
2024-09-15 15:29:27.291 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-09-15 15:29:27.292 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:29:27.293 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:29:27.293 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:29:27.295 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/6f8b5474-d371-45e3-bd86-08dcd55f8153 - 200 230 application/json; charset=utf-8 3121.3237ms
2024-09-15 15:29:29.809 +07:00 [DBG] Connection id "0HN6LBSR1C7TN" received FIN.
2024-09-15 15:29:29.810 +07:00 [DBG] Connection id "0HN6LBSR1C7TN" is closed. The last processed stream ID was 1.
2024-09-15 15:29:29.810 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TN completed.
2024-09-15 15:29:29.811 +07:00 [DBG] Connection id "0HN6LBSR1C7TN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:29:29.825 +07:00 [DBG] Connection id "0HN6LBSR1C7TN" stopped.
2024-09-15 15:32:02.229 +07:00 [DBG] Connection id "0HN6LBSR1C7TO" accepted.
2024-09-15 15:32:02.232 +07:00 [DBG] Connection id "0HN6LBSR1C7TO" started.
2024-09-15 15:32:02.249 +07:00 [DBG] Connection 0HN6LBSR1C7TO established using the following protocol: "Tls13"
2024-09-15 15:32:02.295 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7169/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153 - application/json-patch+json 140
2024-09-15 15:32:02.300 +07:00 [DBG] PUT requests are not supported
2024-09-15 15:32:02.303 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153'
2024-09-15 15:32:02.304 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Update (CityInfo.API)' with route pattern 'api/Appointment/{id}' is valid for the request path '/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153'
2024-09-15 15:32:02.307 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Update (CityInfo.API)'
2024-09-15 15:32:02.311 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:32:02.313 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Update (CityInfo.API)'
2024-09-15 15:32:02.350 +07:00 [INF] Route matched with {action = "Update", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(System.Guid, CityInfo.API.Models.AppointmentVM) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:32:02.352 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:32:02.353 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:32:02.354 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:02.355 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:32:02.356 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:02.357 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:02.362 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:02.364 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-15 15:32:02.366 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-15 15:32:02.367 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:32:02.368 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:32:02.369 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-15 15:32:02.370 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-15 15:32:02.370 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentVM' ...
2024-09-15 15:32:02.371 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentVM' using the name '' in request data ...
2024-09-15 15:32:02.373 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:32:02.373 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:32:02.375 +07:00 [DBG] Connection id "0HN6LBSR1C7TO", Request id "0HN6LBSR1C7TO:00000001": started reading request body.
2024-09-15 15:32:02.375 +07:00 [DBG] Connection id "0HN6LBSR1C7TO", Request id "0HN6LBSR1C7TO:00000001": done reading request body.
2024-09-15 15:32:02.387 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentVM'.
2024-09-15 15:32:02.388 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentVM'.
2024-09-15 15:32:02.388 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentVM' ...
2024-09-15 15:32:02.394 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentVM'.
2024-09-15 15:32:02.403 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:32:02.408 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .SingleOrDefault(ap => ap.AppoitmentId == __appointment_AppoitmentId_0)'
2024-09-15 15:32:02.427 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.AppoitmentId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.AppoitmentStatus (string) Required MaxLength(50), 1], [Property: Appointment.AppoitmentTime (DateTime) Required, 2], [Property: Appointment.PatientId (Guid) Required FK Index, 3] }
        SELECT TOP(2) a.AppoitmentId, a.AppoitmentStatus, a.AppoitmentTime, a.PatientId
        FROM Appointment AS a
        WHERE a.AppoitmentId == @__appointment_AppoitmentId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-15 15:32:02.430 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:32:02.430 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:32:02.431 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.434 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.436 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:32:02.437 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:32:02.438 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-15 15:32:02.439 +07:00 [DBG] Executing DbCommand [Parameters=[@__appointment_AppoitmentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__appointment_AppoitmentId_0
2024-09-15 15:32:02.483 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__appointment_AppoitmentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__appointment_AppoitmentId_0
2024-09-15 15:32:02.485 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:32:02.485 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.486 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-09-15 15:32:02.487 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.487 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:32:02.488 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:32:02.489 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:32:02.494 +07:00 [DBG] The unchanged property 'Appointment.AppoitmentStatus' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-15 15:32:02.496 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:32:02.497 +07:00 [DBG] The unchanged property 'Appointment.AppoitmentTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-15 15:32:02.498 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:32:02.515 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.516 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.516 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:32:02.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:32:02.518 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:32:02.519 +07:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 50), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppoitmentStatus] = @p0, [AppoitmentTime] = @p1
OUTPUT 1
WHERE [AppoitmentId] = @p2;
2024-09-15 15:32:02.537 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 50), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppoitmentStatus] = @p0, [AppoitmentTime] = @p1
OUTPUT 1
WHERE [AppoitmentId] = @p2;
2024-09-15 15:32:02.543 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.543 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 5ms reading results.
2024-09-15 15:32:02.544 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.545 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:32:02.545 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:32:02.546 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 15:32:02.550 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-15 15:32:02.551 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Update (CityInfo.API) in 194.3535ms
2024-09-15 15:32:02.551 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Update (CityInfo.API)'
2024-09-15 15:32:02.552 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:32:02.553 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:02.554 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:32:02.555 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7169/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153 - 204 null null 262.3949ms
2024-09-15 15:32:05.022 +07:00 [DBG] Connection id "0HN6LBSR1C7TO" received FIN.
2024-09-15 15:32:05.023 +07:00 [DBG] Connection id "0HN6LBSR1C7TO" is closed. The last processed stream ID was 1.
2024-09-15 15:32:05.023 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TO completed.
2024-09-15 15:32:05.023 +07:00 [DBG] Connection id "0HN6LBSR1C7TO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:32:05.033 +07:00 [DBG] Connection id "0HN6LBSR1C7TO" stopped.
2024-09-15 15:32:11.866 +07:00 [DBG] Connection id "0HN6LBSR1C7TP" accepted.
2024-09-15 15:32:11.866 +07:00 [DBG] Connection id "0HN6LBSR1C7TP" started.
2024-09-15 15:32:11.870 +07:00 [DBG] Connection 0HN6LBSR1C7TP established using the following protocol: "Tls13"
2024-09-15 15:32:11.872 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - null null
2024-09-15 15:32:11.878 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:32:11.881 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:32:11.882 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:32:11.884 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:32:11.885 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:32:11.885 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:32:11.886 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:32:11.887 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:32:11.888 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:32:11.888 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:11.889 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:32:11.890 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:11.891 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:11.892 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:11.893 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-09-15 15:32:11.894 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-09-15 15:32:11.894 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-09-15 15:32:11.895 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:32:11.896 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:32:11.896 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-09-15 15:32:11.897 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-09-15 15:32:11.897 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:32:11.898 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-09-15 15:32:11.898 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:11.899 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:11.900 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:11.901 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:32:11.901 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:11.902 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-15 15:32:11.902 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-15 15:32:11.903 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:32:11.904 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:32:11.904 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-15 15:32:11.905 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-15 15:32:11.905 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:32:11.906 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-09-15 15:32:11.907 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:32:11.907 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:32:11.908 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:32:11.909 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:32:11.910 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:32:11.912 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:32:11.912 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:32:11.913 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:11.914 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:11.915 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:32:11.915 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:32:11.915 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:32:11.916 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:32:11.945 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:32:11.946 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:11.947 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 15:32:11.947 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:11.948 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:32:11.950 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:32:11.951 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:32:11.951 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:32:11.951 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:32:11.952 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:32:11.952 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 15:32:11.955 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 64.2017ms
2024-09-15 15:32:11.956 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:32:11.956 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:32:11.957 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:11.958 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:32:11.958 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - 200 452 application/json; charset=utf-8 86.3972ms
2024-09-15 15:32:15.035 +07:00 [DBG] Connection id "0HN6LBSR1C7TP" received FIN.
2024-09-15 15:32:15.037 +07:00 [DBG] Connection id "0HN6LBSR1C7TP" is closed. The last processed stream ID was 1.
2024-09-15 15:32:15.037 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TP completed.
2024-09-15 15:32:15.037 +07:00 [DBG] Connection id "0HN6LBSR1C7TP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:32:15.054 +07:00 [DBG] Connection id "0HN6LBSR1C7TP" stopped.
2024-09-15 15:32:34.529 +07:00 [DBG] Connection id "0HN6LBSR1C7TQ" accepted.
2024-09-15 15:32:34.529 +07:00 [DBG] Connection id "0HN6LBSR1C7TQ" started.
2024-09-15 15:32:34.537 +07:00 [DBG] Connection 0HN6LBSR1C7TQ established using the following protocol: "Tls13"
2024-09-15 15:32:34.541 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7169/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153 - null null
2024-09-15 15:32:34.547 +07:00 [DBG] DELETE requests are not supported
2024-09-15 15:32:34.548 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153'
2024-09-15 15:32:34.549 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Delete (CityInfo.API)' with route pattern 'api/Appointment/{id}' is valid for the request path '/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153'
2024-09-15 15:32:34.581 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Delete (CityInfo.API)'
2024-09-15 15:32:34.582 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:32:34.583 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Delete (CityInfo.API)'
2024-09-15 15:32:34.585 +07:00 [INF] Route matched with {action = "Delete", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(System.Guid) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:32:34.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:32:34.586 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:32:34.587 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:34.590 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:32:34.590 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:34.591 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:34.592 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:34.593 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-15 15:32:34.593 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-15 15:32:34.594 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:32:34.595 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-15 15:32:34.595 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-15 15:32:34.596 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-15 15:32:34.600 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:32:34.602 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:32:34.602 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:32:34.602 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.603 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.604 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:32:34.604 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:32:34.605 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:32:34.605 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:32:34.612 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AppoitmentId], [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
FROM [Appointment] AS [a]
WHERE [a].[AppoitmentId] = @__id_0
2024-09-15 15:32:34.613 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:32:34.614 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.615 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-09-15 15:32:34.616 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.616 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:32:34.621 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:32:34.624 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:32:34.624 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:32:34.625 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:32:34.631 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.632 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.632 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:32:34.633 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:32:34.633 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:32:34.634 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Appointment]
OUTPUT 1
WHERE [AppoitmentId] = @p0;
2024-09-15 15:32:34.641 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Appointment]
OUTPUT 1
WHERE [AppoitmentId] = @p0;
2024-09-15 15:32:34.642 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.643 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 15:32:34.643 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.644 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:32:34.650 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:32:34.651 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 15:32:34.652 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-15 15:32:34.652 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Delete (CityInfo.API) in 61.101ms
2024-09-15 15:32:34.653 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Delete (CityInfo.API)'
2024-09-15 15:32:34.653 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:32:34.654 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:34.654 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:32:34.655 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7169/api/Appointment/8cf3a9da-5480-44e8-bd87-08dcd55f8153 - 200 0 null 114.3549ms
2024-09-15 15:32:35.041 +07:00 [DBG] Connection id "0HN6LBSR1C7TQ" received FIN.
2024-09-15 15:32:35.042 +07:00 [DBG] Connection id "0HN6LBSR1C7TQ" is closed. The last processed stream ID was 1.
2024-09-15 15:32:35.042 +07:00 [DBG] The connection queue processing loop for 0HN6LBSR1C7TQ completed.
2024-09-15 15:32:35.042 +07:00 [DBG] Connection id "0HN6LBSR1C7TQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:32:35.046 +07:00 [DBG] Connection id "0HN6LBSR1C7TQ" stopped.
2024-09-15 15:32:41.855 +07:00 [DBG] Connection id "0HN6LBSR1C7TR" accepted.
2024-09-15 15:32:41.856 +07:00 [DBG] Connection id "0HN6LBSR1C7TR" started.
2024-09-15 15:32:41.858 +07:00 [DBG] Connection 0HN6LBSR1C7TR established using the following protocol: "Tls13"
2024-09-15 15:32:41.861 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - null null
2024-09-15 15:32:41.863 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 15:32:41.863 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:32:41.864 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:32:41.865 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:32:41.865 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:32:41.866 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:32:41.867 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:32:41.868 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:32:41.868 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:32:41.869 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:41.870 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:32:41.870 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:32:41.872 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:41.873 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:32:41.874 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-09-15 15:32:41.874 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-09-15 15:32:41.875 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-09-15 15:32:41.876 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:32:41.876 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 15:32:41.877 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-09-15 15:32:41.877 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-09-15 15:32:41.878 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:32:41.879 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-09-15 15:32:41.880 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:41.880 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:41.881 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:41.881 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-09-15 15:32:41.882 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-09-15 15:32:41.882 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-15 15:32:41.883 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-15 15:32:41.884 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:32:41.884 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 15:32:41.885 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-15 15:32:41.885 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-15 15:32:41.886 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:32:41.887 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-09-15 15:32:41.887 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:32:41.888 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:32:41.888 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-09-15 15:32:41.889 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-09-15 15:32:41.890 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:32:41.892 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:32:41.892 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:32:41.893 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:41.894 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:41.894 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:32:41.894 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:32:41.895 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:32:41.896 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:32:41.904 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 15:32:41.905 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:41.906 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 15:32:41.907 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:41.907 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:32:41.908 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:32:41.909 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:32:41.909 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:32:41.909 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:32:41.910 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:32:41.910 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 15:32:41.911 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 39.4922ms
2024-09-15 15:32:41.912 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 15:32:41.912 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:32:41.913 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:32:41.914 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:32:41.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - 200 232 application/json; charset=utf-8 53.5999ms
2024-09-15 15:59:11.948 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-15 15:59:12.035 +07:00 [DBG] Hosting starting
2024-09-15 15:59:12.057 +07:00 [INF] User profile is available. Using 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-15 15:59:12.064 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-401a87b9-185b-4ae6-b430-e2cba568700e.xml'.
2024-09-15 15:59:12.073 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-74288969-9a33-424a-9467-b5621ad6023e.xml'.
2024-09-15 15:59:12.078 +07:00 [DBG] Found key {401a87b9-185b-4ae6-b430-e2cba568700e}.
2024-09-15 15:59:12.082 +07:00 [DBG] Found key {74288969-9a33-424a-9467-b5621ad6023e}.
2024-09-15 15:59:12.086 +07:00 [DBG] Considering key {74288969-9a33-424a-9467-b5621ad6023e} with expiration date 2024-11-14 09:41:20Z as default key.
2024-09-15 15:59:12.089 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-15 15:59:12.090 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-15 15:59:12.092 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-15 15:59:12.095 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-15 15:59:12.096 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-15 15:59:12.098 +07:00 [DBG] Using key {74288969-9a33-424a-9467-b5621ad6023e} as the default key.
2024-09-15 15:59:12.099 +07:00 [DBG] Key ring with default key {74288969-9a33-424a-9467-b5621ad6023e} was loaded during application startup.
2024-09-15 15:59:12.237 +07:00 [INF] Now listening on: https://localhost:7169
2024-09-15 15:59:12.237 +07:00 [INF] Now listening on: http://localhost:5169
2024-09-15 15:59:12.238 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-15 15:59:12.238 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-15 15:59:12.239 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-15 15:59:12.239 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-15 15:59:12.288 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-15 15:59:12.289 +07:00 [INF] Hosting environment: Development
2024-09-15 15:59:12.290 +07:00 [INF] Content root path: C:\Users\giato\Downloads\Workspace\.Net\CityInfo.API
2024-09-15 15:59:12.590 +07:00 [DBG] Hosting started
2024-09-15 15:59:14.406 +07:00 [DBG] Connection id "0HN6LCIM4TITP" accepted.
2024-09-15 15:59:14.407 +07:00 [DBG] Connection id "0HN6LCIM4TITP" started.
2024-09-15 15:59:14.452 +07:00 [DBG] Connection 0HN6LCIM4TITP established using the following protocol: "Tls13"
2024-09-15 15:59:14.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/swagger/index.html - null null
2024-09-15 15:59:14.563 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-15 15:59:14.613 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-15 15:59:14.615 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-15 15:59:14.628 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-15 15:59:14.629 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-15 15:59:14.631 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/swagger/index.html - 200 null text/html;charset=utf-8 148.4512ms
2024-09-15 15:59:14.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - null null
2024-09-15 15:59:14.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_vs/browserLink - null null
2024-09-15 15:59:14.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.8881ms
2024-09-15 15:59:14.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.6185ms
2024-09-15 15:59:15.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/swagger/v1/swagger.json - null null
2024-09-15 15:59:15.181 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.1921ms
2024-09-15 15:59:16.761 +07:00 [DBG] Connection id "0HN6LCIM4TITP" received FIN.
2024-09-15 15:59:16.764 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITP completed.
2024-09-15 15:59:16.765 +07:00 [DBG] Connection id "0HN6LCIM4TITP" is closed. The last processed stream ID was 7.
2024-09-15 15:59:16.766 +07:00 [DBG] Connection id "0HN6LCIM4TITP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:59:16.773 +07:00 [DBG] Connection id "0HN6LCIM4TITP" stopped.
2024-09-15 15:59:39.787 +07:00 [DBG] Connection id "0HN6LCIM4TITQ" accepted.
2024-09-15 15:59:39.788 +07:00 [DBG] Connection id "0HN6LCIM4TITQ" started.
2024-09-15 15:59:39.812 +07:00 [DBG] Connection 0HN6LCIM4TITQ established using the following protocol: "Tls13"
2024-09-15 15:59:39.815 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 15:59:39.818 +07:00 [DBG] POST requests are not supported
2024-09-15 15:59:39.835 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:59:39.837 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:59:39.845 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:59:39.887 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:59:39.890 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:59:39.907 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:59:39.909 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:59:39.910 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:59:39.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:59:39.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:59:39.912 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:59:39.914 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:59:40.014 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-15 15:59:40.026 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:59:40.031 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:59:40.032 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 15:59:40.034 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:59:40.035 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:59:40.039 +07:00 [DBG] Connection id "0HN6LCIM4TITQ", Request id "0HN6LCIM4TITQ:00000001": started reading request body.
2024-09-15 15:59:40.040 +07:00 [DBG] Connection id "0HN6LCIM4TITQ", Request id "0HN6LCIM4TITQ:00000001": done reading request body.
2024-09-15 15:59:40.095 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:40.097 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:40.098 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:59:40.104 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:40.544 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:59:40.565 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:59:40.597 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:59:40.600 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:59:40.603 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:59:40.610 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:59:40.654 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:59:40.687 +07:00 [DBG] Created DbConnection. (33ms).
2024-09-15 15:59:40.689 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:40.907 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:40.911 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:59:40.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-15 15:59:40.921 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-15 15:59:40.927 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:59:40.984 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:59:40.987 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:40.994 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 5ms reading results.
2024-09-15 15:59:40.996 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:41.000 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (4ms).
2024-09-15 15:59:41.005 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:59:41.007 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 15:59:41.010 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:59:41.013 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:59:41.013 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:59:41.014 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:59:41.015 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:59:41.016 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:41.040 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 1125.1113ms
2024-09-15 15:59:41.041 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:59:41.043 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:59:41.046 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:41.048 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-15 15:59:41.050 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 1234.9885ms
2024-09-15 15:59:41.782 +07:00 [DBG] Connection id "0HN6LCIM4TITQ" received FIN.
2024-09-15 15:59:41.783 +07:00 [DBG] Connection id "0HN6LCIM4TITQ" is closed. The last processed stream ID was 1.
2024-09-15 15:59:41.783 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITQ completed.
2024-09-15 15:59:41.783 +07:00 [DBG] Connection id "0HN6LCIM4TITQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:59:41.789 +07:00 [DBG] Connection id "0HN6LCIM4TITQ" stopped.
2024-09-15 15:59:54.953 +07:00 [DBG] Connection id "0HN6LCIM4TITR" accepted.
2024-09-15 15:59:54.953 +07:00 [DBG] Connection id "0HN6LCIM4TITR" started.
2024-09-15 15:59:54.959 +07:00 [DBG] Connection 0HN6LCIM4TITR established using the following protocol: "Tls13"
2024-09-15 15:59:54.961 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 15:59:54.967 +07:00 [DBG] POST requests are not supported
2024-09-15 15:59:54.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 15:59:54.969 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 15:59:54.970 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:59:54.972 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 15:59:54.973 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:59:54.974 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 15:59:54.975 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 15:59:54.976 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 15:59:54.977 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:59:54.978 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 15:59:54.979 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 15:59:54.980 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:59:54.982 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 15:59:54.983 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:59:54.983 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 15:59:54.984 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:59:54.985 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 15:59:54.986 +07:00 [DBG] Connection id "0HN6LCIM4TITR", Request id "0HN6LCIM4TITR:00000001": started reading request body.
2024-09-15 15:59:54.986 +07:00 [DBG] Connection id "0HN6LCIM4TITR", Request id "0HN6LCIM4TITR:00000001": done reading request body.
2024-09-15 15:59:54.987 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:54.988 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:54.988 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 15:59:54.989 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:55.023 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 15:59:55.026 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:59:55.027 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:59:55.028 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 15:59:55.029 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 15:59:55.030 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 15:59:55.031 +07:00 [DBG] Creating DbConnection.
2024-09-15 15:59:55.031 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 15:59:55.032 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:55.033 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:55.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 15:59:55.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 15:59:55.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 15:59:55.035 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:59:55.046 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 15:59:55.048 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:55.048 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 15:59:55.049 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:55.050 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 15:59:55.050 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 15:59:55.051 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 15:59:55.052 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 15:59:55.053 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 15:59:55.053 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 15:59:55.053 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 15:59:55.054 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 15:59:55.055 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 15:59:55.056 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 75.3193ms
2024-09-15 15:59:55.056 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 15:59:55.057 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 15:59:55.058 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 15:59:55.058 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 15:59:55.059 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 98.6962ms
2024-09-15 15:59:56.796 +07:00 [DBG] Connection id "0HN6LCIM4TITR" received FIN.
2024-09-15 15:59:56.799 +07:00 [DBG] Connection id "0HN6LCIM4TITR" is closed. The last processed stream ID was 1.
2024-09-15 15:59:56.799 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITR completed.
2024-09-15 15:59:56.801 +07:00 [DBG] Connection id "0HN6LCIM4TITR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 15:59:56.809 +07:00 [DBG] Connection id "0HN6LCIM4TITR" stopped.
2024-09-15 16:00:02.489 +07:00 [DBG] Connection id "0HN6LCIM4TITS" accepted.
2024-09-15 16:00:02.490 +07:00 [DBG] Connection id "0HN6LCIM4TITS" started.
2024-09-15 16:00:02.495 +07:00 [DBG] Connection 0HN6LCIM4TITS established using the following protocol: "Tls13"
2024-09-15 16:00:02.496 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:02.498 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:02.499 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:02.499 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:02.500 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:02.502 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:02.503 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:02.504 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:02.505 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:02.506 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:02.506 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:02.507 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:02.508 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:02.509 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:02.511 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:02.512 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:02.513 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:02.514 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:02.514 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:02.515 +07:00 [DBG] Connection id "0HN6LCIM4TITS", Request id "0HN6LCIM4TITS:00000001": started reading request body.
2024-09-15 16:00:02.515 +07:00 [DBG] Connection id "0HN6LCIM4TITS", Request id "0HN6LCIM4TITS:00000001": done reading request body.
2024-09-15 16:00:02.516 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:02.517 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:02.517 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:02.518 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:02.526 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:02.527 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:02.528 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:02.528 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:02.530 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:02.530 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:02.531 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:02.531 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:02.532 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:02.533 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:02.533 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:02.534 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:02.534 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:00:02.535 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:02.546 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:02.547 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:02.548 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:02.548 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:02.549 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:02.550 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:02.551 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:02.551 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:02.552 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:02.553 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:02.553 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:02.553 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:02.554 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:02.555 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 46.1912ms
2024-09-15 16:00:02.556 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:02.556 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:02.557 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:02.558 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:02.558 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 61.9892ms
2024-09-15 16:00:06.805 +07:00 [DBG] Connection id "0HN6LCIM4TITS" received FIN.
2024-09-15 16:00:06.806 +07:00 [DBG] Connection id "0HN6LCIM4TITS" is closed. The last processed stream ID was 1.
2024-09-15 16:00:06.806 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITS completed.
2024-09-15 16:00:06.806 +07:00 [DBG] Connection id "0HN6LCIM4TITS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:06.810 +07:00 [DBG] Connection id "0HN6LCIM4TITS" stopped.
2024-09-15 16:00:08.625 +07:00 [DBG] Connection id "0HN6LCIM4TITT" accepted.
2024-09-15 16:00:08.626 +07:00 [DBG] Connection id "0HN6LCIM4TITT" started.
2024-09-15 16:00:08.630 +07:00 [DBG] Connection 0HN6LCIM4TITT established using the following protocol: "Tls13"
2024-09-15 16:00:08.632 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:08.633 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:08.634 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:08.634 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:08.635 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:08.635 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:08.636 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:08.637 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:08.638 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:08.639 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:08.639 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:08.641 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:08.642 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:08.643 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:08.644 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:08.645 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:08.646 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:08.648 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:08.649 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:08.649 +07:00 [DBG] Connection id "0HN6LCIM4TITT", Request id "0HN6LCIM4TITT:00000001": started reading request body.
2024-09-15 16:00:08.650 +07:00 [DBG] Connection id "0HN6LCIM4TITT", Request id "0HN6LCIM4TITT:00000001": done reading request body.
2024-09-15 16:00:08.651 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:08.652 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:08.653 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:08.653 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:08.655 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:08.656 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:08.656 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:08.657 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:08.658 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:08.658 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:08.660 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:08.660 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:08.660 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:08.661 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:08.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:08.662 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:08.663 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:00:08.663 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:08.672 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:08.673 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:08.674 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:08.674 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:08.675 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:08.676 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:08.676 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:08.677 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:08.678 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:08.679 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:08.679 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:08.680 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:08.680 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:08.681 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 38.7975ms
2024-09-15 16:00:08.682 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:08.683 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:08.683 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:08.684 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:08.685 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 52.9809ms
2024-09-15 16:00:11.807 +07:00 [DBG] Connection id "0HN6LCIM4TITT" received FIN.
2024-09-15 16:00:11.808 +07:00 [DBG] Connection id "0HN6LCIM4TITT" is closed. The last processed stream ID was 1.
2024-09-15 16:00:11.808 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITT completed.
2024-09-15 16:00:11.809 +07:00 [DBG] Connection id "0HN6LCIM4TITT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:11.822 +07:00 [DBG] Connection id "0HN6LCIM4TITT" stopped.
2024-09-15 16:00:16.175 +07:00 [DBG] Connection id "0HN6LCIM4TITU" accepted.
2024-09-15 16:00:16.177 +07:00 [DBG] Connection id "0HN6LCIM4TITU" started.
2024-09-15 16:00:16.181 +07:00 [DBG] Connection 0HN6LCIM4TITU established using the following protocol: "Tls13"
2024-09-15 16:00:16.183 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:16.185 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:16.185 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:16.186 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:16.187 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:16.187 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:16.188 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:16.188 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:16.189 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:16.190 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:16.190 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:16.191 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:16.192 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:16.193 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:16.194 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:16.195 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:16.195 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:16.196 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:16.196 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:16.197 +07:00 [DBG] Connection id "0HN6LCIM4TITU", Request id "0HN6LCIM4TITU:00000001": started reading request body.
2024-09-15 16:00:16.197 +07:00 [DBG] Connection id "0HN6LCIM4TITU", Request id "0HN6LCIM4TITU:00000001": done reading request body.
2024-09-15 16:00:16.198 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:16.199 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:16.200 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:16.201 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:16.202 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:16.203 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:16.204 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:16.204 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:16.205 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:16.205 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:16.206 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:16.207 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:16.207 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:16.208 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:16.209 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:16.209 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:16.210 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:16.210 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:16.219 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:16.220 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:16.221 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:16.221 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:16.222 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:16.223 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:16.224 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:16.224 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:16.225 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:16.226 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:16.226 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:16.226 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:16.227 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:16.228 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 34.798ms
2024-09-15 16:00:16.229 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:16.229 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:16.230 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:16.230 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:16.231 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 47.8088ms
2024-09-15 16:00:16.813 +07:00 [DBG] Connection id "0HN6LCIM4TITU" received FIN.
2024-09-15 16:00:16.813 +07:00 [DBG] Connection id "0HN6LCIM4TITU" is closed. The last processed stream ID was 1.
2024-09-15 16:00:16.814 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITU completed.
2024-09-15 16:00:16.814 +07:00 [DBG] Connection id "0HN6LCIM4TITU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:16.819 +07:00 [DBG] Connection id "0HN6LCIM4TITU" stopped.
2024-09-15 16:00:22.694 +07:00 [DBG] Connection id "0HN6LCIM4TITV" accepted.
2024-09-15 16:00:22.695 +07:00 [DBG] Connection id "0HN6LCIM4TITV" started.
2024-09-15 16:00:22.699 +07:00 [DBG] Connection 0HN6LCIM4TITV established using the following protocol: "Tls13"
2024-09-15 16:00:22.701 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:22.702 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:22.703 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:22.703 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:22.704 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:22.705 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:22.705 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:22.706 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:22.707 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:22.708 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:22.708 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:22.709 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:22.710 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:22.711 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:22.712 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:22.713 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:22.714 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:22.714 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:22.715 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:22.716 +07:00 [DBG] Connection id "0HN6LCIM4TITV", Request id "0HN6LCIM4TITV:00000001": started reading request body.
2024-09-15 16:00:22.716 +07:00 [DBG] Connection id "0HN6LCIM4TITV", Request id "0HN6LCIM4TITV:00000001": done reading request body.
2024-09-15 16:00:22.717 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:22.717 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:22.718 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:22.718 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:22.720 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:22.721 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:22.722 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:22.723 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:22.723 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:22.723 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:22.724 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:22.724 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:22.725 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:22.725 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:22.726 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:22.727 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:22.727 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:00:22.728 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:22.736 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:22.737 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:22.738 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:22.738 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:22.739 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:22.739 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:22.741 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:22.741 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:22.743 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:22.743 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:22.743 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:22.744 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:22.744 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:22.745 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 34.0507ms
2024-09-15 16:00:22.745 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:22.746 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:22.747 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:22.747 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:22.748 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 47.6433ms
2024-09-15 16:00:26.827 +07:00 [DBG] Connection id "0HN6LCIM4TITV" received FIN.
2024-09-15 16:00:26.828 +07:00 [DBG] Connection id "0HN6LCIM4TITV" is closed. The last processed stream ID was 1.
2024-09-15 16:00:26.828 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TITV completed.
2024-09-15 16:00:26.829 +07:00 [DBG] Connection id "0HN6LCIM4TITV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:26.832 +07:00 [DBG] Connection id "0HN6LCIM4TITV" stopped.
2024-09-15 16:00:28.976 +07:00 [DBG] Connection id "0HN6LCIM4TIU0" accepted.
2024-09-15 16:00:28.977 +07:00 [DBG] Connection id "0HN6LCIM4TIU0" started.
2024-09-15 16:00:28.982 +07:00 [DBG] Connection 0HN6LCIM4TIU0 established using the following protocol: "Tls13"
2024-09-15 16:00:28.984 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:28.985 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:28.986 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:28.986 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:28.987 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:28.987 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:28.988 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:28.988 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:28.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:28.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:28.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:28.992 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:28.993 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:28.993 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:28.994 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:28.995 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:28.995 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:28.996 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:28.997 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:28.998 +07:00 [DBG] Connection id "0HN6LCIM4TIU0", Request id "0HN6LCIM4TIU0:00000001": started reading request body.
2024-09-15 16:00:28.998 +07:00 [DBG] Connection id "0HN6LCIM4TIU0", Request id "0HN6LCIM4TIU0:00000001": done reading request body.
2024-09-15 16:00:28.999 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:29.000 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:29.000 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:29.001 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:29.002 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:29.003 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:29.003 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:29.004 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:29.004 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:29.005 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:29.006 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:29.006 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:29.006 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:29.007 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:29.008 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:29.008 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:29.008 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:29.009 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:29.012 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:29.013 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:29.014 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:29.014 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:29.015 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:29.015 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:29.016 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:29.017 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:29.018 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:29.018 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:29.018 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:29.019 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:29.019 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:29.020 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 26.8465ms
2024-09-15 16:00:29.021 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:29.021 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:29.022 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:29.022 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:29.023 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 39.2765ms
2024-09-15 16:00:35.839 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:35.840 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:35.841 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:35.841 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:35.842 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:35.843 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:35.843 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:35.844 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:35.846 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:35.846 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:35.847 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:35.848 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:35.849 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:35.850 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:35.851 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:35.852 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:35.853 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:35.854 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:35.854 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:35.855 +07:00 [DBG] Connection id "0HN6LCIM4TIU0", Request id "0HN6LCIM4TIU0:00000003": started reading request body.
2024-09-15 16:00:35.855 +07:00 [DBG] Connection id "0HN6LCIM4TIU0", Request id "0HN6LCIM4TIU0:00000003": done reading request body.
2024-09-15 16:00:35.856 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:35.856 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:35.857 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:35.858 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:35.859 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:35.860 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:35.860 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:35.861 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:35.861 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:35.862 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:35.863 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:35.863 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:35.863 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:35.864 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:35.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:35.865 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:35.866 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:00:35.866 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:35.869 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:35.870 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:35.871 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:35.872 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:35.872 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:35.873 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:35.874 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:35.874 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:35.875 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:35.876 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:35.876 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:35.876 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:35.877 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:35.878 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 27.3478ms
2024-09-15 16:00:35.878 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:35.879 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:35.880 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:35.880 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:35.881 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 42.1834ms
2024-09-15 16:00:36.831 +07:00 [DBG] Connection id "0HN6LCIM4TIU0" received FIN.
2024-09-15 16:00:36.831 +07:00 [DBG] Connection id "0HN6LCIM4TIU0" is closed. The last processed stream ID was 3.
2024-09-15 16:00:36.831 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TIU0 completed.
2024-09-15 16:00:36.833 +07:00 [DBG] Connection id "0HN6LCIM4TIU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:36.844 +07:00 [DBG] Connection id "0HN6LCIM4TIU0" stopped.
2024-09-15 16:00:41.618 +07:00 [DBG] Connection id "0HN6LCIM4TIU1" accepted.
2024-09-15 16:00:41.619 +07:00 [DBG] Connection id "0HN6LCIM4TIU1" started.
2024-09-15 16:00:41.622 +07:00 [DBG] Connection 0HN6LCIM4TIU1 established using the following protocol: "Tls13"
2024-09-15 16:00:41.625 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:41.626 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:41.627 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:41.627 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:41.628 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:41.629 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:41.629 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:41.630 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:41.631 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:41.632 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:41.632 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:41.633 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:41.634 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:41.635 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:41.635 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:41.637 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:41.637 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:41.638 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:41.638 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:41.639 +07:00 [DBG] Connection id "0HN6LCIM4TIU1", Request id "0HN6LCIM4TIU1:00000001": started reading request body.
2024-09-15 16:00:41.640 +07:00 [DBG] Connection id "0HN6LCIM4TIU1", Request id "0HN6LCIM4TIU1:00000001": done reading request body.
2024-09-15 16:00:41.640 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:41.641 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:41.641 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:41.642 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:41.644 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:41.645 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:41.645 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:41.646 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:41.646 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:41.647 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:41.647 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:41.648 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:41.648 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:41.649 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:41.649 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:41.650 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:00:41.651 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-15 16:00:41.652 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:41.656 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:41.657 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:41.658 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:41.659 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:41.659 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:41.660 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:41.661 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:41.661 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:41.662 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:41.662 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:41.663 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:41.663 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:41.664 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:41.664 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 29.9279ms
2024-09-15 16:00:41.665 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:41.665 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:41.666 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:41.667 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:41.667 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 43.207ms
2024-09-15 16:00:46.831 +07:00 [DBG] Connection id "0HN6LCIM4TIU1" received FIN.
2024-09-15 16:00:46.831 +07:00 [DBG] Connection id "0HN6LCIM4TIU1" is closed. The last processed stream ID was 1.
2024-09-15 16:00:46.832 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TIU1 completed.
2024-09-15 16:00:46.832 +07:00 [DBG] Connection id "0HN6LCIM4TIU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:46.837 +07:00 [DBG] Connection id "0HN6LCIM4TIU1" stopped.
2024-09-15 16:00:47.500 +07:00 [DBG] Connection id "0HN6LCIM4TIU2" accepted.
2024-09-15 16:00:47.501 +07:00 [DBG] Connection id "0HN6LCIM4TIU2" started.
2024-09-15 16:00:47.505 +07:00 [DBG] Connection 0HN6LCIM4TIU2 established using the following protocol: "Tls13"
2024-09-15 16:00:47.508 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Appointment - application/json-patch+json 137
2024-09-15 16:00:47.510 +07:00 [DBG] POST requests are not supported
2024-09-15 16:00:47.510 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:00:47.511 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:00:47.512 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:47.513 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:00:47.514 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:47.515 +07:00 [INF] Route matched with {action = "Add", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.AppointmentModelForAdd) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:00:47.515 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:00:47.516 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:00:47.518 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:47.519 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:00:47.520 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:00:47.521 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:47.523 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:00:47.523 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:47.524 +07:00 [DBG] Attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' using the name '' in request data ...
2024-09-15 16:00:47.525 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:47.526 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-15 16:00:47.527 +07:00 [DBG] Connection id "0HN6LCIM4TIU2", Request id "0HN6LCIM4TIU2:00000001": started reading request body.
2024-09-15 16:00:47.527 +07:00 [DBG] Connection id "0HN6LCIM4TIU2", Request id "0HN6LCIM4TIU2:00000001": done reading request body.
2024-09-15 16:00:47.528 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:47.529 +07:00 [DBG] Done attempting to bind parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:47.529 +07:00 [DBG] Attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd' ...
2024-09-15 16:00:47.530 +07:00 [DBG] Done attempting to validate the bound parameter 'appointment' of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:47.532 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:00:47.533 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Appointment.AppoitmentId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:47.534 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:47.535 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:47.535 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-09-15 16:00:47.536 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-09-15 16:00:47.536 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:00:47.537 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-15 16:00:47.537 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:47.538 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:47.539 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:00:47.540 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:00:47.541 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:00:47.542 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:47.545 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppoitmentId], [AppoitmentStatus], [AppoitmentTime], [PatientId])
VALUES (@p0, @p1, @p2, @p3);
2024-09-15 16:00:47.547 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:47.548 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-09-15 16:00:47.548 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:47.549 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:00:47.550 +07:00 [DBG] An entity of type 'Appointment' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-15 16:00:47.551 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-09-15 16:00:47.551 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:00:47.553 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:00:47.553 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:00:47.554 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:00:47.554 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:00:47.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.AppointmentModelForAdd'.
2024-09-15 16:00:47.556 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API) in 34.8099ms
2024-09-15 16:00:47.556 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.Add (CityInfo.API)'
2024-09-15 16:00:47.557 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:00:47.558 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:00:47.558 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:00:47.559 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Appointment - 200 124 application/json; charset=utf-8 51.0965ms
2024-09-15 16:00:56.859 +07:00 [DBG] Connection id "0HN6LCIM4TIU2" received FIN.
2024-09-15 16:00:56.861 +07:00 [DBG] Connection id "0HN6LCIM4TIU2" is closed. The last processed stream ID was 1.
2024-09-15 16:00:56.861 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TIU2 completed.
2024-09-15 16:00:56.862 +07:00 [DBG] Connection id "0HN6LCIM4TIU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:00:56.874 +07:00 [DBG] Connection id "0HN6LCIM4TIU2" stopped.
2024-09-15 16:02:03.992 +07:00 [DBG] Connection id "0HN6LCIM4TIU3" accepted.
2024-09-15 16:02:03.993 +07:00 [DBG] Connection id "0HN6LCIM4TIU3" started.
2024-09-15 16:02:04.032 +07:00 [DBG] Connection 0HN6LCIM4TIU3 established using the following protocol: "Tls13"
2024-09-15 16:02:04.047 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - null null
2024-09-15 16:02:04.056 +07:00 [DBG] The request path  does not match the path filter
2024-09-15 16:02:04.059 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-09-15 16:02:04.060 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-09-15 16:02:04.081 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 16:02:04.084 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-15 16:02:04.085 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 16:02:04.121 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-09-15 16:02:04.122 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-15 16:02:04.123 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-15 16:02:04.124 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:02:04.128 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-15 16:02:04.129 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-15 16:02:04.130 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:02:04.135 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-09-15 16:02:04.136 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-09-15 16:02:04.139 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-09-15 16:02:04.142 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-09-15 16:02:04.143 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 16:02:04.144 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-09-15 16:02:04.144 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-09-15 16:02:04.145 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-09-15 16:02:04.146 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-09-15 16:02:04.146 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-09-15 16:02:04.147 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-09-15 16:02:04.148 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 16:02:04.148 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-09-15 16:02:04.149 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-09-15 16:02:04.149 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-09-15 16:02:04.150 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-15 16:02:04.150 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-15 16:02:04.154 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 16:02:04.154 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-15 16:02:04.155 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-15 16:02:04.156 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-15 16:02:04.156 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-09-15 16:02:04.157 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-09-15 16:02:04.158 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 16:02:04.158 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-09-15 16:02:04.159 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-09-15 16:02:04.159 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-09-15 16:02:04.209 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-15 16:02:04.308 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .OrderBy(pt => pt.AppoitmentTime)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(ap => new AppointmentModel{ 
        AppoitmentTime = ap.AppoitmentTime, 
        AppoitmentStatus = ap.AppoitmentStatus, 
        PatientId = ap.PatientId, 
        Gender = ap.Patient.Gender, 
        Avatar = ap.Patient.Avatar, 
        FullName = ap.Patient.FullName, 
        Date = ap.Patient.Date 
    }
    )'
2024-09-15 16:02:04.530 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AppointmentModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            AppoitmentTime -> 0
            AppoitmentStatus -> 1
            PatientId -> 2
            Gender -> 3
            Avatar -> 4
            FullName -> 5
            Date -> 6
        SELECT t.AppoitmentTime, t.AppoitmentStatus, t.PatientId, p.Gender, p.Avatar, p.FullName, p.Date
        FROM 
        (
            SELECT a.AppoitmentStatus, a.AppoitmentTime, a.PatientId
            FROM Appointment AS a
            ORDER BY a.AppoitmentTime ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Patient AS p ON t.PatientId == p.PatientId
        ORDER BY t.AppoitmentTime ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppointmentModel>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-09-15 16:02:04.551 +07:00 [DBG] Creating DbConnection.
2024-09-15 16:02:04.553 +07:00 [DBG] Created DbConnection. (1ms).
2024-09-15 16:02:04.554 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:02:04.557 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:02:04.558 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-15 16:02:04.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-15 16:02:04.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-15 16:02:04.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 16:02:04.581 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppoitmentTime], [t].[AppoitmentStatus], [t].[PatientId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date]
FROM (
    SELECT [a].[AppoitmentStatus], [a].[AppoitmentTime], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppoitmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppoitmentTime]
2024-09-15 16:02:04.591 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:02:04.591 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 9ms reading results.
2024-09-15 16:02:04.592 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:02:04.593 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-09-15 16:02:04.595 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-15 16:02:04.596 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-15 16:02:04.597 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-15 16:02:04.597 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-15 16:02:04.597 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-15 16:02:04.598 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-15 16:02:04.618 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 488.191ms
2024-09-15 16:02:04.619 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-09-15 16:02:04.621 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-09-15 16:02:04.622 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-09-15 16:02:04.622 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-15 16:02:04.623 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=5 - 200 1126 application/json; charset=utf-8 579.512ms
2024-09-15 16:02:06.929 +07:00 [DBG] Connection id "0HN6LCIM4TIU3" received FIN.
2024-09-15 16:02:06.930 +07:00 [DBG] Connection id "0HN6LCIM4TIU3" is closed. The last processed stream ID was 1.
2024-09-15 16:02:06.930 +07:00 [DBG] The connection queue processing loop for 0HN6LCIM4TIU3 completed.
2024-09-15 16:02:06.931 +07:00 [DBG] Connection id "0HN6LCIM4TIU3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-15 16:02:06.932 +07:00 [DBG] Connection id "0HN6LCIM4TIU3" stopped.
