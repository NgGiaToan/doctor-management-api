2024-11-18 12:14:44.879 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-11-18 12:14:45.041 +07:00 [DBG] Hosting starting
2024-11-18 12:14:45.066 +07:00 [INF] User profile is available. Using 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 12:14:45.074 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-401a87b9-185b-4ae6-b430-e2cba568700e.xml'.
2024-11-18 12:14:45.085 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-74288969-9a33-424a-9467-b5621ad6023e.xml'.
2024-11-18 12:14:45.086 +07:00 [DBG] Reading data from file 'C:\Users\giato\AppData\Local\ASP.NET\DataProtection-Keys\key-bea7c23c-cd46-482f-bde2-174e951603a6.xml'.
2024-11-18 12:14:45.092 +07:00 [DBG] Found key {401a87b9-185b-4ae6-b430-e2cba568700e}.
2024-11-18 12:14:45.099 +07:00 [DBG] Found key {74288969-9a33-424a-9467-b5621ad6023e}.
2024-11-18 12:14:45.100 +07:00 [DBG] Found key {bea7c23c-cd46-482f-bde2-174e951603a6}.
2024-11-18 12:14:45.105 +07:00 [DBG] Considering key {bea7c23c-cd46-482f-bde2-174e951603a6} with expiration date 2025-02-11 15:41:41Z as default key.
2024-11-18 12:14:45.108 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-18 12:14:45.111 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-11-18 12:14:45.114 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-18 12:14:45.119 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-11-18 12:14:45.121 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-11-18 12:14:45.122 +07:00 [DBG] Using key {bea7c23c-cd46-482f-bde2-174e951603a6} as the default key.
2024-11-18 12:14:45.123 +07:00 [DBG] Key ring with default key {bea7c23c-cd46-482f-bde2-174e951603a6} was loaded during application startup.
2024-11-18 12:14:45.303 +07:00 [INF] Now listening on: https://localhost:7169
2024-11-18 12:14:45.304 +07:00 [INF] Now listening on: http://localhost:5169
2024-11-18 12:14:45.305 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-11-18 12:14:45.305 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-18 12:14:45.307 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-18 12:14:45.308 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-18 12:14:45.383 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 12:14:45.384 +07:00 [INF] Hosting environment: Development
2024-11-18 12:14:45.384 +07:00 [INF] Content root path: C:\Users\giato\Downloads\Workspace\.Net\api\CityInfo.API
2024-11-18 12:14:45.385 +07:00 [DBG] Hosting started
2024-11-18 12:14:55.048 +07:00 [DBG] Connection id "0HN87HVO5FAEG" accepted.
2024-11-18 12:14:55.049 +07:00 [DBG] Connection id "0HN87HVO5FAEG" started.
2024-11-18 12:14:55.115 +07:00 [DBG] Connection 0HN87HVO5FAEG established using the following protocol: "Tls13"
2024-11-18 12:14:55.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/swagger/index.html - null null
2024-11-18 12:14:55.284 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-11-18 12:14:55.353 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-11-18 12:14:55.355 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-11-18 12:14:55.375 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-11-18 12:14:55.376 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-11-18 12:14:55.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/swagger/index.html - 200 null text/html;charset=utf-8 221.2225ms
2024-11-18 12:14:55.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 12:14:55.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_vs/browserLink - null null
2024-11-18 12:14:55.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 12.6727ms
2024-11-18 12:14:55.449 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.5695ms
2024-11-18 12:14:55.484 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/swagger/v1/swagger.json - null null
2024-11-18 12:14:55.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.0337ms
2024-11-18 12:14:59.839 +07:00 [DBG] Connection id "0HN87HVO5FAEH" accepted.
2024-11-18 12:14:59.840 +07:00 [DBG] Connection id "0HN87HVO5FAEH" started.
2024-11-18 12:14:59.848 +07:00 [DBG] Connection 0HN87HVO5FAEH established using the following protocol: "Tls13"
2024-11-18 12:14:59.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-18 12:14:59.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-18 12:14:59.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-18 12:14:59.860 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:14:59.860 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:14:59.861 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:14:59.862 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:14:59.864 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:14:59.866 +07:00 [DBG] Connection id "0HN87HVO5FAEG" received FIN.
2024-11-18 12:14:59.868 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:14:59.874 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:14:59.881 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:14:59.874 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:14:59.884 +07:00 [DBG] Connection id "0HN87HVO5FAEG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:14:59.888 +07:00 [DBG] Connection id "0HN87HVO5FAEG" is closed. The last processed stream ID was 7.
2024-11-18 12:14:59.890 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEG completed.
2024-11-18 12:14:59.893 +07:00 [DBG] Connection id "0HN87HVO5FAEG" stopped.
2024-11-18 12:14:59.906 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-18 12:14:59.906 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-18 12:14:59.906 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-18 12:14:59.908 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-18 12:14:59.908 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-18 12:14:59.908 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-18 12:14:59.914 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-18 12:14:59.914 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:14:59.915 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-18 12:14:59.962 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:14:59.962 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:14:59.962 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:14:59.965 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:14:59.965 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-18 12:14:59.965 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-18 12:14:59.984 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-18 12:14:59.984 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:14:59.984 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-18 12:14:59.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:14:59.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:14:59.986 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:14:59.987 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:14:59.988 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:14:59.988 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:14:59.989 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:14:59.990 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:14:59.990 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:14:59.991 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:14:59.992 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:14:59.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:14:59.994 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:14:59.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:14:59.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:14:59.998 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:14:59.998 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:14:59.998 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:00.113 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-11-18 12:15:00.113 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-11-18 12:15:00.113 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-11-18 12:15:00.127 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:00.129 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:15:00.129 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:15:00.131 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:00.131 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:00.131 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:00.132 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-18 12:15:00.132 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:00.132 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-18 12:15:00.134 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:00.134 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-18 12:15:00.135 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:00.136 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:00.136 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:00.137 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:00.137 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:00.138 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:00.138 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:00.140 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:00.141 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:00.141 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:00.141 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:00.143 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:00.144 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:00.145 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:00.146 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:00.147 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:00.147 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:00.153 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:00.154 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:00.155 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:00.156 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:00.157 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:00.158 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:00.158 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:00.159 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:00.159 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:00.160 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:00.161 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:00.162 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:00.163 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:00.709 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:00.709 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:00.709 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:00.760 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .OrderBy(pt => pt.AppointmentTime)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(ap => new AppointmentModel{ 
        AppointmentId = ap.AppointmentId, 
        AppointmentTime = ap.AppointmentTime, 
        AppointmentStatus = ap.AppointmentStatus, 
        AppointmentComment = ap.AppointmentComment, 
        AppointmentConfirmed = ap.AppointmentConfirmed, 
        PatientStatus = ap.Patient.Status, 
        PatientId = ap.PatientId, 
        DoctorId = ap.DoctorId, 
        Gender = ap.Patient.Gender, 
        Avatar = ap.Patient.Avatar, 
        FullName = ap.Patient.FullName, 
        Date = ap.Patient.Date, 
        Diseases = ap.Patient.Diseases, 
        Age = DateTime.Now.Year - ap.Patient.Date.Year - DateTime.Now < ap.Patient.Date.AddYears(DateTime.Now.Year - ap.Patient.Date.Year) ? 1 : 0 
    }
    )'
2024-11-18 12:15:00.760 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(p => p.Time.Year < __n_0)'
2024-11-18 12:15:00.760 +07:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Where(ap => ap.AppointmentConfirmed == "Finished")
    .OrderByDescending(ap => ap.AppointmentTime)
    .Take(__p_0)
    .Select(ap => new AppointmentModel{ 
        AppointmentId = ap.AppointmentId, 
        AppointmentTime = ap.AppointmentTime, 
        AppointmentStatus = ap.AppointmentStatus, 
        AppointmentComment = ap.AppointmentComment, 
        AppointmentConfirmed = ap.AppointmentConfirmed, 
        PatientStatus = ap.Patient.Status, 
        PatientId = ap.PatientId, 
        DoctorId = ap.DoctorId, 
        Gender = ap.Patient.Gender, 
        Avatar = ap.Patient.Avatar, 
        FullName = ap.Patient.FullName, 
        Date = ap.Patient.Date, 
        Diseases = ap.Patient.Diseases, 
        Age = DateTime.Now.Year - ap.Patient.Date.Year - DateTime.Now < ap.Patient.Date.AddYears(DateTime.Now.Year - ap.Patient.Date.Year) ? 1 : 0 
    }
    )'
2024-11-18 12:15:00.893 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AppointmentModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            AppointmentId -> 0
            AppointmentTime -> 1
            AppointmentStatus -> 2
            AppointmentComment -> 3
            AppointmentConfirmed -> 4
            PatientStatus -> 5
            PatientId -> 6
            DoctorId -> 7
            Gender -> 8
            Avatar -> 9
            FullName -> 10
            Date -> 11
            Diseases -> 12
            Age -> 13
        SELECT t.AppointmentId, t.AppointmentTime, t.AppointmentStatus, t.AppointmentComment, t.AppointmentConfirmed, p.Status AS PatientStatus, t.PatientId, t.DoctorId, p.Gender, p.Avatar, p.FullName, p.Date, p.Diseases, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
            WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
            ELSE 0
        END AS Age
        FROM 
        (
            SELECT a.AppointmentId, a.AppointmentComment, a.AppointmentConfirmed, a.AppointmentStatus, a.AppointmentTime, a.DoctorId, a.PatientId
            FROM Appointment AS a
            ORDER BY a.AppointmentTime ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Patient AS p ON t.PatientId == p.PatientId
        ORDER BY t.AppointmentTime ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppointmentModel>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:00.893 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AppointmentModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            AppointmentId -> 0
            AppointmentTime -> 1
            AppointmentStatus -> 2
            AppointmentComment -> 3
            AppointmentConfirmed -> 4
            PatientStatus -> 5
            PatientId -> 6
            DoctorId -> 7
            Gender -> 8
            Avatar -> 9
            FullName -> 10
            Date -> 11
            Diseases -> 12
            Age -> 13
        SELECT t.AppointmentId, t.AppointmentTime, t.AppointmentStatus, t.AppointmentComment, t.AppointmentConfirmed, p.Status AS PatientStatus, t.PatientId, t.DoctorId, p.Gender, p.Avatar, p.FullName, p.Date, p.Diseases, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
            WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
            ELSE 0
        END AS Age
        FROM 
        (
            SELECT TOP(@__p_0) a.AppointmentId, a.AppointmentComment, a.AppointmentConfirmed, a.AppointmentStatus, a.AppointmentTime, a.DoctorId, a.PatientId
            FROM Appointment AS a
            WHERE a.AppointmentConfirmed == N'Finished'
            ORDER BY a.AppointmentTime DESC
        ) AS t
        INNER JOIN Patient AS p ON t.PatientId == p.PatientId
        ORDER BY t.AppointmentTime DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppointmentModel>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:00.895 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Patient>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Avatar (string) Required MaxLength(255), 1], [Property: Patient.Date (DateTime) Required, 2], [Property: Patient.Diseases (string) Required MaxLength(500), 3], [Property: Patient.Email (string) Required MaxLength(100), 4], [Property: Patient.FullName (string) Required MaxLength(100), 5], [Property: Patient.Gender (string) Required, 6], [Property: Patient.Location (string) Required MaxLength(255), 7], [Property: Patient.PaymentId (Guid) Required FK Index, 8], [Property: Patient.PhoneNumber (string) Required MaxLength(15), 9], [Property: Patient.Status (string) Required, 10], [Property: Patient.Time (DateTime) Required, 11] }
        SELECT p.PatientId, p.Avatar, p.Date, p.Diseases, p.Email, p.FullName, p.Gender, p.Location, p.PaymentId, p.PhoneNumber, p.Status, p.Time
        FROM Patient AS p
        WHERE DATEPART(year, p.Time) < @__n_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:00.915 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:00.915 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:00.915 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:00.935 +07:00 [DBG] Created DbConnection. (19ms).
2024-11-18 12:15:00.935 +07:00 [DBG] Created DbConnection. (19ms).
2024-11-18 12:15:00.935 +07:00 [DBG] Created DbConnection. (19ms).
2024-11-18 12:15:00.937 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:00.937 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:00.937 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.212 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.213 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.215 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.215 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.215 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.216 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.218 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:15:01.218 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:15:01.218 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:01.225 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-11-18 12:15:01.225 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-11-18 12:15:01.225 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-11-18 12:15:01.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:01.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-18 12:15:01.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-18 12:15:01.314 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-18 12:15:01.314 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-18 12:15:01.314 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:01.327 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.327 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.334 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 13ms reading results.
2024-11-18 12:15:01.334 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 14ms reading results.
2024-11-18 12:15:01.337 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.337 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.360 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (22ms).
2024-11-18 12:15:01.360 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (22ms).
2024-11-18 12:15:01.365 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:01.365 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:01.366 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.368 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:01.368 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:01.370 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:01.370 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:01.371 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:01.371 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:01.373 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:01.373 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:01.374 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:01.374 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:01.394 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.395 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.396 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.397 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.398 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.399 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.400 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.401 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.402 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.402 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.403 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.404 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.405 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.406 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.407 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.408 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.409 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.409 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.410 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.411 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.412 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.413 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.414 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.415 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.415 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.416 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.417 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.418 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.419 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.420 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.421 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.422 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.422 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.423 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.424 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.425 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.426 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.427 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.428 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.429 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.430 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.430 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.431 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.432 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 114ms reading results.
2024-11-18 12:15:01.434 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.435 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:01.436 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(p => p.Time.Year == __n_0)'
2024-11-18 12:15:01.440 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Patient>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Avatar (string) Required MaxLength(255), 1], [Property: Patient.Date (DateTime) Required, 2], [Property: Patient.Diseases (string) Required MaxLength(500), 3], [Property: Patient.Email (string) Required MaxLength(100), 4], [Property: Patient.FullName (string) Required MaxLength(100), 5], [Property: Patient.Gender (string) Required, 6], [Property: Patient.Location (string) Required MaxLength(255), 7], [Property: Patient.PaymentId (Guid) Required FK Index, 8], [Property: Patient.PhoneNumber (string) Required MaxLength(15), 9], [Property: Patient.Status (string) Required, 10], [Property: Patient.Time (DateTime) Required, 11] }
        SELECT p.PatientId, p.Avatar, p.Date, p.Diseases, p.Email, p.FullName, p.Gender, p.Location, p.PaymentId, p.PhoneNumber, p.Status, p.Time
        FROM Patient AS p
        WHERE DATEPART(year, p.Time) == @__n_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:01.444 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.446 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.447 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.448 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:01.449 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:01.450 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:01.460 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:01.460 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 1463.4352ms
2024-11-18 12:15:01.460 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 1459.606ms
2024-11-18 12:15:01.461 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.462 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-18 12:15:01.462 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-18 12:15:01.463 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.464 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.465 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:01.465 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:01.465 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.467 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.468 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.469 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.470 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.470 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.470 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 9ms reading results.
2024-11-18 12:15:01.472 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:15:01.472 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:15:01.473 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 1623.0845ms
2024-11-18 12:15:01.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 1623.5452ms
2024-11-18 12:15:01.475 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 12:15:01.483 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Count()'
2024-11-18 12:15:01.501 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Patient AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-11-18 12:15:01.505 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.506 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.507 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.508 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:01.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:01.511 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:01.515 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:01.516 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.517 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:15:01.518 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.518 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:01.520 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:01.521 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:01.521 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:01.522 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:01.522 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:01.523 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-18 12:15:01.528 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 1530.9635ms
2024-11-18 12:15:01.529 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:01.530 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:01.530 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-18 12:15:01.531 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.532 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:01.532 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:01.533 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:01.533 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 1682.5434ms
2024-11-18 12:15:01.534 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:01.536 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-18 12:15:01.537 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-18 12:15:01.538 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:01.540 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:01.541 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:01.543 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:01.544 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:01.544 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:01.545 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:01.546 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:01.547 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:01.548 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:01.554 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:01.559 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:01.560 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-18 12:15:01.561 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:01.562 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:01.565 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:01.567 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:01.617 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:01.628 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:01.629 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:15:01.630 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.631 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.631 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.633 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:01.634 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:01.635 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:01.638 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:01.641 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.641 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.642 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.643 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.644 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.645 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.645 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.646 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.647 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.648 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.649 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.650 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.651 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.652 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.653 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.653 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.654 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.655 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.656 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.657 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.657 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.658 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.658 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.659 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.660 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.661 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.661 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.662 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.663 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.664 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.665 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.665 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.666 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.666 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.667 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.668 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.669 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.670 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.671 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.671 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.672 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.673 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.673 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.674 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.675 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 34ms reading results.
2024-11-18 12:15:01.676 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.676 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:01.677 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.678 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.679 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.679 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:01.680 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:01.681 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:01.685 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:01.687 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.688 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.689 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.690 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.692 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.693 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:01.693 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.694 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 7ms reading results.
2024-11-18 12:15:01.695 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.696 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:01.697 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.698 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.699 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:01.699 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:01.700 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:01.700 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:01.703 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:01.704 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.705 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:15:01.706 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.706 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:01.707 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:01.708 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:01.708 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:01.709 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:01.709 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:01.710 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-18 12:15:01.711 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 162.5432ms
2024-11-18 12:15:01.712 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:01.712 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:01.713 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:01.713 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:01.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 183.9667ms
2024-11-18 12:15:04.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:15:04.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:04.068 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:04.069 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:04.070 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:04.071 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:04.071 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:04.072 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:04.072 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:04.073 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:04.074 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:04.075 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:04.076 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:04.076 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:04.078 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:04.078 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:04.079 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:04.079 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:04.082 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:04.082 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:04.084 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:04.085 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:04.085 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:04.086 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:04.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:04.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:04.089 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:04.090 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:04.091 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:04.092 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:04.092 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:04.093 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:04.096 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:04.096 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:04.096 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:04.097 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:04.098 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:04.098 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:04.099 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:04.100 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:04.100 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:04.101 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:04.102 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:04.102 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:04.103 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:04.103 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:04.104 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:04.105 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:04.105 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:04.106 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:04.107 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.107 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.108 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.108 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.109 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.109 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.110 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:04.110 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:04.111 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.112 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:04.112 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:04.113 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:04.114 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:04.114 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:04.115 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:04.115 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:04.116 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:04.116 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:04.117 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:04.117 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:04.118 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:04.118 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:04.119 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:04.120 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:04.121 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:04.121 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:04.122 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:04.122 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:04.123 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:04.123 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:04.124 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:04.124 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:04.125 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:04.126 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:04.129 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:04.129 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:04.131 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .OrderBy(pt => pt.FullName)
    .Select(pt => new PatientVM{ 
        PatientId = pt.PatientId, 
        Status = pt.Status, 
        Gender = pt.Gender, 
        Avatar = pt.Avatar, 
        FullName = pt.FullName, 
        Date = pt.Date, 
        Time = pt.Time, 
        Location = pt.Location, 
        Email = pt.Email, 
        PhoneNumber = pt.PhoneNumber, 
        Diseases = pt.Diseases, 
        PaymentId = pt.PaymentId, 
        Age = DateTime.Now.Year - pt.Date.Year - DateTime.Now < pt.Date.AddYears(DateTime.Now.Year - pt.Date.Year) ? 1 : 0 
    }
    )'
2024-11-18 12:15:04.131 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .OrderBy(pt => pt.FullName)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(pt => new PatientVM{ 
        PatientId = pt.PatientId, 
        Status = pt.Status, 
        Gender = pt.Gender, 
        Avatar = pt.Avatar, 
        FullName = pt.FullName, 
        Date = pt.Date, 
        Time = pt.Time, 
        Location = pt.Location, 
        Email = pt.Email, 
        PhoneNumber = pt.PhoneNumber, 
        Diseases = pt.Diseases, 
        PaymentId = pt.PaymentId, 
        Age = DateTime.Now.Year - pt.Date.Year - DateTime.Now < pt.Date.AddYears(DateTime.Now.Year - pt.Date.Year) ? 1 : 0 
    }
    )'
2024-11-18 12:15:04.136 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientVM>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            PatientId -> 0
            Status -> 1
            Gender -> 2
            Avatar -> 3
            FullName -> 4
            Date -> 5
            Time -> 6
            Location -> 7
            Email -> 8
            PhoneNumber -> 9
            Diseases -> 10
            PaymentId -> 11
            Age -> 12
        SELECT p.PatientId, p.Status, p.Gender, p.Avatar, p.FullName, p.Date, p.Time, p.Location, p.Email, p.PhoneNumber, p.Diseases, p.PaymentId, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
            WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
            ELSE 0
        END AS Age
        FROM Patient AS p
        ORDER BY p.FullName ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientVM>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:04.136 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientVM>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            PatientId -> 0
            Status -> 1
            Gender -> 2
            Avatar -> 3
            FullName -> 4
            Date -> 5
            Time -> 6
            Location -> 7
            Email -> 8
            PhoneNumber -> 9
            Diseases -> 10
            PaymentId -> 11
            Age -> 12
        SELECT p.PatientId, p.Status, p.Gender, p.Avatar, p.FullName, p.Date, p.Time, p.Location, p.Email, p.PhoneNumber, p.Diseases, p.PaymentId, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
            WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
            ELSE 0
        END AS Age
        FROM Patient AS p
        ORDER BY p.FullName ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientVM>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:04.137 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:04.137 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:04.138 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:04.138 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:04.138 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.139 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.139 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.140 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.141 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:04.141 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:04.142 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:04.142 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:04.142 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:04.143 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:04.143 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:04.144 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:04.150 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:04.150 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:04.152 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.152 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.153 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:15:04.154 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:04.154 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.155 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.155 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:04.156 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:04.157 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:04.157 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:04.158 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:04.159 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:04.160 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:04.160 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:04.160 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:04.161 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:04.161 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:04.162 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:04.162 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:04.163 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:04.167 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 74.7334ms
2024-11-18 12:15:04.168 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:04.170 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:04.170 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.171 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:04.172 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 106.5143ms
2024-11-18 12:15:04.174 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 81.1125ms
2024-11-18 12:15:04.176 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:04.177 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:04.178 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:04.178 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:04.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 113.7522ms
2024-11-18 12:15:05.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-18 12:15:05.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-18 12:15:05.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-18 12:15:05.232 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:05.233 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:05.235 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:05.235 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:05.236 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:05.237 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:05.237 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:05.238 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:05.238 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:05.239 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-18 12:15:05.239 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-18 12:15:05.240 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-18 12:15:05.241 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-18 12:15:05.241 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-18 12:15:05.242 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-18 12:15:05.244 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-18 12:15:05.244 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-18 12:15:05.245 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:05.246 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:05.246 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:05.247 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:05.247 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-18 12:15:05.248 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-18 12:15:05.248 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:05.249 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-18 12:15:05.249 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-18 12:15:05.250 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:05.251 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:05.252 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:05.253 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:05.254 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:05.255 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:05.255 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:05.256 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.258 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.259 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:05.260 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:05.261 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:05.262 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.263 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.263 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.264 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:15:05.265 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:15:05.266 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:05.268 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:05.269 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:15:05.269 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-18 12:15:05.269 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:05.270 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:05.270 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:05.271 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-18 12:15:05.272 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-18 12:15:05.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:05.274 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.275 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.275 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-18 12:15:05.276 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.276 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:05.278 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:05.279 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:05.279 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:05.280 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.281 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.281 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:05.283 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:05.283 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:05.283 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:05.285 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:05.285 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:05.286 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:15:05.287 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:05.288 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.288 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:05.288 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:05.289 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.289 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:15:05.290 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:05.290 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.291 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.292 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:05.292 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.293 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.293 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:05.294 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:15:05.295 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.295 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:05.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:05.296 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.297 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:05.299 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-18 12:15:05.300 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:05.301 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-18 12:15:05.302 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:05.302 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:05.304 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:05.305 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.305 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:05.306 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.306 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:05.307 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.307 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-18 12:15:05.308 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:05.309 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.310 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.310 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:05.311 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.311 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:05.312 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:05.313 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.314 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.314 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:05.315 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.316 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:05.316 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:05.317 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.318 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:05.318 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:05.319 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.320 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:05.321 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:05.322 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.322 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:05.323 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.323 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:05.324 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:05.324 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.325 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:15:05.325 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:05.326 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.326 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:05.328 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.329 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.330 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 64.7996ms
2024-11-18 12:15:05.331 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.330 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.332 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-18 12:15:05.332 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.333 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.333 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:05.334 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:15:05.335 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.335 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-18 12:15:05.337 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.337 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:15:05.339 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.340 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 109.1663ms
2024-11-18 12:15:05.341 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.343 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.343 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-18 12:15:05.344 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.345 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.346 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.346 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:05.347 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.348 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.349 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.350 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 12:15:05.351 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.352 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:05.353 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.354 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:05.355 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.355 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:05.356 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.356 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:05.357 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.357 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:05.357 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:05.358 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.360 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.360 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 95.9425ms
2024-11-18 12:15:05.361 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.362 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-18 12:15:05.362 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.363 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:05.363 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.364 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.364 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.365 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:05.365 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 136.2745ms
2024-11-18 12:15:05.366 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.368 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.369 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.370 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.370 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.371 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.372 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 67ms reading results.
2024-11-18 12:15:05.372 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.373 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:05.374 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.377 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.378 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.378 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:05.379 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.380 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:05.384 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:05.386 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.387 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.387 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.388 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.389 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.391 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.392 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.392 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-18 12:15:05.393 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.394 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:05.395 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.396 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.397 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.398 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:05.398 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.399 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:05.401 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:05.402 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.402 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:15:05.403 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.404 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:05.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:05.407 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:05.408 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:05.408 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:05.408 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:05.409 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-18 12:15:05.410 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 143.9044ms
2024-11-18 12:15:05.411 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:05.411 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:05.412 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-18 12:15:05.413 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.414 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:05.414 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:05.415 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:05.415 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 184.6358ms
2024-11-18 12:15:05.416 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:05.418 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-18 12:15:05.418 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-18 12:15:05.420 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:05.420 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:05.421 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:05.421 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:05.422 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:05.423 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:05.424 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.425 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:05.426 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:05.427 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:05.428 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:05.429 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:05.430 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-18 12:15:05.430 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.431 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.432 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-18 12:15:05.433 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-18 12:15:05.435 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:05.436 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:05.436 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:05.437 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.438 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.439 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.440 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:05.440 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.441 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:05.445 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-18 12:15:05.447 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.448 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.449 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.449 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.450 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.451 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.452 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.452 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.453 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.454 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.455 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.456 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.456 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.457 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.458 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.459 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.459 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.460 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.461 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.462 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.462 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.463 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.463 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.464 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.465 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.465 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.466 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.467 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.468 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.469 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.470 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.471 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.471 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.473 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.474 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.475 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.476 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.477 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.478 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.478 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.479 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.480 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.481 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.482 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.483 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 36ms reading results.
2024-11-18 12:15:05.485 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.486 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:05.488 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.489 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.490 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:05.491 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.492 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:05.497 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-18 12:15:05.499 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.502 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.503 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.504 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.505 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.506 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-18 12:15:05.506 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.508 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 8ms reading results.
2024-11-18 12:15:05.509 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.510 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:05.511 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.512 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.512 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:05.513 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:05.514 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:05.515 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:05.518 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-18 12:15:05.520 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.521 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:05.523 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.524 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:05.525 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:05.526 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:05.527 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:05.527 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:05.527 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:05.528 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-18 12:15:05.529 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 102.2476ms
2024-11-18 12:15:05.530 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-18 12:15:05.531 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:05.531 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:05.532 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:05.533 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 120.9849ms
2024-11-18 12:15:06.196 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:06.196 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:15:06.199 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:06.201 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:06.202 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:06.203 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:06.204 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:06.204 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:06.205 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:06.205 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:06.207 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:06.208 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:06.210 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:06.210 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:06.211 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:06.212 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:06.213 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:06.214 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:06.214 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:06.216 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:06.217 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:06.218 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:06.219 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:06.220 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:06.221 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:06.222 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:06.224 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:06.226 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:06.227 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:06.228 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:06.230 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:06.231 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:06.233 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:06.234 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:06.234 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:06.235 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:06.236 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:06.237 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:06.239 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:06.240 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:06.240 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:06.241 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:06.241 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:06.242 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:06.243 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:06.244 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:06.244 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:06.245 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:06.245 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:06.246 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:06.247 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.248 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.248 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.249 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.250 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.251 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.251 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:06.252 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:06.253 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.253 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:06.254 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:06.255 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:06.255 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:06.256 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:06.257 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:06.258 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:06.258 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:06.259 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:06.260 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:06.261 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:06.261 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:06.262 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:06.262 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:06.263 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:06.264 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:06.265 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:06.266 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:06.266 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:06.267 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:06.268 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:06.268 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:06.269 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:06.269 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:06.270 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:06.272 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:06.273 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:06.274 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:06.274 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:06.275 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:06.275 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.275 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:06.276 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.276 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.277 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:06.278 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.279 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:06.279 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:06.280 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:15:06.281 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:06.282 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:06.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:06.284 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:06.287 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:06.290 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.290 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:06.291 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:15:06.292 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.293 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.293 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:06.294 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:06.295 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.296 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:06.296 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:06.298 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:06.298 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:06.299 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:06.300 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:06.300 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:06.301 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:06.301 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:06.302 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:06.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:06.302 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:06.304 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:06.306 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.4299ms
2024-11-18 12:15:06.306 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 75.0618ms
2024-11-18 12:15:06.307 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:06.307 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:06.308 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:06.309 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:06.310 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.310 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:06.324 +07:00 [DBG] Disposed connection to database '' on server '' (14ms).
2024-11-18 12:15:06.326 +07:00 [DBG] Disposed connection to database '' on server '' (15ms).
2024-11-18 12:15:06.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 134.3281ms
2024-11-18 12:15:06.332 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 135.381ms
2024-11-18 12:15:09.867 +07:00 [DBG] Connection id "0HN87HVO5FAEH" received FIN.
2024-11-18 12:15:09.868 +07:00 [DBG] Connection id "0HN87HVO5FAEH" is closed. The last processed stream ID was 23.
2024-11-18 12:15:09.868 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEH completed.
2024-11-18 12:15:09.869 +07:00 [DBG] Connection id "0HN87HVO5FAEH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:15:09.882 +07:00 [DBG] Connection id "0HN87HVO5FAEH" stopped.
2024-11-18 12:15:11.073 +07:00 [DBG] Connection id "0HN87HVO5FAEI" accepted.
2024-11-18 12:15:11.073 +07:00 [DBG] Connection id "0HN87HVO5FAEI" started.
2024-11-18 12:15:11.076 +07:00 [DBG] Connection 0HN87HVO5FAEI established using the following protocol: "Tls13"
2024-11-18 12:15:11.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:11.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-18 12:15:11.079 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:11.080 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:11.081 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:11.081 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:11.081 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:11.082 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:11.082 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:11.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:11.083 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:11.084 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:11.085 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:11.085 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:11.086 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:11.086 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:11.087 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:11.087 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:11.088 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:11.088 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:11.089 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:11.089 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:11.090 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:11.091 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:11.091 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:11.092 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:11.093 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:11.094 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:11.094 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:11.095 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:11.095 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:11.096 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:11.097 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:11.098 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:11.098 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:11.099 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:11.099 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:11.100 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:11.101 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:11.101 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:11.102 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:11.102 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:11.103 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:11.104 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:11.104 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:11.105 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:11.106 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:11.106 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:11.107 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:11.108 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:11.108 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.109 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.110 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.110 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.111 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.112 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.112 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:11.113 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:11.114 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.114 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:11.115 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:11.115 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:11.116 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:11.116 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:11.117 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:11.117 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:11.118 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:11.118 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:11.119 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:11.120 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:11.120 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:11.121 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:11.121 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:11.122 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:11.122 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:11.123 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:11.123 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:11.124 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:11.124 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:11.125 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:11.126 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:11.126 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:11.127 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:11.127 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:11.128 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:11.129 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:11.130 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:11.130 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:11.131 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .OrderBy(pt => pt.FullName)
    .Skip(__p_0)
    .Take(__p_0)
    .Select(pt => new PatientVM{ 
        PatientId = pt.PatientId, 
        Status = pt.Status, 
        Gender = pt.Gender, 
        Avatar = pt.Avatar, 
        FullName = pt.FullName, 
        Date = pt.Date, 
        Time = pt.Time, 
        Location = pt.Location, 
        Email = pt.Email, 
        PhoneNumber = pt.PhoneNumber, 
        Diseases = pt.Diseases, 
        PaymentId = pt.PaymentId, 
        Age = DateTime.Now.Year - pt.Date.Year - DateTime.Now < pt.Date.AddYears(DateTime.Now.Year - pt.Date.Year) ? 1 : 0 
    }
    )'
2024-11-18 12:15:11.131 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.132 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.133 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:11.133 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:11.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:11.135 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:11.135 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientVM>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            PatientId -> 0
            Status -> 1
            Gender -> 2
            Avatar -> 3
            FullName -> 4
            Date -> 5
            Time -> 6
            Location -> 7
            Email -> 8
            PhoneNumber -> 9
            Diseases -> 10
            PaymentId -> 11
            Age -> 12
        SELECT p.PatientId, p.Status, p.Gender, p.Avatar, p.FullName, p.Date, p.Time, p.Location, p.Email, p.PhoneNumber, p.Diseases, p.PaymentId, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
            WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
            ELSE 0
        END AS Age
        FROM Patient AS p
        ORDER BY p.FullName ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientVM>, 
    CityInfo.API.DbContexts.DoctorManagementContext, 
    False, 
    False, 
    True
)'
2024-11-18 12:15:11.136 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:11.137 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:11.137 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.138 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.138 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:11.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:11.140 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.140 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:11.140 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:15:11.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:11.142 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.142 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 12:15:11.143 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:11.144 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:11.145 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:11.146 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:11.146 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 12:15:11.146 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:11.147 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:11.148 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:15:11.149 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:11.149 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.151 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:11.152 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.7922ms
2024-11-18 12:15:11.153 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:11.153 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:11.154 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:11.155 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:11.155 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:11.156 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.156 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:11.156 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:11.157 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:11.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 79.4986ms
2024-11-18 12:15:11.158 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:11.160 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.1552ms
2024-11-18 12:15:11.161 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:11.161 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:11.162 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:11.163 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:11.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 85.9926ms
2024-11-18 12:15:12.853 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:15:12.853 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:12.855 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:12.856 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:12.857 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:12.857 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:12.858 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:12.858 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:12.858 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:12.859 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:12.859 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:12.860 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:12.860 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:12.861 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:12.862 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:12.862 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:12.863 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:12.864 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:12.864 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:12.864 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:12.865 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:12.866 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:12.867 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:12.867 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:12.868 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:12.869 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:12.870 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:12.871 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:12.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:12.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:12.873 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:12.874 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:12.875 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:12.875 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:12.876 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:12.876 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:12.877 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:12.878 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:12.878 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:12.879 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:12.879 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:12.880 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:12.881 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:12.881 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:12.882 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:12.882 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:12.883 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:12.883 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:12.884 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:12.885 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:12.885 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.886 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.886 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.887 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.888 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.888 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.889 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:12.889 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:12.890 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.891 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:12.891 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:12.892 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:12.893 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:12.893 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:12.894 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:12.895 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:12.895 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:12.896 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:12.896 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:12.897 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:12.898 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:12.898 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:12.899 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:12.899 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:12.900 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:12.900 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:12.901 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:12.902 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:12.902 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:12.903 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:12.903 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:12.904 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:12.905 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:12.905 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:12.906 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:12.907 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:12.908 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:12.908 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:12.908 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:12.909 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:12.909 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.910 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.911 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.911 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.912 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:12.912 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:12.913 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:12.913 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:12.914 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:12.915 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:12.915 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:12.916 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:12.921 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:12.921 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:12.922 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.923 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.923 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:12.924 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:12.925 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.926 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.926 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:12.927 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:12.928 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:12.928 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:12.929 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:12.930 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:12.931 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:12.931 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:12.932 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:12.932 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:12.932 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:12.933 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:12.933 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:12.934 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:12.936 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.1451ms
2024-11-18 12:15:12.937 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.7386ms
2024-11-18 12:15:12.937 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:12.938 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:12.938 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:12.939 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:12.940 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.940 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:12.941 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:12.942 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:12.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 89.32ms
2024-11-18 12:15:12.943 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 89.8891ms
2024-11-18 12:15:14.753 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-18 12:15:14.753 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:14.755 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:14.756 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:14.756 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:14.756 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:14.757 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:14.757 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:14.758 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:14.758 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:14.759 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:14.759 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:14.760 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.761 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.761 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:14.761 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:14.762 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.762 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.763 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:14.763 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:14.764 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:14.765 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:14.765 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:14.767 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:14.768 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.769 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.770 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:14.771 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:14.772 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.772 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.773 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.774 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.775 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.776 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.776 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.777 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.777 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:14.778 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:14.779 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.780 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.781 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.781 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.782 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.783 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.783 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.784 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.784 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.786 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.786 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:14.787 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:14.788 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.788 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.789 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.790 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.790 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.791 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.791 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.792 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.793 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.793 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.794 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.794 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.795 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:14.795 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:14.796 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.796 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.797 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.798 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.798 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.799 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.800 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.800 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.801 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.801 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.802 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:14.802 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:14.803 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.804 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.804 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.805 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.806 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.806 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.807 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.807 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.808 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:14.809 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:14.810 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:14.811 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:14.811 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:14.811 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:14.812 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.812 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.813 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.815 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.815 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:14.816 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:14.816 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:14.817 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:14.817 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:14.818 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:14.818 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 12:15:14.819 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:14.823 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 12:15:14.823 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:14.824 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.826 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.826 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:14.827 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:14.828 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.829 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.829 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:14.830 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:14.831 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:14.831 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:14.832 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:14.834 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:14.834 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:14.834 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:14.835 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:14.835 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:14.835 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:14.836 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:14.836 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:14.837 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:14.838 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.4675ms
2024-11-18 12:15:14.840 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.841 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.4427ms
2024-11-18 12:15:14.841 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:14.842 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.842 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.843 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:14.843 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:14.844 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 92.0211ms
2024-11-18 12:15:14.846 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:14.848 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 94.9524ms
2024-11-18 12:15:14.936 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - null null
2024-11-18 12:15:14.936 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:14.938 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:14.939 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:14.940 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:14.940 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:14.941 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:14.941 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:14.941 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:14.942 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:14.942 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:14.943 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:14.944 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.944 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.945 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:14.945 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:14.946 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.946 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:14.947 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:14.947 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:14.948 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:14.949 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:14.950 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:14.951 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:14.951 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.952 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.953 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:14.954 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:14.955 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.955 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:14.956 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.957 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.957 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.958 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:14.959 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.959 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.960 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:14.960 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:14.961 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.961 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.962 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.962 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.963 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.964 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:14.964 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.965 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:14.965 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.966 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.967 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:14.967 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:14.968 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.968 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.969 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.970 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.970 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.971 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.971 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.972 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:14.972 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.973 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:14.973 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.974 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.974 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:14.975 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:14.976 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.976 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.977 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.977 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.978 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.978 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:14.979 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.979 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:14.980 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.981 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.981 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:14.982 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:14.982 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.983 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.983 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.984 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.984 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.985 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:14.986 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.986 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:14.987 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:14.988 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:14.989 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:14.989 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:14.989 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:14.990 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:14.990 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.991 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.991 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.992 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:14.992 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:14.993 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:14.993 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:14.994 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:14.994 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:14.995 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:14.995 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:14.996 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:14.999 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:14.999 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:15.000 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.001 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.002 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:15.002 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:15.003 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.004 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.004 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:15.005 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:15:15.005 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:15.006 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:15.007 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:15.008 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:15.008 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:15.009 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:15.009 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:15.009 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:15.010 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:15.010 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:15.011 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:15.011 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:15.014 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.6206ms
2024-11-18 12:15:15.014 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.5255ms
2024-11-18 12:15:15.015 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:15.015 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:15.016 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:15.016 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:15.017 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.018 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:15.018 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.019 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - 200 2123 application/json; charset=utf-8 83.2669ms
2024-11-18 12:15:15.020 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:15:15.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 86.7325ms
2024-11-18 12:15:15.939 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:15.939 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-18 12:15:15.940 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:15.941 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:15.942 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:15.942 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:15.942 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:15.943 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:15.943 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:15.943 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:15.944 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:15.945 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:15.945 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:15.946 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:15.947 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:15.947 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:15.947 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:15.948 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:15.948 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:15.949 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:15.949 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:15.950 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:15.951 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:15.952 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:15.952 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:15.953 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:15.954 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:15.955 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:15.955 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:15.956 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:15.957 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:15.957 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:15.958 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:15.959 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:15.959 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:15.960 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:15.960 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:15.961 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:15.961 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:15.962 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:15.963 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:15.963 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:15.964 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:15.964 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:15.965 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:15.965 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:15.966 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:15.966 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:15.967 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:15.968 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:15.968 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.969 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.969 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.970 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.970 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.971 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.971 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:15.972 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:15.972 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.973 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:15.974 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:15.974 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:15.975 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:15.975 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:15.976 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:15.976 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:15.977 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:15.977 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:15.978 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:15.979 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:15.979 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:15.980 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:15.980 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:15.981 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:15.982 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:15.982 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:15.983 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:15.984 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:15.984 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:15.985 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:15.985 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:15.986 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:15.987 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:15.988 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:15.989 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:15.989 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:15.990 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:15.991 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:15.991 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:15.991 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:15.992 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.992 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.993 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.993 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:15.994 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:15.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:15.995 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:15.996 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:15.996 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:15.997 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:15.997 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:15.998 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 12:15:16.002 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:16.002 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 12:15:16.003 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.004 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.004 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:16.005 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:16.006 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.006 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.007 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:16.007 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:16.008 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:16.009 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:16.010 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:16.011 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:16.011 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:16.012 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:16.012 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:16.012 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:16.013 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:16.013 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:16.014 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:16.014 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:16.015 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.7598ms
2024-11-18 12:15:16.017 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.019 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.8304ms
2024-11-18 12:15:16.019 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:16.019 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.020 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.020 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:16.021 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:16.022 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 84.5804ms
2024-11-18 12:15:16.024 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:15:16.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.7148ms
2024-11-18 12:15:16.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:16.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - null null
2024-11-18 12:15:16.723 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:16.724 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:16.725 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:16.725 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:16.726 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:16.726 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:16.726 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:16.727 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:16.727 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:16.727 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:16.728 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.729 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.730 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:16.730 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:16.731 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.731 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.732 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:16.732 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:16.733 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:16.734 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:16.734 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:16.735 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:16.735 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:16.736 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:16.737 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:16.738 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:16.739 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:16.739 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:16.740 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:16.741 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:16.741 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:16.742 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:16.742 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:16.743 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:16.743 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:16.744 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:16.745 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:16.745 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:16.746 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:16.746 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:16.747 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:16.747 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:16.748 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:16.748 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:16.749 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:16.749 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:16.750 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:16.750 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:16.751 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.752 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.752 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.753 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.753 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.754 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.754 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:16.755 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:16.755 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.756 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:16.756 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:16.757 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:16.758 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:16.758 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:16.759 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:16.759 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:16.760 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:16.761 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:16.761 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:16.762 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:16.762 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:16.763 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:16.763 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:16.764 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:16.764 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:16.765 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:16.766 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:16.766 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:16.767 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:16.767 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:16.768 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:16.768 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:16.769 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:16.769 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:16.770 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:16.771 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:16.772 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:16.773 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:16.773 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:16.773 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:16.773 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.774 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.774 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.775 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.775 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:16.776 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:16.776 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:16.777 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:16.777 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:16.778 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:16.779 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:16.779 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:16.782 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:16.782 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:16.783 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.784 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.785 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:16.785 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:16.786 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.787 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.787 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:16.788 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:16.788 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:16.789 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:16.790 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:16.791 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:16.792 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:16.792 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:16.792 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:16.793 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:16.793 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:16.794 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:16.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:16.795 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:16.797 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.2677ms
2024-11-18 12:15:16.797 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.5886ms
2024-11-18 12:15:16.798 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.798 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:16.799 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:16.799 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:16.800 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.801 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:16.801 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:16.802 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:16.802 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - 200 2123 application/json; charset=utf-8 80.8554ms
2024-11-18 12:15:16.803 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 81.4363ms
2024-11-18 12:15:17.157 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - null null
2024-11-18 12:15:17.157 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:17.158 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:17.159 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:17.159 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:17.160 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:17.160 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:17.161 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:17.161 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:17.161 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:17.162 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:17.162 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:17.163 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.164 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.164 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:17.165 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:17.166 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.166 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.167 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:17.167 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:17.168 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:17.169 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:17.169 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:17.170 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:17.170 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.171 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.172 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:17.173 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:17.173 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.174 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.175 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.176 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.176 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.177 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.177 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.178 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.178 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:17.179 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:17.179 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.180 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.181 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.181 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.182 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.182 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.183 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.183 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.184 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.184 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.185 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:17.185 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:17.186 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.187 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.187 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.188 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.188 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.189 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.189 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.190 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.191 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.191 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.192 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.192 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.193 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:17.193 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:17.194 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.195 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.195 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.196 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.196 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.197 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.197 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.198 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.198 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.199 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.200 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:17.200 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:17.201 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.201 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.202 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.202 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.203 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.204 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.204 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.205 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.205 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:17.206 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:17.207 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:17.207 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:17.207 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:17.208 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:17.208 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.209 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.209 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.210 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.211 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:17.211 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:17.211 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:17.212 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:17.212 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.213 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.213 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:17.214 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:17.218 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:17.218 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:17.219 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.220 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.220 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:17.221 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:17.221 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.222 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.223 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:17.223 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:17.224 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:17.225 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:17.226 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:17.227 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:17.227 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:17.228 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:17.227 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:17.228 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:17.228 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:17.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:17.229 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:17.230 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.3706ms
2024-11-18 12:15:17.231 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:17.231 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.233 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:17.234 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.3764ms
2024-11-18 12:15:17.234 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.235 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.235 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:17.236 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:17.236 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - 200 2100 application/json; charset=utf-8 80.0036ms
2024-11-18 12:15:17.237 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.239 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:15:17.240 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.5417ms
2024-11-18 12:15:17.537 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:17.537 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-18 12:15:17.539 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:17.540 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:17.540 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:17.541 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:17.542 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:17.542 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:17.543 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:17.543 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:17.544 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:17.544 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:17.545 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.545 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.546 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:17.546 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:17.547 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.547 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.547 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:17.548 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:17.549 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:17.550 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:17.550 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:17.551 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:17.551 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.552 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.553 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:17.554 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:17.554 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.555 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.556 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.556 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.557 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.558 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.558 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.559 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.559 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:17.560 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:17.560 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.561 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.562 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.562 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.563 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.563 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.564 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.564 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.565 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.565 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.566 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:17.566 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:17.567 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.568 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.568 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.569 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.570 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.570 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.571 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.571 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.572 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.572 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.573 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.573 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.574 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:17.574 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:17.575 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.576 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.576 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.577 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.577 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.578 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.578 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.579 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.579 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.580 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.580 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:17.581 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:17.582 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.582 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.583 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.583 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.584 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.584 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.585 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.585 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.586 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:17.587 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:17.587 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:17.588 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:17.588 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:17.589 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:17.589 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.589 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.590 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.591 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.591 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:17.592 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:17.592 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.593 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:17.593 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.594 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.594 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:17.595 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:17.598 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:17.598 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:17.599 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.600 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.600 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:17.601 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:17.601 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.602 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.602 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:17.603 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:17.604 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:17.605 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:17.606 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:17.607 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:17.607 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:17.607 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:17.608 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:17.608 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:17.608 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:17.609 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:17.609 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:17.610 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:17.612 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.5998ms
2024-11-18 12:15:17.613 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.8545ms
2024-11-18 12:15:17.613 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.614 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.614 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:17.615 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:17.615 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.616 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.616 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:17.617 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:17.617 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 80.5431ms
2024-11-18 12:15:17.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 81.3196ms
2024-11-18 12:15:17.933 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=6&page_size=4&search= - null null
2024-11-18 12:15:17.933 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:17.934 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:17.935 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:17.936 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:17.936 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:17.936 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:17.937 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:17.937 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:17.938 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:17.938 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:17.939 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:17.940 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.940 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.941 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:17.941 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:17.942 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.942 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:17.942 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:17.943 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:17.943 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:17.944 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:17.945 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:17.946 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:17.947 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.947 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.948 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:17.949 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:17.950 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.950 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:17.951 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.952 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.953 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.953 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:17.954 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.954 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.955 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:17.955 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:17.956 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.957 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.957 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.958 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.958 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.959 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:17.959 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.960 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:17.961 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.961 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.962 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:17.962 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:17.963 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.963 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.964 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.965 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.965 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.966 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.967 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.967 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:17.968 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.968 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:17.969 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.970 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.970 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:17.971 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:17.971 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.972 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.973 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.974 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.974 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.975 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:17.975 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.976 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:17.977 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.977 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.978 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:17.978 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:17.979 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.980 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.980 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.981 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.982 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.982 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:17.983 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.983 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:17.984 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:17.985 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:17.985 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:17.986 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:17.986 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:17.987 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:17.987 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.988 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.989 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.989 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:17.990 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:17.990 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:17.990 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:17.991 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:17.991 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.992 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:17.992 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:17.993 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:17.998 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:17.998 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:17.999 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.001 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.002 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:15:18.002 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.003 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.004 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.004 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.005 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.005 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.006 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.008 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.009 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.009 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.010 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.010 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.011 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.011 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.011 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.012 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.013 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.013 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.1731ms
2024-11-18 12:15:18.016 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.017 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.7543ms
2024-11-18 12:15:18.017 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.018 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.018 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.019 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.019 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.020 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.021 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=6&page_size=4&search= - 200 2126 application/json; charset=utf-8 88.1111ms
2024-11-18 12:15:18.022 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.024 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 91.4946ms
2024-11-18 12:15:18.259 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:18.259 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=7&page_size=4&search= - null null
2024-11-18 12:15:18.261 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:18.262 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:18.263 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:18.263 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:18.264 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:18.264 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:18.265 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:18.265 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:18.265 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:18.266 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:18.267 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.267 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.268 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:18.268 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:18.269 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.269 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.270 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:18.270 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:18.271 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:18.272 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:18.273 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:18.274 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:18.274 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.275 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.276 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:18.277 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:18.278 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.278 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.279 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.280 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.281 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.281 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.282 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.282 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.283 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:18.283 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:18.284 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.285 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.285 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.286 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.286 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.287 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.288 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.288 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.289 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.289 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.290 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:18.290 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:18.291 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.292 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.292 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.293 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.294 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.295 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.295 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.296 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.296 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.297 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.297 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.298 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.298 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:18.299 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:18.300 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.300 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.301 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.302 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.302 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.303 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.303 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.305 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.305 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.306 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:18.306 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:18.307 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.308 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.308 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.309 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.309 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.310 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.311 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.311 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.312 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:18.313 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:18.314 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:18.315 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:18.315 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:15:18.315 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:18.316 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.316 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.317 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.317 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.318 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:18.318 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:18.319 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:18.319 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:18.320 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:18.321 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:18.321 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:18.322 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:18.325 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:18.325 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:18.327 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.327 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.328 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.329 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.329 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.330 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.331 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.331 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.332 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.332 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.334 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.335 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.335 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.336 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.336 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.337 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.337 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.337 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.338 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.342 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.8636ms
2024-11-18 12:15:18.342 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.2285ms
2024-11-18 12:15:18.343 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.344 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.345 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.345 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.346 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.347 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.347 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.348 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=7&page_size=4&search= - 200 2124 application/json; charset=utf-8 90.8326ms
2024-11-18 12:15:18.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.181ms
2024-11-18 12:15:18.545 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=8&page_size=4&search= - null null
2024-11-18 12:15:18.545 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:18.547 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:18.548 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:18.548 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:18.549 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:18.549 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:18.550 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:18.550 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:18.551 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:18.551 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:18.552 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:18.553 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.553 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.554 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:18.554 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:18.555 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.555 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.556 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:18.556 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:18.557 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:18.558 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:18.559 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:18.559 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:18.560 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.560 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.561 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:18.562 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:18.563 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.563 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.564 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.566 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.566 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.567 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.567 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.568 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.568 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:18.569 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:18.570 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.570 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.571 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.572 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.572 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.573 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.573 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.574 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.574 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.575 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.575 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:18.576 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:18.576 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.577 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.578 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.578 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.579 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.579 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.580 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.581 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.581 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.582 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.582 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.583 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.583 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:18.584 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:18.585 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.585 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.586 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.586 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.587 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.587 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.588 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.588 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.589 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.589 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.590 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:18.591 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:18.591 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.592 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.592 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.593 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.593 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.594 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.594 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.595 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.596 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:18.596 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:18.597 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:18.598 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:18.598 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:18.599 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:18.599 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.600 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.600 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.601 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.601 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:18.602 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:18.602 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:18.603 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:18.603 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:18.604 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:18.605 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:18.605 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:18.608 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:18.608 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:18.609 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.610 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.611 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.611 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.612 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.613 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.614 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.614 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.615 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.615 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.616 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.617 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.618 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.618 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.619 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.619 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.620 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.620 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.621 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.621 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.622 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.7924ms
2024-11-18 12:15:18.624 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.625 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.6117ms
2024-11-18 12:15:18.625 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.626 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.627 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.627 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.628 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.629 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.630 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=8&page_size=4&search= - 200 2095 application/json; charset=utf-8 84.7002ms
2024-11-18 12:15:18.630 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.633 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.856ms
2024-11-18 12:15:18.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:18.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=9&page_size=4&search= - null null
2024-11-18 12:15:18.834 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:18.835 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:18.835 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:18.836 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:18.836 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:18.836 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:18.837 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:18.837 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:18.838 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:18.838 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:18.839 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.840 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.841 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:18.841 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:18.841 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.842 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.843 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:18.843 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:18.844 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:18.845 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:18.846 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:18.847 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:18.848 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.848 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.849 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:18.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:18.851 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.851 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:18.852 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.852 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.853 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.853 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:18.854 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.855 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.855 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:18.856 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:18.857 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.857 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.858 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.858 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.859 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.859 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:18.860 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.861 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:18.861 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.862 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.862 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:18.863 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:18.864 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.864 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.865 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.865 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.866 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.866 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.867 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.868 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:18.868 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.869 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:18.869 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.870 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.871 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:18.871 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:18.872 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.872 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.873 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.873 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.874 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.875 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:18.875 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.876 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:18.876 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.877 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.878 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:18.878 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:18.879 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.879 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.880 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.880 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.881 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.881 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:18.882 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.883 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:18.884 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:18.884 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:18.885 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:18.886 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:18.886 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:18.886 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:18.887 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.887 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.888 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.888 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.889 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:18.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:18.890 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:18.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:18.891 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:18.892 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:18.892 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:18.893 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:18.896 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:18.896 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:18.897 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.898 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.899 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.900 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:18.900 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.901 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.901 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.902 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:18.903 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.903 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:18.904 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.906 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:18.906 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.906 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:18.907 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.907 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:18.907 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.907 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:18.908 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.908 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:18.911 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.0672ms
2024-11-18 12:15:18.911 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.748ms
2024-11-18 12:15:18.912 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.913 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:18.913 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.914 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:18.914 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.915 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:18.915 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:18.916 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:18.917 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=9&page_size=4&search= - 200 2088 application/json; charset=utf-8 85.5331ms
2024-11-18 12:15:18.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 86.3732ms
2024-11-18 12:15:19.081 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=10&page_size=4&search= - null null
2024-11-18 12:15:19.081 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:15:19.083 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:19.084 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:15:19.085 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:19.086 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:15:19.086 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:19.086 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:15:19.087 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:19.087 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:15:19.088 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:19.089 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:15:19.089 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:19.090 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:19.091 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:19.091 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:15:19.091 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:19.092 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:19.093 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:19.093 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:15:19.094 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:19.095 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:15:19.095 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:19.096 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:19.096 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:15:19.098 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:19.099 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:19.099 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:19.100 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:15:19.101 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:19.102 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:15:19.103 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:19.104 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:19.105 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:19.106 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:15:19.106 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:19.107 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:15:19.108 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:19.108 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:15:19.109 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:19.110 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:19.110 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:19.111 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:15:19.112 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:19.112 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:15:19.113 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:19.113 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:15:19.114 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:19.115 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:19.115 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.116 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:15:19.117 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.117 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.118 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.119 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.119 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:19.120 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.121 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.121 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:15:19.122 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:19.122 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:15:19.123 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:19.123 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:19.124 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:19.125 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:15:19.126 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:19.127 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:19.128 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:19.129 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:19.129 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:19.130 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:15:19.130 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:19.131 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:15:19.132 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:19.132 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:19.133 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:19.134 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:15:19.134 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:19.135 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:19.136 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:19.136 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:19.137 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:19.137 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:15:19.138 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:19.139 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:15:19.140 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:19.141 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:15:19.141 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:19.142 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:15:19.142 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.142 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:15:19.143 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.143 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.144 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:19.145 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.145 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:15:19.146 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:15:19.146 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:19.147 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:15:19.147 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:19.148 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:15:19.150 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:19.152 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:15:19.152 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:15:19.153 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.154 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.155 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:19.155 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:15:19.156 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.158 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.158 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:19.159 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:15:19.159 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:19.160 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:15:19.161 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:19.163 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:15:19.163 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:19.164 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:15:19.164 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:19.164 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:15:19.165 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:19.165 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:15:19.166 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:19.166 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:15:19.169 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.2992ms
2024-11-18 12:15:19.170 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.4003ms
2024-11-18 12:15:19.170 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:19.170 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:15:19.171 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:19.171 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:15:19.172 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.172 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:15:19.173 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:15:19.173 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:15:19.174 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=10&page_size=4&search= - 200 2131 application/json; charset=utf-8 93.1548ms
2024-11-18 12:15:19.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.8589ms
2024-11-18 12:15:19.875 +07:00 [DBG] Connection id "0HN87HVO5FAEI" received FIN.
2024-11-18 12:15:19.876 +07:00 [DBG] Connection id "0HN87HVO5FAEI" is closed. The last processed stream ID was 51.
2024-11-18 12:15:19.876 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEI completed.
2024-11-18 12:15:19.877 +07:00 [DBG] Connection id "0HN87HVO5FAEI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:15:19.887 +07:00 [DBG] Connection id "0HN87HVO5FAEI" stopped.
2024-11-18 12:34:47.299 +07:00 [DBG] Connection id "0HN87HVO5FAEJ" accepted.
2024-11-18 12:34:47.303 +07:00 [DBG] Connection id "0HN87HVO5FAEJ" started.
2024-11-18 12:34:47.312 +07:00 [DBG] Connection 0HN87HVO5FAEJ established using the following protocol: "Tls13"
2024-11-18 12:34:47.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:34:47.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:34:47.331 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:34:47.333 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:34:47.333 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:34:47.334 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:34:47.336 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:34:47.336 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:34:47.337 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:34:47.337 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:34:47.338 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:34:47.338 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:34:47.340 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:34:47.340 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:34:47.341 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:34:47.342 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:34:47.342 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:34:47.344 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:34:47.344 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:34:47.345 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:34:47.345 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:34:47.346 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:34:47.347 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:34:47.348 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:34:47.350 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:34:47.350 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:34:47.351 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:34:47.352 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:34:47.353 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:34:47.353 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:34:47.354 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:34:47.355 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:34:47.357 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:34:47.357 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:34:47.358 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:34:47.358 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:34:47.359 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:34:47.359 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:34:47.360 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:34:47.360 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:34:47.361 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:34:47.362 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:34:47.362 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:34:47.363 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:34:47.364 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:34:47.364 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:34:47.365 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:34:47.365 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:34:47.366 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:34:47.366 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:34:47.367 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.367 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.368 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.369 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.369 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.370 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.370 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:34:47.371 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:34:47.371 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.372 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:34:47.373 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:34:47.373 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:34:47.374 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:34:47.374 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:34:47.375 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:34:47.376 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:34:47.376 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:34:47.377 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:34:47.378 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:34:47.378 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:34:47.379 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:34:47.379 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:34:47.380 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:34:47.380 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:34:47.381 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:34:47.381 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:34:47.383 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:34:47.383 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:34:47.384 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:34:47.385 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:34:47.385 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:34:47.386 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:34:47.386 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:34:47.387 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:34:47.388 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:34:47.388 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:34:47.391 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:34:47.391 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:34:47.391 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:34:47.391 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:34:47.392 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.392 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.432 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.433 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:34:47.435 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:34:47.435 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:34:47.436 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:34:47.436 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:34:47.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:34:47.440 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:34:47.441 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:34:47.449 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:34:47.450 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:34:47.450 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.451 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.453 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:34:47.453 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:34:47.454 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.455 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.455 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:34:47.456 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:34:47.456 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:34:47.457 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:34:47.458 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:34:47.460 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:34:47.460 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:34:47.460 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:34:47.461 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:34:47.461 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:34:47.462 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:34:47.462 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:34:47.462 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:34:47.463 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:34:47.465 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 109.7228ms
2024-11-18 12:34:47.467 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:34:47.467 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 113.3571ms
2024-11-18 12:34:47.505 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:34:47.505 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:34:47.506 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.506 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:34:47.508 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:34:47.509 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:34:47.510 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 183.4809ms
2024-11-18 12:34:47.510 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:34:47.512 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 186.3541ms
2024-11-18 12:34:56.190 +07:00 [DBG] Connection id "0HN87HVO5FAEJ" received FIN.
2024-11-18 12:34:56.192 +07:00 [DBG] Connection id "0HN87HVO5FAEJ" is closed. The last processed stream ID was 3.
2024-11-18 12:34:56.192 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEJ completed.
2024-11-18 12:34:56.193 +07:00 [DBG] Connection id "0HN87HVO5FAEJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:34:56.202 +07:00 [DBG] Connection id "0HN87HVO5FAEJ" stopped.
2024-11-18 12:35:09.244 +07:00 [DBG] Connection id "0HN87HVO5FAEK" accepted.
2024-11-18 12:35:09.244 +07:00 [DBG] Connection id "0HN87HVO5FAEK" started.
2024-11-18 12:35:09.251 +07:00 [DBG] Connection 0HN87HVO5FAEK established using the following protocol: "Tls13"
2024-11-18 12:35:09.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:35:09.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:35:09.260 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:35:09.261 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:35:09.261 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:35:09.262 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:35:09.262 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:35:09.263 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:35:09.265 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:35:09.266 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:35:09.267 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:35:09.267 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:35:09.268 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:09.269 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:09.269 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:35:09.270 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:35:09.271 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:09.272 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:09.272 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:35:09.273 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:35:09.274 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:35:09.276 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:35:09.279 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:35:09.276 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:35:09.280 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:09.281 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:09.282 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:35:09.283 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:35:09.284 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:09.285 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:09.286 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:09.287 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:09.288 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:09.288 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:09.289 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:35:09.289 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:35:09.290 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:35:09.291 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:35:09.293 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:09.294 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:09.294 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:09.295 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:09.296 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:35:09.296 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:35:09.297 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:35:09.297 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:35:09.298 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:09.299 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:09.300 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:35:09.300 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:35:09.301 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.302 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.302 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.303 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.304 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.304 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.305 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:09.306 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:09.307 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.307 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:09.308 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:09.308 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:09.309 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:35:09.309 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:35:09.310 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:09.311 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:09.311 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:09.312 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:09.313 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:09.314 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:09.315 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:09.315 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:09.316 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:09.316 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:09.317 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:35:09.317 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:35:09.318 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:09.320 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:09.321 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:09.321 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:09.322 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:09.322 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:09.323 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:09.323 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:09.324 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:35:09.325 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:35:09.326 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:35:09.327 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:35:09.327 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:35:09.328 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.329 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:35:09.329 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.330 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.330 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:35:09.331 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.332 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:35:09.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:35:09.335 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-18 12:35:09.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:35:09.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:35:09.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:35:09.338 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:35:09.344 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:35:09.344 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:35:09.345 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.348 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:35:09.348 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.350 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.350 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-18 12:35:09.351 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:35:09.351 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.352 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:35:09.352 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:35:09.355 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:35:09.356 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:35:09.356 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:35:09.357 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:35:09.358 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:35:09.358 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:35:09.358 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:35:09.359 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:35:09.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:35:09.359 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:35:09.361 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 74.4097ms
2024-11-18 12:35:09.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:35:09.364 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:09.366 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:35:09.368 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.369 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 81.8764ms
2024-11-18 12:35:09.369 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:35:09.370 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:09.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 118.3785ms
2024-11-18 12:35:09.371 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:35:09.377 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:09.377 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:35:09.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 126.2519ms
2024-11-18 12:35:16.225 +07:00 [DBG] Connection id "0HN87HVO5FAEK" received FIN.
2024-11-18 12:35:16.226 +07:00 [DBG] Connection id "0HN87HVO5FAEK" is closed. The last processed stream ID was 3.
2024-11-18 12:35:16.226 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEK completed.
2024-11-18 12:35:16.227 +07:00 [DBG] Connection id "0HN87HVO5FAEK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:35:16.240 +07:00 [DBG] Connection id "0HN87HVO5FAEK" stopped.
2024-11-18 12:35:43.249 +07:00 [DBG] Connection id "0HN87HVO5FAEL" accepted.
2024-11-18 12:35:43.261 +07:00 [DBG] Connection id "0HN87HVO5FAEL" started.
2024-11-18 12:35:43.272 +07:00 [DBG] Connection 0HN87HVO5FAEL established using the following protocol: "Tls13"
2024-11-18 12:35:43.276 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:35:43.277 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:35:43.286 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:35:43.287 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:35:43.288 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:35:43.289 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:35:43.290 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:35:43.290 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:35:43.291 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:35:43.292 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:35:43.293 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:35:43.294 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:35:43.295 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:43.297 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:43.298 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:35:43.299 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:35:43.300 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:43.301 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:43.302 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:35:43.302 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:35:43.304 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:35:43.305 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:35:43.306 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:35:43.307 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:35:43.308 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:43.308 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:43.309 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:35:43.310 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:35:43.311 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:43.312 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:43.313 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:43.314 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:43.315 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:43.316 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:43.316 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:35:43.317 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:35:43.318 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:35:43.319 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:35:43.320 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:43.320 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:43.321 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:43.321 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:43.322 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:35:43.322 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:35:43.323 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:35:43.324 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:35:43.324 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:43.325 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:43.326 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:35:43.326 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:35:43.327 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.327 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.328 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.329 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.330 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.330 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.331 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:43.331 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:43.332 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.333 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:43.334 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:43.334 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:43.335 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:35:43.336 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:35:43.336 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:43.337 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:43.337 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:43.338 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:43.338 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:43.339 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:43.340 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:43.341 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:43.341 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:43.342 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:43.342 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:35:43.343 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:35:43.344 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:43.344 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:43.345 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:43.345 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:43.347 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:43.347 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:43.348 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:43.348 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:43.350 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:35:43.350 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:35:43.351 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:35:43.361 +07:00 [DBG] Created DbConnection. (10ms).
2024-11-18 12:35:43.366 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.352 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:35:43.372 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.380 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:35:43.381 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:35:43.379 +07:00 [DBG] Created DbConnection. (27ms).
2024-11-18 12:35:43.389 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-11-18 12:35:43.390 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.390 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:35:43.391 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:35:43.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:35:43.395 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:35:43.397 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:35:43.399 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:35:43.399 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.400 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:35:43.401 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:35:43.401 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.405 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (3ms).
2024-11-18 12:35:43.405 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:35:43.406 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:35:43.407 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:35:43.407 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.407 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:35:43.408 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:35:43.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:35:43.410 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:35:43.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:35:43.411 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:35:43.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:35:43.411 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:35:43.412 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 97.8848ms
2024-11-18 12:35:43.412 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:35:43.413 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:43.413 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:35:43.414 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:35:43.414 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:35:43.414 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.416 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:35:43.419 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 141.2911ms
2024-11-18 12:35:43.422 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 108.4824ms
2024-11-18 12:35:43.425 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:43.425 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:35:43.426 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:43.426 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:35:43.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 151.5025ms
2024-11-18 12:35:58.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:35:58.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:35:58.244 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:35:58.245 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:35:58.246 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:35:58.246 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:35:58.247 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:35:58.247 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:35:58.249 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:35:58.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:35:58.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:35:58.251 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:58.251 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:35:58.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:35:58.253 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:58.254 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:58.255 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:35:58.256 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:35:58.257 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:58.258 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:35:58.259 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:35:58.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:35:58.262 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:35:58.263 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:58.264 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:35:58.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:35:58.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:58.267 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:58.270 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:35:58.271 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:58.272 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:35:58.274 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:58.275 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:58.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:35:58.278 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:35:58.279 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:35:58.280 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:35:58.281 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:58.282 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:35:58.284 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:58.285 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:58.286 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:35:58.288 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:35:58.288 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:35:58.291 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:35:58.292 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:58.293 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:35:58.293 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:35:58.294 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:58.295 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.295 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:35:58.296 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.297 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.298 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.299 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.300 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:58.301 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.301 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.302 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:35:58.302 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:58.303 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:35:58.305 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:35:58.307 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:58.307 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:58.308 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:35:58.309 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:58.309 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:58.310 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:58.312 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:58.313 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:58.314 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:35:58.314 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:58.315 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:35:58.316 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:35:58.316 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:58.317 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:58.318 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:35:58.319 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:58.320 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:58.321 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:58.321 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:58.322 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:58.322 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:35:58.323 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:35:58.323 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:35:58.325 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:35:58.327 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:35:58.327 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:35:58.327 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.329 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:35:58.329 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.330 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:35:58.330 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:35:58.331 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.331 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:35:58.332 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.333 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:35:58.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:35:58.335 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:35:58.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:35:58.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-18 12:35:58.342 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:35:58.348 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:35:58.348 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:35:58.350 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.352 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.352 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:35:58.352 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:35:58.354 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.355 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.355 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:35:58.356 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:35:58.357 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:35:58.357 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:35:58.358 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:35:58.359 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:35:58.360 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:35:58.360 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:35:58.361 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:35:58.361 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:35:58.362 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:35:58.362 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:35:58.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:35:58.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:35:58.364 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 92.6881ms
2024-11-18 12:35:58.366 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:58.368 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:35:58.369 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 93.2763ms
2024-11-18 12:35:58.372 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.375 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:35:58.376 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-18 12:35:58.377 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:35:58.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 134.706ms
2024-11-18 12:35:58.378 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:35:58.380 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:35:58.382 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 139.122ms
2024-11-18 12:36:01.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:36:01.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:36:01.243 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:01.245 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:01.245 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:01.246 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:01.246 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:01.246 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:01.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:01.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:01.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:01.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:01.251 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:01.252 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:01.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:01.253 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:01.253 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:01.254 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:01.254 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:01.255 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:01.256 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:01.257 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:01.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:01.258 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:01.259 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:01.260 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:01.261 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:01.262 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:01.263 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:01.264 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:01.265 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:01.266 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:01.267 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:01.267 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:01.268 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:01.270 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:01.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:01.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:01.272 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:01.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:01.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:01.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:01.275 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:01.277 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:01.278 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:01.278 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:01.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:01.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:01.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:01.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:01.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.284 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.287 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.288 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.289 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:01.290 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:01.291 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.291 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:01.292 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:01.293 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:01.293 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:01.294 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:01.295 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:01.296 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:01.296 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:01.297 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:01.298 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:01.299 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:01.299 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:01.300 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:01.301 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:01.302 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:01.302 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:01.303 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:01.304 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:01.305 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:01.306 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:01.306 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:01.307 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:01.307 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:01.308 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:01.308 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:01.309 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:01.310 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:01.312 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:01.312 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:01.312 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:01.313 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.313 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:01.314 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.314 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:01.316 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:01.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:01.319 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:36:01.319 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:01.320 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:01.320 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:36:01.322 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:01.325 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:01.325 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:01.327 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.328 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.328 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:01.329 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:01.330 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.330 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.331 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:01.332 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:01.333 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:01.333 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:01.335 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:01.336 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:01.336 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:01.337 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:01.337 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:01.338 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:01.339 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:01.340 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:01.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:01.341 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:01.344 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 79.0655ms
2024-11-18 12:36:01.344 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 78.4303ms
2024-11-18 12:36:01.345 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:01.346 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:01.347 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:01.347 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:01.348 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.349 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:01.349 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:01.350 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:01.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 109.1493ms
2024-11-18 12:36:01.352 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 110.0052ms
2024-11-18 12:36:11.303 +07:00 [DBG] Connection id "0HN87HVO5FAEL" received FIN.
2024-11-18 12:36:11.309 +07:00 [DBG] Connection id "0HN87HVO5FAEL" is closed. The last processed stream ID was 11.
2024-11-18 12:36:11.309 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEL completed.
2024-11-18 12:36:11.310 +07:00 [DBG] Connection id "0HN87HVO5FAEL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:36:11.328 +07:00 [DBG] Connection id "0HN87HVO5FAEL" stopped.
2024-11-18 12:36:18.241 +07:00 [DBG] Connection id "0HN87HVO5FAEM" accepted.
2024-11-18 12:36:18.241 +07:00 [DBG] Connection id "0HN87HVO5FAEM" started.
2024-11-18 12:36:18.247 +07:00 [DBG] Connection 0HN87HVO5FAEM established using the following protocol: "Tls13"
2024-11-18 12:36:18.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:36:18.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:36:18.251 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:18.252 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:18.252 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:18.252 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:18.253 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:18.253 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:18.253 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:18.254 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:18.254 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:18.255 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:18.256 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:18.257 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:18.258 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:18.258 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:18.259 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:18.259 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:18.260 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:18.260 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:18.261 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:18.262 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:18.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:18.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:18.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:18.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:18.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:18.266 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:18.267 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:18.267 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:18.268 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:18.269 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:18.270 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:18.270 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:18.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:18.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:18.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:18.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:18.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:18.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:18.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:18.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:18.275 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:18.275 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:18.276 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:18.277 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:18.277 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:18.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:18.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:18.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:18.280 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.280 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.281 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.281 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.283 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:18.284 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:18.285 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.285 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:18.286 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:18.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:18.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:18.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:18.288 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:18.289 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:18.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:18.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:18.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:18.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:18.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:18.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:18.294 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:18.295 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:18.295 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:18.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:18.296 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:18.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:18.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:18.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:18.299 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:18.300 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:18.300 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:18.301 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:18.302 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:18.302 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:18.303 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:18.305 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:18.305 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:36:18.305 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:18.306 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.306 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.307 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.307 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:18.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:18.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:18.310 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:36:18.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:18.311 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:18.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-11-18 12:36:18.320 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:18.333 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:18.335 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:18.335 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.336 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.337 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:36:18.338 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:18.339 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.340 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.341 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:18.342 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:18.342 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:18.344 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:18.347 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:18.348 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:18.349 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:18.349 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:18.350 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:18.350 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:18.350 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:18.351 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:18.351 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:18.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:18.357 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.9073ms
2024-11-18 12:36:18.358 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 90.147ms
2024-11-18 12:36:18.361 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:18.362 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:18.362 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:18.363 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:18.364 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.364 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:18.365 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:18.366 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:18.367 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 118.0263ms
2024-11-18 12:36:18.369 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 119.615ms
2024-11-18 12:36:21.312 +07:00 [DBG] Connection id "0HN87HVO5FAEM" received FIN.
2024-11-18 12:36:21.312 +07:00 [DBG] Connection id "0HN87HVO5FAEM" is closed. The last processed stream ID was 3.
2024-11-18 12:36:21.313 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEM completed.
2024-11-18 12:36:21.313 +07:00 [DBG] Connection id "0HN87HVO5FAEM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:36:21.326 +07:00 [DBG] Connection id "0HN87HVO5FAEM" stopped.
2024-11-18 12:36:23.394 +07:00 [DBG] Connection id "0HN87HVO5FAEN" accepted.
2024-11-18 12:36:23.395 +07:00 [DBG] Connection id "0HN87HVO5FAEN" started.
2024-11-18 12:36:23.400 +07:00 [DBG] Connection 0HN87HVO5FAEN established using the following protocol: "Tls13"
2024-11-18 12:36:23.402 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:36:23.402 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:36:23.404 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:23.405 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:23.405 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:23.406 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:23.406 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:23.406 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:23.407 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:23.408 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:23.411 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:23.413 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:23.413 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:23.415 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:23.415 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:23.416 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:23.416 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:23.417 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:23.418 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:23.419 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:23.420 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:23.420 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:23.421 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:23.422 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:23.423 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:23.423 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:23.425 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:23.426 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:23.426 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:23.427 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:23.427 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:23.429 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:23.430 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:23.430 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:23.431 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:23.431 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:23.432 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:23.432 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:23.433 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:23.434 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:23.434 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:23.435 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:23.436 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:23.436 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:23.437 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:23.437 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:23.438 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:23.439 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:23.439 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:23.439 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:23.440 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.441 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.441 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.442 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.442 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.443 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.444 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:23.444 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:23.445 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.446 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:23.446 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:23.447 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:23.447 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:23.448 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:23.448 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:23.449 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:23.450 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:23.450 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:23.451 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:23.451 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:23.452 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:23.452 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:23.453 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:23.453 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:23.454 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:23.455 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:23.455 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:23.456 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:23.457 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:23.457 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:23.458 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:23.458 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:23.459 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:23.459 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:23.460 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:23.461 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:23.461 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:23.462 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:23.462 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:23.463 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:23.463 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.464 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.464 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.465 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.465 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:23.466 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:23.466 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:23.467 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:23.467 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:23.468 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:23.468 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:23.469 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:23.473 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:23.473 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:23.474 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.475 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.476 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:23.476 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:23.477 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.478 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.479 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:23.479 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:23.480 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:23.481 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:23.482 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:23.483 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:23.483 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:23.484 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:23.484 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:23.485 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:23.485 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:23.486 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:23.487 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:23.487 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:23.490 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.1862ms
2024-11-18 12:36:23.491 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.8031ms
2024-11-18 12:36:23.492 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:23.492 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:23.493 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:23.494 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:23.494 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.495 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:23.495 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:23.496 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:23.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.5943ms
2024-11-18 12:36:23.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.1985ms
2024-11-18 12:36:56.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:36:56.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:36:56.312 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:56.314 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:56.314 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:56.314 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:56.315 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:56.315 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:56.315 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:56.316 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:56.316 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:56.317 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:56.318 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:56.318 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:56.319 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:56.319 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:56.320 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:56.320 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:56.321 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:56.321 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:56.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:56.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:56.323 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:56.324 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:56.324 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:56.325 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:56.326 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:56.327 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:56.328 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:56.328 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:56.329 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:56.330 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:56.331 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:56.331 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:56.332 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:56.332 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:56.333 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:56.334 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:56.334 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:56.335 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:56.335 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:56.336 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:56.336 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:56.337 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:56.338 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:56.338 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:56.339 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:56.339 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:56.340 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:56.341 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:56.341 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.342 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.342 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.343 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.343 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.344 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.345 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:56.345 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:56.346 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.346 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:56.347 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:56.348 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:56.348 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:56.349 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:56.349 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:56.350 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:56.350 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:56.351 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:56.352 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:56.353 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:56.353 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:56.354 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:56.355 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:56.355 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:56.356 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:56.356 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:56.357 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:56.358 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:56.358 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:56.359 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:56.360 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:56.360 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:56.361 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:56.362 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:56.363 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:56.363 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:56.364 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:56.365 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:36:56.365 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:56.366 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.366 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:56.367 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.367 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.368 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:56.369 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.369 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:56.369 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:56.370 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:36:56.370 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:56.371 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:56.371 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:56.373 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:56.376 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:56.376 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:56.377 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.377 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.378 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:56.379 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:56.379 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.380 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.380 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:56.381 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:56.382 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:56.383 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:56.384 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:56.385 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:56.386 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:56.387 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:56.387 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:56.388 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:56.388 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:56.388 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:56.389 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:56.389 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:56.391 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.4319ms
2024-11-18 12:36:56.397 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:56.397 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.4244ms
2024-11-18 12:36:56.398 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:56.403 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:56.404 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.405 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:56.405 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:36:56.406 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:56.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 100.3775ms
2024-11-18 12:36:56.408 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:36:56.410 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.3498ms
2024-11-18 12:36:57.432 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:36:57.432 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:36:57.434 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:57.435 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:36:57.436 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:57.436 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:36:57.437 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:57.437 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:36:57.437 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:57.438 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:36:57.438 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:57.439 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:36:57.440 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:57.441 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:57.442 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:57.443 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:36:57.443 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:57.444 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:57.444 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:57.445 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:36:57.446 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:57.447 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:36:57.448 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:57.449 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:36:57.450 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:57.451 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:57.452 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:57.453 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:36:57.454 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:57.454 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:36:57.456 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:57.457 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:57.459 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:57.459 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:36:57.460 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:57.461 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:36:57.462 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:57.465 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:36:57.466 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:57.467 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:57.468 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:57.469 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:36:57.472 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:57.473 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:36:57.474 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:57.474 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:36:57.475 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:57.475 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:57.479 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:57.480 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:36:57.480 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.481 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.482 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.482 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.483 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.484 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.485 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:57.485 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:36:57.486 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.487 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:36:57.487 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:57.488 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:57.488 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:57.489 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:36:57.490 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:57.491 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:57.492 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:57.493 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:57.493 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:57.494 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:36:57.494 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:57.495 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:36:57.495 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:57.496 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:57.496 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:57.497 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:36:57.498 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:57.498 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:57.499 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:57.500 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:57.500 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:57.501 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:36:57.501 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:57.502 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:36:57.503 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:57.503 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:36:57.504 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:57.505 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:36:57.505 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:57.505 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:36:57.506 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.506 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.507 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.507 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.508 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:57.508 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:36:57.508 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:57.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:36:57.509 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:57.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:36:57.511 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:57.510 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:57.513 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:36:57.514 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:36:57.515 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.515 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.516 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:36:57.516 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:36:57.517 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.517 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.518 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:57.519 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:36:57.520 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:57.520 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:36:57.522 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:57.522 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:36:57.523 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:57.523 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:36:57.523 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:57.523 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:36:57.524 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:57.524 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:36:57.525 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:57.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:36:57.528 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.9597ms
2024-11-18 12:36:57.529 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.881ms
2024-11-18 12:36:57.529 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:57.535 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:36:57.535 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:57.536 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:36:57.536 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.537 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:36:57.537 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:57.538 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:36:57.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 107.4762ms
2024-11-18 12:36:57.540 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 108.3648ms
2024-11-18 12:37:01.367 +07:00 [DBG] Connection id "0HN87HVO5FAEN" received FIN.
2024-11-18 12:37:01.369 +07:00 [DBG] Connection id "0HN87HVO5FAEN" is closed. The last processed stream ID was 11.
2024-11-18 12:37:01.369 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEN completed.
2024-11-18 12:37:01.370 +07:00 [DBG] Connection id "0HN87HVO5FAEN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:37:01.382 +07:00 [DBG] Connection id "0HN87HVO5FAEN" stopped.
2024-11-18 12:38:14.022 +07:00 [DBG] Connection id "0HN87HVO5FAEO" accepted.
2024-11-18 12:38:14.027 +07:00 [DBG] Connection id "0HN87HVO5FAEO" started.
2024-11-18 12:38:14.033 +07:00 [DBG] Connection 0HN87HVO5FAEO established using the following protocol: "Tls13"
2024-11-18 12:38:14.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:38:14.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:38:14.065 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:38:14.066 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:38:14.067 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:38:14.067 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:38:14.068 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:38:14.068 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:38:14.068 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:38:14.069 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:38:14.069 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:38:14.070 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:38:14.070 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:14.071 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:14.072 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:38:14.072 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:38:14.073 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:14.073 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:14.074 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:38:14.074 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:38:14.075 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:38:14.076 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:38:14.076 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:38:14.077 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:38:14.078 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:14.078 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:14.079 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:38:14.080 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:38:14.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:14.082 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:14.082 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:14.083 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:14.084 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:14.084 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:14.085 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:38:14.086 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:38:14.086 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:38:14.087 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:38:14.087 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:14.088 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:14.089 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:14.089 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:14.090 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:38:14.090 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:38:14.091 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:38:14.091 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:38:14.092 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:14.093 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:14.093 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:38:14.094 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:38:14.094 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.095 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.096 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.096 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.097 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.097 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.098 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:14.098 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:14.099 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.099 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:14.100 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:14.100 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:14.101 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:38:14.101 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:38:14.102 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:14.103 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:14.103 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:14.104 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:14.104 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:14.105 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:14.106 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:14.106 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:14.107 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:14.108 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:14.108 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:38:14.109 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:38:14.109 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:14.110 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:14.111 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:14.111 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:14.112 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:14.112 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:14.112 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:14.113 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:14.114 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:38:14.115 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:38:14.116 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:38:14.117 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:38:14.117 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:38:14.117 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:38:14.117 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.118 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.118 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.119 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.119 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:38:14.120 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:38:14.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:14.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:38:14.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:14.122 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:14.122 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:38:14.123 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:38:14.126 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:38:14.126 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:38:14.128 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.128 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.129 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:38:14.129 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:38:14.130 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.131 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.131 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:38:14.132 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:38:14.132 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:38:14.133 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:38:14.134 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:38:14.135 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:38:14.135 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:38:14.136 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:38:14.136 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:38:14.136 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:38:14.137 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:38:14.137 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:38:14.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:38:14.138 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:38:14.139 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.4691ms
2024-11-18 12:38:14.141 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:14.142 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:38:14.146 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.3255ms
2024-11-18 12:38:14.146 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.147 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:14.147 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:38:14.148 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:38:14.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 88.5605ms
2024-11-18 12:38:14.149 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:14.151 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:38:14.152 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.2463ms
2024-11-18 12:38:26.493 +07:00 [DBG] Connection id "0HN87HVO5FAEO" received FIN.
2024-11-18 12:38:26.493 +07:00 [DBG] Connection id "0HN87HVO5FAEO" is closed. The last processed stream ID was 3.
2024-11-18 12:38:26.493 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEO completed.
2024-11-18 12:38:26.494 +07:00 [DBG] Connection id "0HN87HVO5FAEO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:38:26.507 +07:00 [DBG] Connection id "0HN87HVO5FAEO" stopped.
2024-11-18 12:38:35.896 +07:00 [DBG] Connection id "0HN87HVO5FAEP" accepted.
2024-11-18 12:38:35.896 +07:00 [DBG] Connection id "0HN87HVO5FAEP" started.
2024-11-18 12:38:35.900 +07:00 [DBG] Connection 0HN87HVO5FAEP established using the following protocol: "Tls13"
2024-11-18 12:38:35.901 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:38:35.901 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:38:35.909 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:38:35.910 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:38:35.911 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:38:35.911 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:38:35.912 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:38:35.912 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:38:35.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:38:35.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:38:35.914 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:38:35.914 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:38:35.915 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:35.916 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:35.916 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:38:35.916 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:38:35.917 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:35.917 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:35.918 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:38:35.918 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:38:35.919 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:38:35.920 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:38:35.921 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:38:35.922 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:38:35.922 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:35.923 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:35.924 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:38:35.925 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:38:35.926 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:35.927 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:35.928 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:35.929 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:35.930 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:35.930 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:35.931 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:38:35.931 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:38:35.933 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:38:35.933 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:38:35.934 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:35.935 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:35.936 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:35.936 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:35.937 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:38:35.937 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:38:35.938 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:38:35.938 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:38:35.939 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:35.940 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:35.940 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:38:35.941 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:38:35.942 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.942 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.943 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.943 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.944 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.944 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.945 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:35.945 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:35.946 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.947 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:35.947 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:35.948 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:35.949 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:38:35.949 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:38:35.950 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:35.951 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:35.951 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:35.952 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:35.952 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:35.953 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:35.953 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:35.954 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:35.955 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:35.955 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:35.956 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:38:35.956 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:38:35.957 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:35.957 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:35.958 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:35.958 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:35.959 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:35.960 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:35.960 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:35.961 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:35.962 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:38:35.962 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:38:35.963 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:38:35.964 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:38:35.964 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:38:35.964 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.965 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:38:35.965 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.966 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.967 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:38:35.967 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.968 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:35.968 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:38:35.969 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:38:35.969 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:35.970 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:38:35.970 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:38:35.972 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:38:35.973 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:38:35.974 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:38:35.975 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.975 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.976 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:38:35.977 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:38:35.977 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.978 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.978 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:38:35.979 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:38:35.979 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:38:35.980 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:38:35.981 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:38:35.983 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:38:35.983 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:38:35.983 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:38:35.984 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:38:35.984 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:38:35.985 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:38:35.985 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:38:35.985 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:38:35.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:38:35.988 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.1124ms
2024-11-18 12:38:35.990 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.2033ms
2024-11-18 12:38:35.990 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:35.994 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:35.994 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:38:35.995 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:38:35.995 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.996 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:35.997 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:38:35.997 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:38:35.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.3786ms
2024-11-18 12:38:35.999 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 97.7359ms
2024-11-18 12:38:36.502 +07:00 [DBG] Connection id "0HN87HVO5FAEP" received FIN.
2024-11-18 12:38:36.503 +07:00 [DBG] Connection id "0HN87HVO5FAEP" is closed. The last processed stream ID was 3.
2024-11-18 12:38:36.503 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEP completed.
2024-11-18 12:38:36.504 +07:00 [DBG] Connection id "0HN87HVO5FAEP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:38:36.512 +07:00 [DBG] Connection id "0HN87HVO5FAEP" stopped.
2024-11-18 12:38:38.110 +07:00 [DBG] Connection id "0HN87HVO5FAEQ" accepted.
2024-11-18 12:38:38.111 +07:00 [DBG] Connection id "0HN87HVO5FAEQ" started.
2024-11-18 12:38:38.115 +07:00 [DBG] Connection 0HN87HVO5FAEQ established using the following protocol: "Tls13"
2024-11-18 12:38:38.117 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:38:38.117 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:38:38.118 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:38:38.120 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:38:38.120 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:38:38.121 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:38:38.121 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:38:38.121 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:38:38.122 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:38:38.122 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:38:38.123 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:38:38.124 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:38:38.124 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:38.125 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:38.126 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:38:38.126 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:38:38.127 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:38.127 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:38.128 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:38:38.128 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:38:38.129 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:38:38.130 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:38:38.131 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:38:38.131 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:38:38.132 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:38.132 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:38.134 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:38:38.135 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:38:38.135 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:38.136 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:38:38.137 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:38.138 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:38.138 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:38.139 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:38:38.140 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:38:38.140 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:38:38.141 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:38:38.141 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:38:38.142 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:38.143 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:38.143 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:38.144 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:38:38.144 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:38:38.145 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:38:38.145 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:38:38.146 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:38:38.146 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:38.147 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:38.148 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:38:38.148 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:38:38.149 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.149 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.150 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.150 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.151 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.152 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.152 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:38.153 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:38:38.153 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.154 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:38:38.154 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:38.155 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:38.155 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:38:38.156 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:38:38.157 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:38.157 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:38.158 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:38.158 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:38.159 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:38.159 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:38:38.160 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:38.160 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:38:38.161 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:38.162 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:38.162 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:38:38.163 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:38:38.164 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:38.164 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:38.165 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:38.165 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:38.166 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:38.166 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:38:38.167 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:38.167 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:38:38.168 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:38:38.169 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:38:38.170 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:38:38.171 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:38:38.171 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:38:38.172 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:38:38.172 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.173 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.173 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.174 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.174 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:38:38.175 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:38:38.176 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:38.176 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:38:38.177 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:38:38.177 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:38:38.178 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:38:38.179 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:38:38.184 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:38:38.185 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:38:38.187 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.191 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.191 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 5ms reading results.
2024-11-18 12:38:38.192 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:38:38.193 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.194 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.195 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:38:38.195 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:38:38.196 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:38:38.198 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:38:38.199 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:38:38.200 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:38:38.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:38:38.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:38:38.201 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:38:38.202 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:38:38.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:38:38.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:38:38.203 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:38:38.204 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:38:38.206 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.9749ms
2024-11-18 12:38:38.207 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.948ms
2024-11-18 12:38:38.207 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:38.208 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:38:38.208 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:38:38.208 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:38:38.209 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.209 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:38:38.210 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:38:38.211 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:38:38.211 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.4541ms
2024-11-18 12:38:38.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.3596ms
2024-11-18 12:39:16.574 +07:00 [DBG] Connection id "0HN87HVO5FAEQ" received FIN.
2024-11-18 12:39:16.575 +07:00 [DBG] Connection id "0HN87HVO5FAEQ" is closed. The last processed stream ID was 3.
2024-11-18 12:39:16.575 +07:00 [DBG] Connection id "0HN87HVO5FAEQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:39:16.581 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEQ completed.
2024-11-18 12:39:16.582 +07:00 [DBG] Connection id "0HN87HVO5FAEQ" stopped.
2024-11-18 12:39:33.795 +07:00 [DBG] Connection id "0HN87HVO5FAER" accepted.
2024-11-18 12:39:33.796 +07:00 [DBG] Connection id "0HN87HVO5FAER" started.
2024-11-18 12:39:33.799 +07:00 [DBG] Connection 0HN87HVO5FAER established using the following protocol: "Tls13"
2024-11-18 12:39:33.801 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:39:33.801 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:39:33.806 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:39:33.807 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:39:33.807 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:39:33.808 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:39:33.809 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:39:33.809 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:39:33.810 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:39:33.810 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:39:33.810 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:39:33.811 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:39:33.812 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:33.813 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:33.813 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:39:33.814 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:39:33.814 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:33.815 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:33.816 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:39:33.816 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:39:33.817 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:39:33.818 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:39:33.820 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:39:33.819 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:39:33.821 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:33.821 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:33.822 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:39:33.823 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:39:33.824 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:33.825 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:33.826 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:33.826 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:33.828 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:33.828 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:33.829 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:39:33.829 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:39:33.830 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:39:33.830 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:39:33.831 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:33.832 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:33.832 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:33.833 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:33.834 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:39:33.835 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:39:33.836 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:39:33.836 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:39:33.837 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:33.837 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:33.838 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:39:33.839 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:39:33.839 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.841 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.840 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.842 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.842 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.843 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:33.843 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.844 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.844 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:33.845 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:33.845 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:33.846 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:39:33.846 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:33.847 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:33.848 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:39:33.849 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:33.850 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:33.850 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:33.851 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:33.851 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:33.852 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:33.852 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:33.853 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:33.854 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:33.853 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:39:33.855 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:39:33.856 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:33.856 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:33.857 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:33.858 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:33.858 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:33.859 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:33.860 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:33.860 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:33.862 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:39:33.863 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:39:33.864 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:39:33.865 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:39:33.865 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:39:33.866 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:39:33.866 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.866 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.867 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.868 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.868 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:39:33.869 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:39:33.869 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:39:33.870 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:39:33.871 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:39:33.871 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:39:33.872 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:39:33.872 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:39:33.876 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:39:33.876 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:39:33.878 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.879 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.879 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:39:33.880 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:39:33.881 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.881 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.882 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:39:33.883 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:39:33.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:39:33.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:39:33.885 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:39:33.887 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:39:33.887 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:39:33.887 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:39:33.887 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:39:33.888 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:39:33.888 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:39:33.889 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:39:33.889 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:39:33.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:39:33.892 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.7582ms
2024-11-18 12:39:33.894 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.6102ms
2024-11-18 12:39:33.896 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:33.898 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:33.899 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:39:33.900 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:39:33.900 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.901 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:33.901 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:39:33.902 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:39:33.903 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 101.3952ms
2024-11-18 12:39:33.904 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.1073ms
2024-11-18 12:39:34.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:39:34.708 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:39:34.714 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:39:34.719 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:39:34.719 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:39:34.720 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:39:34.721 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:39:34.721 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:39:34.731 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:39:34.722 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:39:34.732 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:39:34.733 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:39:34.738 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:34.737 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:34.739 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:39:34.741 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:39:34.742 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:34.742 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:34.743 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:39:34.744 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:39:34.745 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:39:34.746 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:39:34.746 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:39:34.747 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:39:34.748 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:34.749 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:34.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:39:34.751 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:39:34.752 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:34.753 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:39:34.753 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:34.754 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:34.755 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:34.755 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:39:34.756 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:39:34.756 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:39:34.758 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:39:34.759 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:39:34.759 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:34.760 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:34.761 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:34.761 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:39:34.762 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:39:34.762 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:39:34.762 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:39:34.763 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:39:34.765 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:34.763 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:34.765 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:39:34.766 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:39:34.766 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.767 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.768 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.768 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.769 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.769 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.770 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:34.771 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.770 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:39:34.772 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:34.773 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:39:34.774 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:39:34.774 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:34.775 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:34.775 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:39:34.776 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:34.776 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:34.777 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:34.778 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:34.778 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:34.779 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:39:34.780 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:34.780 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:39:34.781 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:39:34.781 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:34.782 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:34.782 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:39:34.783 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:34.783 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:34.784 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:34.785 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:34.785 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:34.786 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:39:34.787 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:39:34.787 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:39:34.788 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:39:34.789 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:39:34.790 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:39:34.790 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:39:34.790 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:39:34.791 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.791 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.794 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.795 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.795 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:39:34.796 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:39:34.797 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:39:34.797 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:39:34.798 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:39:34.798 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:39:34.799 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:39:34.800 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:39:34.804 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:39:34.805 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:39:34.808 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.808 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.809 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:39:34.809 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:39:34.810 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.811 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.811 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:39:34.812 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:39:34.814 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:39:34.814 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:39:34.815 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:39:34.816 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:39:34.817 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:39:34.817 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:39:34.817 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:39:34.818 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:39:34.818 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:39:34.818 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:39:34.819 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:39:34.820 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:39:34.823 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.6808ms
2024-11-18 12:39:34.824 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.1925ms
2024-11-18 12:39:34.828 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:34.830 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:39:34.830 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:39:34.831 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:39:34.831 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.832 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:39:34.832 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:39:34.833 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:39:34.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 127.9066ms
2024-11-18 12:39:34.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 131.7222ms
2024-11-18 12:39:41.589 +07:00 [DBG] Connection id "0HN87HVO5FAER" received FIN.
2024-11-18 12:39:41.591 +07:00 [DBG] Connection id "0HN87HVO5FAER" is closed. The last processed stream ID was 7.
2024-11-18 12:39:41.591 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAER completed.
2024-11-18 12:39:41.591 +07:00 [DBG] Connection id "0HN87HVO5FAER" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:39:41.597 +07:00 [DBG] Connection id "0HN87HVO5FAER" stopped.
2024-11-18 12:41:50.436 +07:00 [DBG] Connection id "0HN87HVO5FAES" accepted.
2024-11-18 12:41:50.443 +07:00 [DBG] Connection id "0HN87HVO5FAES" started.
2024-11-18 12:41:50.460 +07:00 [DBG] Connection 0HN87HVO5FAES established using the following protocol: "Tls13"
2024-11-18 12:41:50.468 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:41:50.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:41:50.477 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:41:50.478 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:41:50.479 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:41:50.480 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:41:50.480 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:41:50.481 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:41:50.481 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:41:50.482 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:41:50.482 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:41:50.484 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:41:50.484 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:50.485 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:50.486 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:41:50.487 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:41:50.487 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:50.488 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:50.489 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:41:50.489 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:41:50.491 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:41:50.492 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:41:50.493 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:41:50.494 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:41:50.495 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:50.496 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:50.498 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:41:50.500 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:41:50.501 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:50.503 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:50.504 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:50.506 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:50.507 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:50.507 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:50.508 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:41:50.509 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:41:50.510 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:41:50.510 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:41:50.512 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:50.511 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:50.516 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:50.517 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:50.520 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:41:50.520 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:41:50.521 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:41:50.522 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:41:50.523 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:50.524 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:50.525 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:41:50.528 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:41:50.529 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.530 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.531 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.550 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.550 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.552 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.553 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:50.555 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.554 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:50.556 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:50.558 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:50.559 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:41:50.560 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:50.561 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:50.562 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:41:50.563 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:50.564 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:50.564 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:50.566 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:50.567 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:50.572 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:50.573 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:50.575 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:50.576 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:41:50.576 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:50.577 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:50.578 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:41:50.579 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:50.580 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:50.581 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:50.582 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:50.583 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:50.585 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:50.588 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:41:50.589 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:50.591 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:41:50.597 +07:00 [DBG] Created DbConnection. (5ms).
2024-11-18 12:41:50.597 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:41:50.597 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.600 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:41:50.601 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.603 +07:00 [DBG] Created DbConnection. (2ms).
2024-11-18 12:41:50.604 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:41:50.604 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.605 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:41:50.610 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.612 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-11-18 12:41:50.634 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:41:50.634 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:41:50.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (35ms).
2024-11-18 12:41:50.673 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (39ms).
2024-11-18 12:41:50.676 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:41:50.683 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:41:50.683 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:41:50.688 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.688 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.689 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:41:50.690 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:41:50.691 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.692 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.693 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 12:41:50.698 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (5ms).
2024-11-18 12:41:50.698 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:41:50.703 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:41:50.704 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:41:50.709 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:41:50.709 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:41:50.710 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:41:50.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:41:50.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:41:50.712 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:41:50.712 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:41:50.713 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:41:50.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:41:50.715 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 211.096ms
2024-11-18 12:41:50.724 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:50.729 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:41:50.730 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.734 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 227.9628ms
2024-11-18 12:41:50.741 +07:00 [DBG] Disposed connection to database '' on server '' (11ms).
2024-11-18 12:41:50.746 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:50.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 278.7059ms
2024-11-18 12:41:50.748 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:41:50.750 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:50.751 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:41:50.752 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 283.3617ms
2024-11-18 12:41:52.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:41:52.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:41:52.697 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:41:52.700 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:41:52.701 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:41:52.701 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:41:52.702 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:41:52.702 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:41:52.702 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:41:52.703 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:41:52.703 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:41:52.704 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:41:52.705 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:52.706 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:52.707 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:41:52.707 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:41:52.708 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:52.708 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:52.709 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:41:52.709 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:41:52.710 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:41:52.711 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:41:52.711 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:41:52.712 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:41:52.713 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:52.714 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:52.715 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:41:52.716 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:41:52.717 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:52.718 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:41:52.719 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:52.720 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:52.720 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:52.721 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:41:52.722 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:41:52.722 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:41:52.723 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:41:52.723 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:41:52.724 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:52.724 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:52.725 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:52.725 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:41:52.726 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:41:52.727 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:41:52.728 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:41:52.728 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:41:52.729 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:52.730 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:52.730 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:41:52.731 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:41:52.731 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.732 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.733 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.734 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.734 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.735 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.735 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:52.736 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:41:52.737 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.737 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:41:52.738 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:52.738 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:52.739 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:41:52.739 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:41:52.740 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:52.741 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:52.741 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:52.742 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:52.743 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:52.743 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:41:52.744 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:52.744 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:41:52.745 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:52.746 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:52.746 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:41:52.747 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:41:52.748 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:52.749 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:52.749 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:52.750 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:52.751 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:52.751 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:41:52.752 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:52.752 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:41:52.753 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:41:52.754 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:41:52.755 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:41:52.756 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:41:52.756 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:41:52.756 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:41:52.757 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.757 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.758 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.758 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.759 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:41:52.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:41:52.760 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:41:52.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:41:52.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:41:52.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:41:52.763 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:41:52.763 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:41:52.767 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:41:52.767 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:41:52.769 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.769 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.770 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:41:52.770 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:41:52.771 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.772 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.772 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:41:52.773 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:41:52.774 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:41:52.774 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:41:52.776 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:41:52.777 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:41:52.777 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:41:52.778 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:41:52.778 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:41:52.779 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:41:52.779 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:41:52.779 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:41:52.780 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:41:52.781 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:41:52.784 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.1824ms
2024-11-18 12:41:52.784 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.655ms
2024-11-18 12:41:52.785 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:52.786 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:41:52.786 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:41:52.787 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:41:52.787 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.787 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:41:52.788 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:41:52.789 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:41:52.790 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.7557ms
2024-11-18 12:41:52.791 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.5551ms
2024-11-18 12:42:23.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:42:23.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:42:23.247 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:42:23.248 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:42:23.249 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:42:23.250 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:42:23.250 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:42:23.250 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:42:23.251 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:42:23.251 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:42:23.252 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:42:23.252 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:42:23.253 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:23.255 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:23.255 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:42:23.256 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:42:23.256 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:23.257 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:23.257 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:42:23.258 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:42:23.259 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:42:23.259 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:42:23.261 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:42:23.261 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:42:23.262 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:23.263 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:23.264 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:42:23.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:42:23.265 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:23.266 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:23.267 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:23.268 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:23.268 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:23.269 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:23.270 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:42:23.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:42:23.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:42:23.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:42:23.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:23.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:23.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:23.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:23.276 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:42:23.276 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:42:23.277 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:42:23.277 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:42:23.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:23.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:23.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:42:23.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:42:23.280 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.281 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.285 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:23.285 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:23.286 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.286 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:23.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:23.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:23.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:42:23.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:42:23.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:23.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:23.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:23.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:23.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:23.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:23.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:23.294 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:23.294 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:23.295 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:23.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:42:23.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:42:23.297 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:23.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:23.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:23.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:23.300 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:23.300 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:23.301 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:23.301 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:23.303 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:42:23.303 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:42:23.304 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:42:23.305 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:42:23.305 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:42:23.305 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:42:23.306 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.306 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.307 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.307 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:42:23.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:42:23.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:42:23.310 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:42:23.310 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:42:23.311 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:42:23.312 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:42:23.312 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:42:23.316 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:42:23.316 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:42:23.318 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.319 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.319 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:42:23.320 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:42:23.320 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.321 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.321 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:42:23.322 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:42:23.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:42:23.324 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:42:23.325 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:42:23.326 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:42:23.326 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:42:23.327 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:42:23.327 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:42:23.327 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:42:23.328 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:42:23.328 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:42:23.329 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:42:23.329 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:42:23.332 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.8892ms
2024-11-18 12:42:23.337 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:23.341 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.365ms
2024-11-18 12:42:23.342 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:42:23.343 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:23.344 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.345 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:42:23.345 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:42:23.346 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:23.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 107.3881ms
2024-11-18 12:42:23.348 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:42:23.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 111.0063ms
2024-11-18 12:42:31.257 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:42:31.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:42:31.259 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:42:31.260 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:42:31.261 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:42:31.261 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:42:31.262 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:42:31.262 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:42:31.263 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:42:31.263 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:42:31.264 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:42:31.265 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:42:31.265 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:31.266 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:31.267 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:42:31.268 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:42:31.269 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:31.269 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:31.270 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:42:31.270 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:42:31.271 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:42:31.272 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:42:31.273 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:42:31.273 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:42:31.275 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:31.276 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:31.277 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:42:31.278 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:42:31.279 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:31.279 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:31.280 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:31.282 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:31.283 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:31.283 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:31.284 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:42:31.284 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:42:31.285 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:42:31.286 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:42:31.286 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:31.288 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:31.287 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:31.290 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:42:31.290 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:31.291 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:42:31.292 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:42:31.293 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:31.293 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:42:31.294 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:42:31.294 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:31.296 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.296 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:42:31.297 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.298 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.298 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.299 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.300 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:31.300 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.302 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:31.301 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.303 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:31.304 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:31.305 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:31.305 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:42:31.306 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:42:31.307 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:31.307 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:31.308 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:31.309 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:31.310 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:31.311 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:31.311 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:31.312 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:31.313 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:31.313 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:31.314 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:42:31.314 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:42:31.315 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:31.317 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:31.317 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:31.318 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:31.319 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:31.320 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:31.320 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:31.321 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:31.322 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:42:31.322 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:42:31.325 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:42:31.325 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:42:31.325 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:42:31.326 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.327 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:42:31.327 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.328 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.328 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:42:31.330 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.330 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:42:31.331 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:42:31.331 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:42:31.332 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:42:31.333 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:42:31.334 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:42:31.335 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:42:31.335 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:42:31.338 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:42:31.340 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.340 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.341 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:42:31.342 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:42:31.344 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.347 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.348 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (4ms).
2024-11-18 12:42:31.349 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 12:42:31.351 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:42:31.353 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:42:31.355 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:42:31.357 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:42:31.358 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:42:31.358 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:42:31.359 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:42:31.359 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:42:31.360 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:42:31.360 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:42:31.361 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:42:31.362 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:42:31.366 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 84.2316ms
2024-11-18 12:42:31.368 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:31.368 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.5197ms
2024-11-18 12:42:31.368 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:42:31.370 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:31.371 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.374 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:42:31.374 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-11-18 12:42:31.375 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:31.376 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 118.2426ms
2024-11-18 12:42:31.376 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:42:31.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 122.5598ms
2024-11-18 12:42:33.996 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:42:33.996 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:42:33.998 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:42:34.000 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:42:34.000 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:42:34.001 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:42:34.002 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:42:34.002 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:42:34.002 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:42:34.003 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:42:34.004 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:42:34.005 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:42:34.006 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:34.007 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:34.007 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:42:34.008 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:42:34.008 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:34.009 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:34.011 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:42:34.011 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:42:34.012 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:42:34.014 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:42:34.015 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:42:34.015 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:42:34.016 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:34.019 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:34.020 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:42:34.021 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:42:34.022 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:34.023 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:42:34.024 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:34.029 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:34.031 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:34.034 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:42:34.034 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:42:34.035 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:42:34.036 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:42:34.036 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:42:34.037 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:34.041 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:34.042 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:34.043 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:42:34.043 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:42:34.044 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:42:34.044 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:42:34.045 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:42:34.046 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:34.047 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:34.048 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:42:34.048 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:42:34.049 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.049 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.050 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.050 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.051 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.051 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.052 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:34.053 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:42:34.053 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.054 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:42:34.054 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:34.055 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:34.056 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:42:34.056 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:42:34.057 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:34.057 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:34.058 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:34.059 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:34.059 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:34.060 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:42:34.061 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:34.061 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:42:34.062 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:34.062 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:34.063 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:42:34.063 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:42:34.064 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:34.065 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:34.065 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:34.066 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:34.066 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:34.067 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:42:34.068 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:34.068 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:42:34.069 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:42:34.069 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:42:34.070 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:42:34.071 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:42:34.071 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:42:34.071 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:42:34.072 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.072 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.073 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.074 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.074 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:42:34.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:42:34.076 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:42:34.076 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:42:34.077 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:42:34.078 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:42:34.078 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:42:34.079 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:42:34.082 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:42:34.083 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:42:34.084 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.084 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.085 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:42:34.085 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:42:34.086 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.087 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.088 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:42:34.088 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:42:34.089 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:42:34.089 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:42:34.090 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:42:34.092 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:42:34.092 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:42:34.092 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:42:34.093 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:42:34.093 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:42:34.094 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:42:34.094 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:42:34.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:42:34.095 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:42:34.097 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.6532ms
2024-11-18 12:42:34.098 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.6364ms
2024-11-18 12:42:34.098 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:34.099 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:42:34.099 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:42:34.100 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:42:34.100 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.101 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:42:34.102 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:42:34.102 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:42:34.103 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 106.9501ms
2024-11-18 12:42:34.103 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 107.5456ms
2024-11-18 12:44:20.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:44:20.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:44:20.784 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:44:20.785 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:44:20.784 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:44:20.786 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:44:20.787 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:44:20.787 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:44:20.787 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:44:20.788 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:44:20.789 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:44:20.789 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:20.790 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:44:20.790 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:44:20.791 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:20.792 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:20.793 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:44:20.793 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:44:20.794 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:20.795 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:44:20.795 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:44:20.796 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:44:20.797 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:44:20.798 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:20.800 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:44:20.801 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:44:20.803 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:20.803 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:20.804 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:44:20.807 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:20.810 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:20.805 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:20.811 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:20.812 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:20.812 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:44:20.814 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:44:20.815 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:44:20.816 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:44:20.817 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:20.818 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:20.819 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:20.820 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:20.822 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:44:20.823 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:44:20.823 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:44:20.824 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:44:20.825 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:20.825 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:20.826 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:44:20.826 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:44:20.827 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.828 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.829 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.829 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.830 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.830 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.831 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:20.832 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:20.832 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.833 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:20.834 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:20.834 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:20.835 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:44:20.836 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:44:20.836 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:20.837 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:20.837 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:20.838 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:20.838 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:20.839 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:20.840 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:20.840 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:20.841 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:20.842 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:20.842 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:44:20.843 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:44:20.844 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:20.844 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:20.845 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:20.845 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:20.846 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:20.846 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:20.847 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:20.848 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:20.849 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:44:20.850 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:44:20.854 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:44:20.855 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:44:20.856 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:44:20.855 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:44:20.856 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.857 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.857 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.858 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.858 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:44:20.859 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:44:20.859 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:44:20.860 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:44:20.860 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:44:20.861 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:44:20.861 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:44:20.862 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:44:20.866 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:44:20.866 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:44:20.867 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.867 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.868 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:44:20.869 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:44:20.870 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.870 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.871 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:44:20.871 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:44:20.872 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:44:20.873 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:44:20.873 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:44:20.874 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:44:20.875 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:44:20.875 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:44:20.876 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:44:20.876 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:44:20.876 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:44:20.877 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:44:20.878 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:44:20.878 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:44:20.880 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.5609ms
2024-11-18 12:44:20.886 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:20.886 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 80.3551ms
2024-11-18 12:44:20.888 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:44:20.888 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:20.889 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.889 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:44:20.890 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:44:20.891 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:20.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 113.2445ms
2024-11-18 12:44:20.892 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:44:20.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 116.5016ms
2024-11-18 12:44:21.884 +07:00 [DBG] Connection id "0HN87HVO5FAES" received FIN.
2024-11-18 12:44:21.885 +07:00 [DBG] Connection id "0HN87HVO5FAES" is closed. The last processed stream ID was 23.
2024-11-18 12:44:21.887 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAES completed.
2024-11-18 12:44:21.888 +07:00 [DBG] Connection id "0HN87HVO5FAES" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:44:21.898 +07:00 [DBG] Connection id "0HN87HVO5FAES" stopped.
2024-11-18 12:44:32.821 +07:00 [DBG] Connection id "0HN87HVO5FAET" accepted.
2024-11-18 12:44:32.821 +07:00 [DBG] Connection id "0HN87HVO5FAET" started.
2024-11-18 12:44:32.824 +07:00 [DBG] Connection 0HN87HVO5FAET established using the following protocol: "Tls13"
2024-11-18 12:44:32.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:44:32.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:44:32.827 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:44:32.828 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:44:32.829 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:44:32.829 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:44:32.830 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:44:32.830 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:44:32.830 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:44:32.831 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:44:32.831 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:44:32.832 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:44:32.833 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:32.833 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:32.834 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:44:32.834 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:44:32.835 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:32.835 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:32.836 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:44:32.836 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:44:32.837 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:44:32.838 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:44:32.838 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:44:32.839 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:44:32.840 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:32.841 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:32.842 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:44:32.843 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:44:32.843 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:32.844 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:32.845 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:32.845 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:32.846 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:32.847 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:32.847 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:44:32.848 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:44:32.848 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:44:32.849 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:44:32.850 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:32.850 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:32.851 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:32.851 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:32.852 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:44:32.852 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:44:32.853 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:44:32.853 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:44:32.854 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:32.855 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:32.855 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:44:32.856 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:44:32.857 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.857 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.858 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.858 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.859 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.859 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.860 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:32.860 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:32.861 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.862 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:32.862 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:32.863 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:32.863 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:44:32.864 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:44:32.865 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:32.865 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:32.866 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:32.866 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:32.867 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:32.867 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:32.868 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:32.869 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:32.869 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:32.870 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:32.870 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:44:32.871 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:44:32.872 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:32.872 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:32.873 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:32.873 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:32.874 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:32.874 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:32.875 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:32.876 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:32.877 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:44:32.877 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:44:32.879 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:44:32.879 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:44:32.879 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:44:32.879 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:44:32.880 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.880 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.881 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.881 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.882 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:44:32.883 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:44:32.883 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:44:32.884 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:44:32.884 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:44:32.885 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:44:32.885 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:44:32.886 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:44:32.889 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:44:32.889 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:44:32.891 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.892 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.892 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:44:32.893 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:44:32.893 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.894 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.894 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:44:32.895 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:44:32.896 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:44:32.897 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:44:32.898 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:44:32.899 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:44:32.899 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:44:32.900 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:44:32.900 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:44:32.900 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:44:32.901 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:44:32.901 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:44:32.901 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:44:32.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:44:32.904 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.5847ms
2024-11-18 12:44:32.906 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.7638ms
2024-11-18 12:44:32.906 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:32.910 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:32.910 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:44:32.911 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:44:32.911 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.912 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:32.913 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:44:32.913 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:44:32.914 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 88.8526ms
2024-11-18 12:44:32.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 89.6017ms
2024-11-18 12:44:35.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:44:35.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:44:35.801 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:44:35.802 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:44:35.803 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:44:35.803 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:44:35.804 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:44:35.804 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:44:35.804 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:44:35.805 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:44:35.806 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:44:35.807 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:44:35.807 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:35.808 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:35.809 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:44:35.810 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:44:35.810 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:35.811 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:35.811 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:44:35.812 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:44:35.813 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:44:35.814 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:44:35.815 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:44:35.816 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:44:35.816 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:35.817 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:35.818 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:44:35.821 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:35.823 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:35.820 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:44:35.825 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:35.826 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:44:35.827 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:44:35.828 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:35.829 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:35.825 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:44:35.830 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:44:35.832 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:35.832 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:44:35.834 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:44:35.834 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:35.835 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:44:35.836 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:44:35.837 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:44:35.838 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.839 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:35.841 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.843 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.841 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:44:35.845 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:35.846 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:44:35.848 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.848 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:44:35.849 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:35.850 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:35.851 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:44:35.852 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:44:35.853 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:35.853 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.854 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:35.855 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.855 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:35.856 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.857 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:35.857 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:44:35.858 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:35.858 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:44:35.859 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:44:35.859 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:35.860 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:35.861 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:44:35.861 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:35.862 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:35.863 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:35.863 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:35.864 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:35.865 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:44:35.866 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:44:35.866 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:44:35.867 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:44:35.867 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:35.868 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:44:35.868 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:44:35.869 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.870 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:35.871 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.871 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:35.872 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:44:35.872 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:44:35.873 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:44:35.873 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:44:35.874 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:44:35.875 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:44:35.875 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:44:35.877 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:44:35.878 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:44:35.878 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.879 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.879 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:44:35.880 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:44:35.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:44:35.881 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:44:35.881 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:44:35.882 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.884 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:44:35.885 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.886 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:44:35.886 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:44:35.886 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:44:35.887 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.888 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:44:35.889 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:44:35.890 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:44:35.891 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.891 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:44:35.892 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:44:35.892 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:44:35.893 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:44:35.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:44:35.894 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:44:35.895 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.7826ms
2024-11-18 12:44:35.895 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:44:35.896 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:35.896 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:44:35.897 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:44:35.897 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:44:35.898 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.899 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:44:35.899 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:44:35.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 102.1143ms
2024-11-18 12:44:35.902 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.4713ms
2024-11-18 12:44:35.905 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:44:35.905 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:44:35.906 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:44:35.907 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:44:35.907 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 107.8775ms
2024-11-18 12:44:36.907 +07:00 [DBG] Connection id "0HN87HVO5FAET" received FIN.
2024-11-18 12:44:36.908 +07:00 [DBG] Connection id "0HN87HVO5FAET" is closed. The last processed stream ID was 7.
2024-11-18 12:44:36.909 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAET completed.
2024-11-18 12:44:36.910 +07:00 [DBG] Connection id "0HN87HVO5FAET" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:44:36.923 +07:00 [DBG] Connection id "0HN87HVO5FAET" stopped.
2024-11-18 12:46:25.323 +07:00 [DBG] Connection id "0HN87HVO5FAEU" accepted.
2024-11-18 12:46:25.325 +07:00 [DBG] Connection id "0HN87HVO5FAEU" started.
2024-11-18 12:46:25.338 +07:00 [DBG] Connection 0HN87HVO5FAEU established using the following protocol: "Tls13"
2024-11-18 12:46:25.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:46:25.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:46:25.352 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:46:25.353 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:46:25.353 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:46:25.354 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:46:25.355 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:46:25.356 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:46:25.356 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:46:25.357 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:46:25.358 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:46:25.359 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:46:25.360 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:46:25.360 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:46:25.361 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:46:25.361 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:46:25.362 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:46:25.363 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:46:25.363 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:46:25.364 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:46:25.365 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:46:25.366 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:46:25.367 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:46:25.367 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:46:25.368 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:46:25.369 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:46:25.370 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:46:25.371 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:46:25.371 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:46:25.372 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:46:25.373 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:46:25.374 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:46:25.375 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:46:25.375 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:46:25.376 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:46:25.377 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:46:25.377 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:46:25.378 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:46:25.379 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:46:25.381 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:46:25.381 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:46:25.382 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:46:25.383 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:46:25.383 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:46:25.384 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:46:25.385 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:46:25.385 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:46:25.388 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:46:25.388 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:46:25.389 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:46:25.390 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.390 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.391 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.392 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.393 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.393 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.394 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:46:25.395 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:46:25.395 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.396 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:46:25.397 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:46:25.397 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:46:25.398 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:46:25.398 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:46:25.399 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:46:25.400 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:46:25.401 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:46:25.402 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:46:25.402 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:46:25.403 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:46:25.404 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:46:25.404 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:46:25.405 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:46:25.406 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:46:25.407 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:46:25.409 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:46:25.410 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:46:25.411 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:46:25.412 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:46:25.413 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:46:25.414 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:46:25.416 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:46:25.417 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:46:25.420 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:46:25.421 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:46:25.423 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:46:25.424 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:46:25.425 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:46:25.425 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:46:25.426 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:46:25.427 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.428 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.427 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.429 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:46:25.430 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.430 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:46:25.431 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:46:25.431 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:46:25.432 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:46:25.433 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:46:25.433 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:46:25.436 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:46:25.441 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:46:25.442 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.443 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:46:25.443 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:46:25.445 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.445 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.446 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:46:25.447 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:46:25.447 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.448 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:46:25.449 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:46:25.450 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:46:25.451 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:46:25.451 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:46:25.453 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:46:25.453 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:46:25.453 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:46:25.454 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:46:25.454 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:46:25.455 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:46:25.455 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:46:25.456 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 82.974ms
2024-11-18 12:46:25.457 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:46:25.457 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:46:25.459 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:46:25.461 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.463 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 89.0474ms
2024-11-18 12:46:25.463 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:46:25.497 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:46:25.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 153.9244ms
2024-11-18 12:46:25.498 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:46:25.501 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:46:25.501 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:46:25.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 156.3857ms
2024-11-18 12:46:27.026 +07:00 [DBG] Connection id "0HN87HVO5FAEU" received FIN.
2024-11-18 12:46:27.038 +07:00 [DBG] Connection id "0HN87HVO5FAEU" is closed. The last processed stream ID was 3.
2024-11-18 12:46:27.038 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEU completed.
2024-11-18 12:46:27.041 +07:00 [DBG] Connection id "0HN87HVO5FAEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:46:27.054 +07:00 [DBG] Connection id "0HN87HVO5FAEU" stopped.
2024-11-18 12:47:19.254 +07:00 [DBG] Connection id "0HN87HVO5FAEV" accepted.
2024-11-18 12:47:19.258 +07:00 [DBG] Connection id "0HN87HVO5FAEV" started.
2024-11-18 12:47:19.266 +07:00 [DBG] Connection 0HN87HVO5FAEV established using the following protocol: "Tls13"
2024-11-18 12:47:19.274 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:47:19.275 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:47:19.280 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:47:19.281 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:47:19.282 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:47:19.282 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:47:19.283 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:47:19.283 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:47:19.284 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:47:19.284 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:47:19.285 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:47:19.285 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:47:19.286 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:19.286 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:19.287 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:47:19.287 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:47:19.288 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:19.288 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:19.289 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:47:19.289 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:47:19.291 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:47:19.292 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:47:19.292 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:47:19.293 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:47:19.293 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:19.294 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:19.295 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:47:19.297 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:47:19.297 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:19.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:19.299 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:19.300 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:19.300 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:19.301 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:19.301 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:47:19.302 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:47:19.303 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:47:19.303 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:47:19.304 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:19.305 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:19.305 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:19.306 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:19.306 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:47:19.307 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:47:19.307 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:47:19.308 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:47:19.309 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:19.310 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:19.311 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:47:19.311 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:47:19.312 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.313 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.313 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.314 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.314 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.315 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.316 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:19.317 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:19.317 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.318 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:19.318 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:19.319 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:19.319 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:47:19.320 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:47:19.321 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:19.321 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:19.322 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:19.322 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:19.323 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:19.324 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:19.324 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:19.325 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:19.326 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:19.327 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:19.327 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:47:19.327 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:47:19.328 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:19.329 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:19.329 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:19.330 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:19.331 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:19.331 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:19.332 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:19.332 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:19.333 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:47:19.334 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:47:19.334 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:47:19.335 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:47:19.335 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:47:19.336 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:47:19.336 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.337 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.337 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.338 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:47:19.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:47:19.340 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:47:19.340 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:47:19.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:47:19.341 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:47:19.341 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:47:19.342 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:47:19.346 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:47:19.347 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:47:19.348 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.348 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.349 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:47:19.349 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:47:19.350 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.351 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.351 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:47:19.352 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:47:19.353 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:47:19.353 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:47:19.354 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:47:19.356 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:47:19.356 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:47:19.356 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:47:19.357 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:47:19.357 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:47:19.357 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:47:19.358 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:47:19.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:47:19.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:47:19.361 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.6611ms
2024-11-18 12:47:19.365 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:19.365 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.6114ms
2024-11-18 12:47:19.367 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:47:19.367 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:19.368 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.368 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:47:19.369 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:47:19.369 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:19.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 95.4839ms
2024-11-18 12:47:19.371 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:47:19.374 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 100.0486ms
2024-11-18 12:47:22.123 +07:00 [DBG] Connection id "0HN87HVO5FAEV" received FIN.
2024-11-18 12:47:22.124 +07:00 [DBG] Connection id "0HN87HVO5FAEV" is closed. The last processed stream ID was 3.
2024-11-18 12:47:22.124 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAEV completed.
2024-11-18 12:47:22.125 +07:00 [DBG] Connection id "0HN87HVO5FAEV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:47:22.138 +07:00 [DBG] Connection id "0HN87HVO5FAEV" stopped.
2024-11-18 12:47:29.247 +07:00 [DBG] Connection id "0HN87HVO5FAF0" accepted.
2024-11-18 12:47:29.247 +07:00 [DBG] Connection id "0HN87HVO5FAF0" started.
2024-11-18 12:47:29.251 +07:00 [DBG] Connection 0HN87HVO5FAF0 established using the following protocol: "Tls13"
2024-11-18 12:47:29.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:47:29.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:47:29.254 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:47:29.255 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:47:29.255 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:47:29.256 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:47:29.256 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:47:29.256 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:47:29.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:47:29.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:47:29.258 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:47:29.258 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:47:29.259 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:29.259 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:29.260 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:47:29.260 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:47:29.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:29.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:29.262 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:47:29.262 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:47:29.263 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:47:29.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:47:29.264 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:47:29.265 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:47:29.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:29.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:29.267 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:47:29.268 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:47:29.269 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:29.270 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:47:29.270 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:29.271 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:29.272 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:29.272 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:47:29.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:47:29.274 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:47:29.274 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:47:29.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:47:29.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:29.276 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:29.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:29.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:47:29.278 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:47:29.278 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:47:29.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:47:29.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:47:29.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:29.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:29.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:47:29.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:47:29.282 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:29.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:47:29.287 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.288 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:47:29.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:29.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:29.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:47:29.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:47:29.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:29.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:29.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:29.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:29.293 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:29.294 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:47:29.295 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:29.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:47:29.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:29.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:29.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:47:29.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:47:29.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:29.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:29.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:29.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:29.302 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:29.303 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:47:29.303 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:29.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:47:29.305 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:47:29.305 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:47:29.306 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:47:29.307 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:47:29.307 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:47:29.307 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:47:29.308 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.308 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.309 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.310 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.310 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:47:29.311 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:47:29.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:47:29.313 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:47:29.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:47:29.313 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:47:29.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:47:29.315 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:47:29.318 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:47:29.318 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:47:29.320 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.321 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.321 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:47:29.322 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:47:29.324 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.325 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.326 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 12:47:29.326 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:47:29.327 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:47:29.328 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:47:29.329 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:47:29.330 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:47:29.330 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:47:29.331 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:47:29.331 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:47:29.332 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:47:29.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:47:29.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:47:29.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:47:29.334 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:47:29.336 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.6591ms
2024-11-18 12:47:29.336 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.8092ms
2024-11-18 12:47:29.337 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:29.338 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:47:29.338 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:47:29.339 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:47:29.339 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.340 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:47:29.340 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:47:29.341 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:47:29.342 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 89.6211ms
2024-11-18 12:47:29.342 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 90.2476ms
2024-11-18 12:47:32.145 +07:00 [DBG] Connection id "0HN87HVO5FAF0" received FIN.
2024-11-18 12:47:32.145 +07:00 [DBG] Connection id "0HN87HVO5FAF0" is closed. The last processed stream ID was 3.
2024-11-18 12:47:32.145 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF0 completed.
2024-11-18 12:47:32.146 +07:00 [DBG] Connection id "0HN87HVO5FAF0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:47:32.162 +07:00 [DBG] Connection id "0HN87HVO5FAF0" stopped.
2024-11-18 12:48:37.169 +07:00 [DBG] Connection id "0HN87HVO5FAF1" accepted.
2024-11-18 12:48:37.172 +07:00 [DBG] Connection id "0HN87HVO5FAF1" started.
2024-11-18 12:48:37.176 +07:00 [DBG] Connection 0HN87HVO5FAF1 established using the following protocol: "Tls13"
2024-11-18 12:48:37.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:48:37.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:48:37.185 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:48:37.186 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:48:37.186 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:48:37.187 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:48:37.187 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:48:37.187 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:48:37.188 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:48:37.188 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:48:37.189 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:48:37.189 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:48:37.190 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:37.191 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:37.191 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:48:37.191 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:48:37.192 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:37.192 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:37.193 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:48:37.193 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:48:37.194 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:48:37.194 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:48:37.195 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:48:37.196 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:48:37.197 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:37.197 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:37.198 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:48:37.199 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:48:37.200 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:37.201 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:37.201 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:37.202 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:37.203 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:37.203 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:37.204 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:48:37.205 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:48:37.205 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:48:37.206 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:48:37.206 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:37.207 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:37.208 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:37.208 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:37.209 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:48:37.209 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:48:37.210 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:48:37.211 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:48:37.211 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:37.212 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:37.212 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:48:37.213 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:48:37.214 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.214 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.215 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.216 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.216 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.217 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.218 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:37.218 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:37.219 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.220 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:37.220 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:37.221 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:37.221 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:48:37.222 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:48:37.222 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:37.223 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:37.224 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:37.224 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:37.225 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:37.226 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:37.226 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:37.227 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:37.228 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:37.228 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:37.229 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:48:37.229 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:48:37.230 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:37.231 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:37.231 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:37.232 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:37.233 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:37.234 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:37.235 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:37.235 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:37.237 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:48:37.237 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:48:37.238 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:48:37.239 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:48:37.239 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:48:37.240 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:48:37.240 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.241 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.241 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.242 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.242 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:48:37.243 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:48:37.243 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:48:37.244 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:48:37.245 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:48:37.246 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:48:37.246 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:48:37.247 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:48:37.252 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:48:37.252 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:48:37.253 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.254 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.255 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:48:37.255 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:48:37.256 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.256 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.257 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:48:37.257 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:48:37.259 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:48:37.259 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:48:37.260 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:48:37.262 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:48:37.262 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:48:37.262 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:48:37.263 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:48:37.263 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:48:37.263 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:48:37.264 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:48:37.264 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:48:37.265 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:48:37.267 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.1667ms
2024-11-18 12:48:37.269 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:37.272 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.2788ms
2024-11-18 12:48:37.273 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:48:37.273 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:37.274 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.274 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:48:37.275 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:48:37.276 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:37.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.3855ms
2024-11-18 12:48:37.277 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:48:37.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 99.457ms
2024-11-18 12:48:48.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:48:48.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:48:48.780 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:48:48.781 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:48:48.782 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:48:48.782 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:48:48.783 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:48:48.783 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:48:48.783 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:48:48.784 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:48:48.784 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:48:48.785 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:48:48.786 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:48.787 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:48.787 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:48:48.787 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:48:48.788 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:48.789 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:48.789 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:48:48.790 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:48:48.790 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:48:48.791 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:48:48.792 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:48:48.793 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:48:48.793 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:48.794 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:48.795 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:48:48.796 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:48:48.797 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:48.797 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:48:48.798 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:48.799 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:48.800 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:48.800 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:48:48.801 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:48:48.801 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:48:48.802 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:48:48.803 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:48:48.803 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:48.804 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:48.804 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:48.805 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:48:48.806 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:48:48.806 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:48:48.807 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:48:48.807 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:48:48.808 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:48.809 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:48.809 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:48:48.810 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:48:48.810 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.811 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.812 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.812 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.813 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.814 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.814 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:48.815 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:48:48.815 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.816 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:48:48.817 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:48.817 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:48.818 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:48:48.818 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:48:48.819 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:48.819 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:48.820 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:48.821 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:48.822 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:48.822 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:48:48.823 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:48.824 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:48:48.824 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:48.825 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:48.826 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:48:48.826 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:48:48.827 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:48.828 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:48.829 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:48.829 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:48.830 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:48.830 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:48:48.831 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:48.832 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:48:48.832 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:48:48.833 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:48:48.834 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:48:48.835 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:48:48.835 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:48:48.836 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.836 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:48:48.837 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.837 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.838 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:48:48.838 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:48:48.839 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:48:48.840 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:48:48.840 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:48:48.841 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:48:48.842 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:48:48.843 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:48:48.846 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:48:48.846 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:48:48.847 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.849 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.849 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:48:48.850 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:48:48.850 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.851 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.852 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:48:48.852 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:48:48.853 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:48:48.854 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:48:48.855 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:48:48.857 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:48:48.857 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:48:48.857 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:48:48.858 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:48:48.858 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:48:48.859 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:48:48.859 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:48:48.860 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:48:48.860 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:48:48.861 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.2565ms
2024-11-18 12:48:48.864 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:48.865 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.6789ms
2024-11-18 12:48:48.869 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:48:48.871 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:48:48.871 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.872 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:48:48.873 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:48:48.873 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:48:48.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 95.8665ms
2024-11-18 12:48:48.874 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:48:48.877 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 98.7833ms
2024-11-18 12:48:52.252 +07:00 [DBG] Connection id "0HN87HVO5FAF1" received FIN.
2024-11-18 12:48:52.253 +07:00 [DBG] Connection id "0HN87HVO5FAF1" is closed. The last processed stream ID was 7.
2024-11-18 12:48:52.253 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF1 completed.
2024-11-18 12:48:52.254 +07:00 [DBG] Connection id "0HN87HVO5FAF1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:48:52.256 +07:00 [DBG] Connection id "0HN87HVO5FAF1" stopped.
2024-11-18 12:51:45.249 +07:00 [DBG] Connection id "0HN87HVO5FAF2" accepted.
2024-11-18 12:51:45.255 +07:00 [DBG] Connection id "0HN87HVO5FAF2" started.
2024-11-18 12:51:45.263 +07:00 [DBG] Connection 0HN87HVO5FAF2 established using the following protocol: "Tls13"
2024-11-18 12:51:45.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:51:45.273 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:51:45.282 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:51:45.284 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:51:45.284 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:51:45.284 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:51:45.286 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:51:45.285 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:51:45.286 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:51:45.287 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:51:45.287 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:51:45.288 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:51:45.288 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:51:45.289 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:51:45.290 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:51:45.290 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:51:45.291 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:51:45.291 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:51:45.291 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:51:45.292 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:51:45.293 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:51:45.293 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:51:45.294 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:51:45.294 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:51:45.295 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:51:45.296 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:51:45.297 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:51:45.297 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:51:45.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:51:45.299 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:51:45.299 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:51:45.300 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:51:45.300 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:51:45.301 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:51:45.301 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:51:45.302 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:51:45.303 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:51:45.303 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:51:45.304 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:51:45.305 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:51:45.305 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:51:45.306 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:51:45.306 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:51:45.307 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:51:45.307 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:51:45.308 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:51:45.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:51:45.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:51:45.309 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:51:45.310 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:51:45.310 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.311 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.312 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.312 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.313 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.313 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.314 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:51:45.314 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:51:45.314 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.315 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:51:45.315 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:51:45.316 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:51:45.317 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:51:45.318 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:51:45.318 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:51:45.319 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:51:45.319 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:51:45.320 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:51:45.321 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:51:45.321 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:51:45.322 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:51:45.322 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:51:45.323 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:51:45.324 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:51:45.324 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:51:45.325 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:51:45.326 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:51:45.327 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:51:45.327 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:51:45.328 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:51:45.329 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:51:45.329 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:51:45.329 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:51:45.330 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:51:45.332 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:51:45.332 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:51:45.334 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:51:45.335 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:51:45.335 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:51:45.335 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:51:45.335 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.336 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.336 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.337 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.338 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:51:45.338 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:51:45.338 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:51:45.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:51:45.339 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:51:45.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:51:45.340 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:51:45.341 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:51:45.344 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:51:45.344 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:51:45.345 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.346 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.346 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:51:45.347 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:51:45.348 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.348 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.349 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:51:45.349 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:51:45.350 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:51:45.350 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:51:45.351 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:51:45.352 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:51:45.353 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:51:45.353 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:51:45.353 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:51:45.354 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:51:45.354 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:51:45.354 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:51:45.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:51:45.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:51:45.358 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.2647ms
2024-11-18 12:51:45.358 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.387ms
2024-11-18 12:51:45.359 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:51:45.359 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:51:45.360 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:51:45.360 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:51:45.361 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.361 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:51:45.362 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:51:45.362 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:51:45.363 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.1789ms
2024-11-18 12:51:45.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.2096ms
2024-11-18 12:52:21.238 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:52:21.238 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:52:21.243 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:21.244 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:21.245 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:21.245 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:21.245 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:21.246 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:21.246 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:21.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:21.247 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:21.248 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:21.249 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:21.249 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:21.250 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:21.250 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:21.251 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:21.251 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:21.252 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:21.252 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:21.253 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:21.254 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:21.255 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:21.256 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:21.256 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:21.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:21.258 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:21.259 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:21.259 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:21.260 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:21.262 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:21.263 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:21.263 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:21.264 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:21.264 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:21.265 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:21.266 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:21.266 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:21.267 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:21.268 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:21.268 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:21.269 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:21.269 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:21.270 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:21.270 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:21.271 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:21.271 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:21.272 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:21.272 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:21.273 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:21.274 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.274 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.275 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.275 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.276 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.277 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.277 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:21.278 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:21.278 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.279 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:21.279 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:21.280 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:21.280 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:21.281 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:21.282 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:21.282 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:21.283 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:21.284 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:21.284 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:21.285 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:21.285 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:21.286 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:21.286 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:21.287 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:21.287 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:21.288 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:21.289 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:21.289 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:21.290 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:21.290 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:21.291 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:21.291 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:21.292 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:21.292 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:21.293 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:21.294 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:21.295 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:21.296 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:21.296 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:52:21.296 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:52:21.297 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.297 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.298 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.298 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.299 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:21.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:21.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:52:21.301 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:21.301 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:52:21.302 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:52:21.303 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:21.303 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:21.306 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:21.306 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:21.307 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.308 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.309 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:21.309 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:21.310 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.311 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.311 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:21.312 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:21.312 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:21.313 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:21.314 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:21.315 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:21.316 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:21.316 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:21.317 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:21.317 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:21.317 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:21.318 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:21.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:21.319 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:21.321 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.9857ms
2024-11-18 12:52:21.325 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:21.325 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.1117ms
2024-11-18 12:52:21.326 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:21.330 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:21.331 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.331 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:21.332 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:52:21.332 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:21.333 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.6158ms
2024-11-18 12:52:21.333 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:52:21.335 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 96.9995ms
2024-11-18 12:52:32.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:52:32.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:52:32.241 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:32.243 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:32.243 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:32.244 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:32.244 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:32.244 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:32.245 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:32.245 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:32.246 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:32.247 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:32.247 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:32.248 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:32.249 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:32.250 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:32.250 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:32.251 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:32.252 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:32.253 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:32.254 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:32.254 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:32.255 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:32.256 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:32.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:32.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:32.258 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:32.259 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:32.260 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:32.261 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:32.261 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:32.262 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:32.263 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:32.263 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:32.264 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:32.264 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:32.265 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:32.266 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:32.266 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:32.267 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:32.268 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:32.268 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:32.269 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:32.269 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:32.270 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:32.270 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:32.271 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:32.271 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:32.272 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:32.272 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:32.273 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.274 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.274 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.275 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.276 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.276 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.277 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:32.277 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:32.278 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.278 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:32.279 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:32.279 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:32.280 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:32.281 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:32.281 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:32.282 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:32.283 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:32.283 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:32.284 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:32.284 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:32.285 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:32.285 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:32.286 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:32.286 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:32.287 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:32.288 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:32.288 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:32.289 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:32.290 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:32.290 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:32.291 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:32.291 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:32.292 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:32.292 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:32.293 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:32.294 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:32.295 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:32.295 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:32.295 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:52:32.296 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:52:32.296 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.297 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.297 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.298 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:32.299 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:32.299 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:32.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:32.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:52:32.301 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:52:32.302 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:32.302 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:32.304 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:32.304 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:32.305 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.306 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.306 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:32.307 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:32.307 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.308 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.309 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:32.309 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:32.310 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:32.311 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:32.312 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:32.313 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:32.313 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:32.314 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:32.314 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:32.314 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:32.315 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:32.315 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:32.316 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:32.316 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:32.317 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.9111ms
2024-11-18 12:52:32.319 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:32.321 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:32.329 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.329 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.8001ms
2024-11-18 12:52:32.331 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:52:32.332 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:32.333 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 92.9858ms
2024-11-18 12:52:32.333 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:32.336 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:32.337 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:52:32.338 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 98.7818ms
2024-11-18 12:52:37.643 +07:00 [DBG] Connection id "0HN87HVO5FAF2" received FIN.
2024-11-18 12:52:37.644 +07:00 [DBG] Connection id "0HN87HVO5FAF2" is closed. The last processed stream ID was 11.
2024-11-18 12:52:37.644 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF2 completed.
2024-11-18 12:52:37.645 +07:00 [DBG] Connection id "0HN87HVO5FAF2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:52:37.657 +07:00 [DBG] Connection id "0HN87HVO5FAF2" stopped.
2024-11-18 12:52:44.977 +07:00 [DBG] Connection id "0HN87HVO5FAF3" accepted.
2024-11-18 12:52:44.978 +07:00 [DBG] Connection id "0HN87HVO5FAF3" started.
2024-11-18 12:52:44.981 +07:00 [DBG] Connection 0HN87HVO5FAF3 established using the following protocol: "Tls13"
2024-11-18 12:52:44.982 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:52:44.982 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:52:44.984 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:44.985 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:44.985 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:44.986 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:44.986 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:44.987 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:44.988 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:44.988 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:44.989 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:44.989 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:44.990 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:44.991 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:44.992 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:44.992 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:44.993 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:44.993 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:44.994 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:44.994 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:44.995 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:44.996 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:44.996 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:44.997 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:44.998 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:44.998 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:44.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:45.000 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:45.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:45.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:45.002 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:45.003 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:45.004 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:45.004 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:45.005 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:45.005 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:45.006 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:45.006 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:45.007 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:45.008 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:45.008 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:45.009 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:45.009 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:45.010 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:45.011 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:45.011 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:45.012 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:45.012 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:45.013 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:45.013 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:45.014 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.015 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.015 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.016 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.016 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.017 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.018 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:45.018 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:45.019 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.019 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:45.020 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:45.020 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:45.021 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:45.021 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:45.022 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:45.023 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:45.023 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:45.024 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:45.025 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:45.026 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:45.026 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:45.027 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:45.028 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:45.029 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:45.032 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:45.029 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:45.034 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:45.035 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:45.036 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:45.037 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:45.038 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:45.039 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:45.040 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:45.040 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:45.042 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:45.043 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:45.043 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:45.045 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:52:45.045 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:45.045 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.046 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:52:45.046 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.047 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:45.048 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:45.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:45.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:52:45.050 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:45.050 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:45.051 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:52:45.053 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:45.055 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:45.056 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:45.056 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.057 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.058 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:45.058 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:45.059 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.060 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.061 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:45.061 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:45.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:45.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:45.063 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:45.065 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:45.065 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:45.065 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:45.066 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:45.066 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:45.067 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:45.067 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:45.067 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:45.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:45.070 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.9322ms
2024-11-18 12:52:45.070 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.469ms
2024-11-18 12:52:45.071 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:45.071 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:45.072 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:45.073 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:45.073 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.074 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:45.074 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:52:45.074 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:52:45.075 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 92.898ms
2024-11-18 12:52:45.076 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.471ms
2024-11-18 12:52:55.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:52:55.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:52:55.310 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:55.311 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:52:55.311 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:55.311 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:52:55.312 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:55.312 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:52:55.313 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:55.313 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:52:55.313 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:55.314 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:52:55.315 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:55.316 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:55.316 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:55.316 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:52:55.317 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:55.318 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:55.318 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:55.319 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:52:55.319 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:55.320 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:52:55.321 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:55.322 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:52:55.322 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:55.323 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:55.324 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:55.325 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:52:55.326 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:55.326 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:52:55.327 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:55.328 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:55.329 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:55.330 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:52:55.330 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:55.331 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:52:55.332 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:55.332 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:52:55.333 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:55.334 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:55.334 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:55.335 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:52:55.335 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:55.336 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:52:55.337 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:55.337 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:52:55.338 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:55.338 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:55.339 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:55.339 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:52:55.340 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.340 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.341 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.342 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.342 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.343 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.344 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:55.344 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:52:55.345 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.345 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:52:55.346 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:55.346 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:55.347 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:55.347 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:52:55.348 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:55.348 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:55.349 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:55.350 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:55.350 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:55.351 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:52:55.351 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:55.352 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:52:55.353 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:55.353 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:55.354 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:55.354 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:52:55.355 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:55.355 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:55.356 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:55.357 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:55.357 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:55.358 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:52:55.358 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:55.359 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:52:55.360 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:55.360 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:52:55.361 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:55.362 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:52:55.362 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:52:55.362 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:52:55.363 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.363 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.364 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.364 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.365 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:55.366 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:52:55.366 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:55.366 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:52:55.367 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:52:55.367 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:52:55.368 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:55.368 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:55.372 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:52:55.372 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:52:55.374 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.374 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.375 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:55.375 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:52:55.376 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.377 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.377 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:55.378 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:52:55.378 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:55.379 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:52:55.380 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:55.381 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:52:55.382 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:55.382 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:52:55.382 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:55.383 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:52:55.383 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:55.383 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:52:55.384 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:55.384 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:52:55.387 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.5851ms
2024-11-18 12:52:55.387 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.8795ms
2024-11-18 12:52:55.388 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:55.388 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:52:55.389 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:55.389 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:52:55.390 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.390 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:52:55.391 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:52:55.392 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:52:55.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 84.1223ms
2024-11-18 12:52:55.393 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 84.8573ms
2024-11-18 12:53:04.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:53:04.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:53:04.329 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:04.330 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:04.331 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:04.331 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:04.332 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:04.332 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:04.332 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:04.333 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:04.333 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:04.334 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:04.334 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:04.335 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:04.336 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:04.336 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:04.337 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:04.337 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:04.338 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:04.338 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:04.339 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:04.339 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:04.340 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:04.341 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:04.341 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:04.342 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:04.343 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:04.344 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:04.344 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:04.345 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:04.346 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:04.346 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:04.347 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:04.347 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:04.348 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:04.348 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:04.349 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:04.350 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:04.351 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:04.351 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:04.352 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:04.352 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:04.353 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:04.353 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:04.354 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:04.354 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:04.355 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:04.356 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:04.357 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:04.357 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:04.358 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.359 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.359 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.360 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.360 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.361 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.361 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:04.362 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:04.362 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.364 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:04.364 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:04.365 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:04.366 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:04.367 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:04.367 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:04.368 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:04.369 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:04.369 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:04.370 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:04.371 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:04.372 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:04.373 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:04.374 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:04.374 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:04.375 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:04.376 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:04.377 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:04.378 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:04.379 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:04.379 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:04.380 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:04.381 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:04.382 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:04.383 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:04.384 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:04.385 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:04.386 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:04.387 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:04.387 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:04.387 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:04.388 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.388 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.389 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.390 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:04.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:04.392 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:53:04.392 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:53:04.393 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:04.393 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:04.394 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:04.394 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:04.398 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:04.398 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:04.400 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.401 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.401 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:04.402 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:04.402 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.403 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.404 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:04.404 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:04.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:04.406 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:04.407 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:04.408 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:04.408 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:04.409 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:04.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:04.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:04.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:04.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:04.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:04.413 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:04.416 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.8685ms
2024-11-18 12:53:04.418 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:04.418 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.5728ms
2024-11-18 12:53:04.423 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:04.426 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:04.427 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.428 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:04.429 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:04.429 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:04.430 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 103.1936ms
2024-11-18 12:53:04.431 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:04.434 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 107.1909ms
2024-11-18 12:53:16.769 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:53:16.769 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:53:16.770 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:16.771 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:16.771 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:16.772 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:16.773 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:16.773 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:16.773 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:16.774 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:16.775 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:16.776 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:16.776 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:16.777 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:16.777 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:16.778 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:16.778 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:16.779 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:16.779 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:16.780 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:16.781 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:16.782 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:16.782 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:16.783 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:16.784 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:16.785 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:16.785 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:16.786 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:16.787 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:16.788 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:16.788 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:16.789 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:16.790 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:16.791 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:16.791 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:16.792 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:16.792 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:16.793 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:16.794 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:16.794 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:16.795 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:16.795 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:16.796 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:16.797 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:16.797 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:16.798 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:16.798 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:16.799 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:16.799 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:16.800 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:16.801 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.802 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.801 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.803 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.803 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.804 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:16.804 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.805 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.805 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:16.806 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:16.806 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:16.807 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:16.808 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:16.809 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:16.809 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:16.810 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:16.811 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:16.811 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:16.812 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:16.812 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:16.813 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:16.813 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:16.814 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:16.815 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:16.816 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:16.816 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:16.817 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:16.818 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:16.818 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:16.819 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:16.819 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:16.820 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:16.820 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:16.822 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:16.822 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:16.823 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:16.824 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:16.824 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:16.825 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.826 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:16.826 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.826 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:16.827 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:16.827 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.828 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:53:16.829 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.829 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:16.830 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:16.831 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:16.831 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:53:16.833 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:16.833 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:16.834 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:16.836 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.837 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:16.837 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:16.838 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.839 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.840 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:16.840 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:16.841 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:16.842 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.843 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:16.844 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:16.844 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:16.845 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:16.845 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:16.846 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:16.846 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:16.847 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:16.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:16.848 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:16.849 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:16.851 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.8621ms
2024-11-18 12:53:16.851 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:16.852 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:16.853 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.7592ms
2024-11-18 12:53:16.853 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:16.854 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:16.854 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.855 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:16.856 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:16.856 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:16.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 88.2551ms
2024-11-18 12:53:16.858 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:16.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 91.0106ms
2024-11-18 12:53:17.817 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:53:17.817 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:53:17.819 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:17.820 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:17.821 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:17.821 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:17.822 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:17.822 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:17.823 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:17.823 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:17.824 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:17.824 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:17.825 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:17.826 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:17.826 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:17.827 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:17.827 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:17.828 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:17.828 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:17.830 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:17.831 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:17.833 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:17.833 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:17.834 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:17.835 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:17.837 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:17.838 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:17.839 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:17.840 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:17.840 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:17.842 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:17.843 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:17.844 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:17.845 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:17.845 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:17.846 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:17.846 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:17.847 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:17.848 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:17.848 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:17.851 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:17.852 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:17.853 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:17.854 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:17.854 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:17.855 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:17.859 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:17.859 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:17.860 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:17.860 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:17.861 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.862 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.865 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.865 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.866 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.867 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.867 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:17.868 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:17.868 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.869 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:17.870 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:17.870 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:17.871 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:17.871 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:17.872 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:17.873 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:17.874 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:17.874 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:17.875 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:17.875 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:17.876 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:17.876 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:17.877 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:17.878 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:17.878 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:17.879 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:17.880 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:17.880 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:17.881 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:17.881 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:17.882 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:17.882 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:17.883 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:17.884 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:17.885 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:17.885 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:17.886 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:17.887 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:17.887 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:17.888 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:17.888 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.888 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.889 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.889 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:17.891 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:17.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:53:17.892 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:53:17.892 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:17.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:17.894 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:17.894 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:17.896 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:17.896 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:17.897 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.898 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.899 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:17.899 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:17.900 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.901 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.901 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:17.902 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:17.902 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:17.903 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:17.904 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:17.906 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:17.906 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:17.906 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:17.907 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:17.907 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:17.907 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:17.908 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:17.908 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:17.909 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:17.909 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.881ms
2024-11-18 12:53:17.911 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:17.912 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.2246ms
2024-11-18 12:53:17.913 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:17.913 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:17.914 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.914 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:17.915 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:17.915 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:17.916 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 99.2268ms
2024-11-18 12:53:17.916 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:17.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 102.129ms
2024-11-18 12:53:25.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:53:25.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:53:25.582 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:25.583 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:25.583 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:25.583 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:25.584 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:25.584 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:25.585 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:25.586 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:25.586 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:25.587 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:25.587 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:25.588 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:25.589 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:25.589 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:25.589 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:25.590 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:25.590 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:25.591 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:25.592 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:25.593 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:25.594 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:25.594 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:25.595 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:25.596 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:25.597 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:25.598 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:25.600 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:25.600 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:25.602 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:25.602 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:25.603 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:25.604 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:25.604 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:25.605 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:25.607 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:25.607 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:25.608 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:25.609 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:25.609 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:25.610 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:25.610 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:25.611 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:25.611 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:25.612 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:25.613 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:25.614 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:25.615 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:25.615 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:25.616 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.617 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.617 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.618 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.619 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.619 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.620 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:25.621 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:25.621 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.622 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:25.623 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:25.623 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:25.624 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:25.625 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:25.625 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:25.626 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:25.627 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:25.627 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:25.628 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:25.629 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:25.629 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:25.630 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:25.631 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:25.631 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:25.632 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:25.632 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:25.633 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:25.634 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:25.634 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:25.635 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:25.635 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:25.636 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:25.636 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:25.637 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:25.638 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:25.638 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:25.639 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:25.640 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:53:25.640 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:25.641 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.641 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:25.642 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.642 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:25.643 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.644 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:53:25.644 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:25.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:25.645 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:53:25.646 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:25.646 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:25.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:25.648 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:25.650 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:25.650 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.651 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.651 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:25.652 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:53:25.652 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.653 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.654 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:25.654 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:25.655 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:25.656 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:25.657 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:25.658 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:25.658 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:25.659 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:25.659 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:25.659 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:25.660 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:25.660 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:25.660 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:25.661 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:25.664 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.2031ms
2024-11-18 12:53:25.664 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.7477ms
2024-11-18 12:53:25.665 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:25.665 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:25.666 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:25.666 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:25.667 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.667 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:25.668 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:25.669 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:25.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 89.5422ms
2024-11-18 12:53:25.670 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 90.152ms
2024-11-18 12:53:42.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:53:42.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:53:42.274 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:42.276 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:53:42.276 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:42.277 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:53:42.277 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:42.278 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:53:42.278 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:42.279 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:53:42.279 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:42.280 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:53:42.281 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:42.282 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:42.282 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:42.283 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:53:42.283 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:42.284 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:42.284 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:42.284 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:53:42.285 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:42.286 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:53:42.287 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:42.288 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:53:42.289 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:42.290 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:42.290 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:42.293 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:53:42.293 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:42.294 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:53:42.295 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:42.296 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:42.297 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:42.297 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:53:42.298 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:42.298 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:53:42.299 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:42.299 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:53:42.300 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:42.301 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:42.301 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:42.302 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:53:42.303 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:42.303 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:53:42.304 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:42.305 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:53:42.305 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:42.306 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:42.306 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:42.307 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:53:42.308 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.308 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.309 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.310 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.310 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.311 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.311 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:42.312 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:53:42.312 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.313 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:53:42.313 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:42.315 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:42.315 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:42.316 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:53:42.317 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:42.317 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:42.318 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:42.318 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:42.319 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:42.319 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:53:42.320 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:42.321 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:53:42.321 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:42.322 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:42.322 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:42.323 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:53:42.324 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:42.325 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:42.325 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:42.326 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:42.326 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:42.327 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:53:42.328 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:42.328 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:53:42.330 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:42.330 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:53:42.331 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:42.332 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:42.332 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:53:42.332 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.333 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:53:42.333 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.334 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:42.335 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:53:42.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:53:42.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:53:42.337 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:53:42.337 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:42.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:53:42.339 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:53:42.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:42.340 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.342 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:42.342 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:53:42.342 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.343 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.344 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:42.344 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:53:42.345 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:42.345 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.346 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:42.347 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:53:42.347 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:42.348 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:53:42.348 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:42.349 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:53:42.350 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:42.350 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:53:42.351 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:53:42.351 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:42.352 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:53:42.353 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:53:42.354 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.1746ms
2024-11-18 12:53:42.355 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.5328ms
2024-11-18 12:53:42.355 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:42.356 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:53:42.357 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:42.357 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:53:42.358 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.358 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:53:42.359 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:42.359 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:53:42.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 89.5313ms
2024-11-18 12:53:42.361 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.1126ms
2024-11-18 12:54:04.455 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:54:04.455 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:54:04.461 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:04.463 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:04.463 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:04.463 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:04.464 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:04.464 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:04.465 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:04.465 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:04.466 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:04.467 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:04.468 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:04.468 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:04.469 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:04.470 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:04.470 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:04.471 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:04.471 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:04.471 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:04.473 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:04.474 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:04.474 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:04.475 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:04.476 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:04.477 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:04.478 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:04.478 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:04.479 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:04.480 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:04.482 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:04.483 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:04.483 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:04.484 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:04.485 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:04.486 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:04.486 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:04.488 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:04.488 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:04.489 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:04.490 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:04.490 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:04.491 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:04.491 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:04.492 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:04.493 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:04.493 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:04.494 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:04.495 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:04.495 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:04.496 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.497 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.497 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.498 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.499 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.499 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.500 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:04.502 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:04.502 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.503 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:04.503 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:04.504 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:04.505 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:04.505 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:04.506 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:04.506 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:04.507 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:04.508 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:04.508 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:04.509 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:04.509 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:04.510 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:04.511 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:04.511 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:04.512 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:04.512 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:04.513 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:04.513 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:04.514 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:04.515 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:04.515 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:04.516 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:04.516 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:04.517 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:04.518 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:04.518 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:04.519 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:04.520 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:04.520 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:04.520 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:04.521 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.521 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.522 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.522 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.523 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:04.524 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:04.524 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:04.524 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:04.525 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:04.525 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:04.526 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:04.526 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:04.530 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:04.530 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:04.531 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.532 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.532 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:04.533 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:04.534 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.534 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.535 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:04.535 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:04.536 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:04.537 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:04.538 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:04.540 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:04.540 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:04.540 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:04.541 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:04.541 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:04.541 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:04.542 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:04.542 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:04.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:04.544 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.0949ms
2024-11-18 12:54:04.545 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:04.547 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:04.553 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.555 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:54:04.555 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.4814ms
2024-11-18 12:54:04.556 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 100.1224ms
2024-11-18 12:54:04.556 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:04.558 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:04.559 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:04.559 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:54:04.560 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 104.6109ms
2024-11-18 12:54:07.785 +07:00 [DBG] Connection id "0HN87HVO5FAF3" received FIN.
2024-11-18 12:54:07.786 +07:00 [DBG] Connection id "0HN87HVO5FAF3" is closed. The last processed stream ID was 31.
2024-11-18 12:54:07.786 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF3 completed.
2024-11-18 12:54:07.787 +07:00 [DBG] Connection id "0HN87HVO5FAF3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:54:07.799 +07:00 [DBG] Connection id "0HN87HVO5FAF3" stopped.
2024-11-18 12:54:09.066 +07:00 [DBG] Connection id "0HN87HVO5FAF4" accepted.
2024-11-18 12:54:09.067 +07:00 [DBG] Connection id "0HN87HVO5FAF4" started.
2024-11-18 12:54:09.071 +07:00 [DBG] Connection 0HN87HVO5FAF4 established using the following protocol: "Tls13"
2024-11-18 12:54:09.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:54:09.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:54:09.074 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:09.075 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:09.075 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:09.076 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:09.076 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:09.077 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:09.077 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:09.078 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:09.078 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:09.079 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:09.079 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:09.080 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:09.081 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:09.081 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:09.081 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:09.082 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:09.082 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:09.083 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:09.084 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:09.085 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:09.085 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:09.086 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:09.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:09.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:09.088 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:09.089 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:09.090 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:09.091 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:09.091 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:09.092 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:09.093 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:09.094 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:09.094 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:09.095 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:09.095 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:09.096 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:09.096 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:09.097 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:09.098 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:09.098 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:09.100 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:09.099 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:09.101 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:09.101 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:09.102 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:09.103 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:09.103 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:09.104 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:09.105 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.106 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.106 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.107 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.107 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.108 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.108 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:09.109 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:09.109 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.110 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:09.111 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:09.111 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:09.112 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:09.113 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:09.114 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:09.114 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:09.115 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:09.115 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:09.116 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:09.116 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:09.117 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:09.118 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:09.118 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:09.119 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:09.120 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:09.120 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:09.121 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:09.122 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:09.122 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:09.123 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:09.123 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:09.124 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:09.124 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:09.125 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:09.126 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:09.127 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:09.127 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:09.128 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:09.128 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:54:09.129 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:09.129 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.130 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.130 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.131 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.131 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:09.132 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:09.133 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:09.133 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:09.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:54:09.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:09.135 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:09.135 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:09.138 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:09.138 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:09.139 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.140 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.141 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:09.141 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:09.142 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.143 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.143 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:09.144 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:09.145 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:09.145 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:09.147 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:09.148 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:09.148 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:09.148 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:09.149 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:09.149 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:09.150 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:09.150 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:09.151 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:09.151 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:09.154 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.3232ms
2024-11-18 12:54:09.155 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.4079ms
2024-11-18 12:54:09.155 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:09.156 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:09.157 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:09.158 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:09.158 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.159 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:09.159 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:09.160 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:09.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 88.4551ms
2024-11-18 12:54:09.162 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 89.22ms
2024-11-18 12:54:16.217 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:54:16.217 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:54:16.219 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:16.222 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:16.223 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:16.223 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:16.224 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:16.224 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:16.225 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:16.225 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:16.226 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:16.228 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:16.228 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:16.230 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:16.230 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:16.231 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:16.231 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:16.232 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:16.232 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:16.233 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:16.234 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:16.234 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:16.235 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:16.236 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:16.238 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:16.239 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:16.240 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:16.241 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:16.241 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:16.242 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:16.243 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:16.244 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:16.244 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:16.245 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:16.246 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:16.246 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:16.247 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:16.247 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:16.248 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:16.249 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:16.249 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:16.250 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:16.251 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:16.252 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:16.253 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:16.253 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:16.254 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:16.255 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:16.255 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:16.256 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:16.256 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.257 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.258 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.259 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.260 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.260 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.261 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:16.262 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:16.262 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.263 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:16.263 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:16.264 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:16.265 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:16.265 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:16.266 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:16.267 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:16.267 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:16.268 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:16.268 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:16.269 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:16.269 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:16.270 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:16.270 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:16.271 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:16.272 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:16.272 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:16.273 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:16.274 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:16.274 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:16.275 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:16.275 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:16.276 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:16.276 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:16.277 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:16.278 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:16.278 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:16.280 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:16.280 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:16.280 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:16.281 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:16.281 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.281 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.282 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.282 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.283 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:16.283 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:16.284 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:16.284 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:16.285 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:16.285 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:54:16.286 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:16.286 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:16.290 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:16.290 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:16.291 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.291 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.292 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:16.293 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:16.293 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.294 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.294 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:16.295 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:54:16.295 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:16.296 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:16.297 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:16.298 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:16.298 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:16.299 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:16.299 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:16.299 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:16.300 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:16.300 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:16.301 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:16.301 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:16.304 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.9624ms
2024-11-18 12:54:16.304 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.1761ms
2024-11-18 12:54:16.305 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:16.310 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:16.310 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:16.310 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:16.311 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.311 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:16.312 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:54:16.312 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:16.313 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.8126ms
2024-11-18 12:54:16.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 97.5009ms
2024-11-18 12:54:22.794 +07:00 [DBG] Connection id "0HN87HVO5FAF4" received FIN.
2024-11-18 12:54:22.794 +07:00 [DBG] Connection id "0HN87HVO5FAF4" is closed. The last processed stream ID was 7.
2024-11-18 12:54:22.795 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF4 completed.
2024-11-18 12:54:22.795 +07:00 [DBG] Connection id "0HN87HVO5FAF4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:54:22.825 +07:00 [DBG] Connection id "0HN87HVO5FAF4" stopped.
2024-11-18 12:54:28.922 +07:00 [DBG] Connection id "0HN87HVO5FAF5" accepted.
2024-11-18 12:54:28.922 +07:00 [DBG] Connection id "0HN87HVO5FAF5" started.
2024-11-18 12:54:28.925 +07:00 [DBG] Connection 0HN87HVO5FAF5 established using the following protocol: "Tls13"
2024-11-18 12:54:28.926 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:54:28.926 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:54:28.928 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:28.929 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:28.929 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:28.930 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:28.930 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:28.930 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:28.931 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:28.931 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:28.932 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:28.932 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:28.933 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:28.934 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:28.934 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:28.935 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:28.935 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:28.935 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:28.936 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:28.936 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:28.937 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:28.938 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:28.939 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:28.939 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:28.940 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:28.941 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:28.941 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:28.942 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:28.943 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:28.943 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:28.944 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:28.945 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:28.946 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:28.946 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:28.947 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:28.947 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:28.948 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:28.948 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:28.949 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:28.949 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:28.950 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:28.950 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:28.951 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:28.952 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:28.952 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:28.953 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:28.954 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:28.954 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:28.955 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:28.955 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:28.956 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.956 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.957 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.958 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.958 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.959 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.959 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:28.960 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:28.961 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.961 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:28.962 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:28.962 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:28.963 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:28.963 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:28.964 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:28.964 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:28.965 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:28.966 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:28.966 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:28.967 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:28.967 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:28.968 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:28.968 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:28.969 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:28.969 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:28.970 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:28.971 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:28.971 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:28.972 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:28.973 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:28.973 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:28.974 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:28.975 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:28.975 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:28.976 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:28.976 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:28.977 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:28.978 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:28.978 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:28.978 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:28.979 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.979 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.980 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.980 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:28.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:28.982 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:28.982 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:28.983 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:28.983 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:28.984 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:28.985 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:28.988 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:28.988 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:28.990 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.990 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.991 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:28.991 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:54:28.992 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.993 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:28.993 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:28.994 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:28.995 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:28.995 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:28.996 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:28.997 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:28.997 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:28.998 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:28.998 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:28.998 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:28.999 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:28.999 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:29.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:29.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:29.003 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.7259ms
2024-11-18 12:54:29.003 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.9881ms
2024-11-18 12:54:29.004 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:29.004 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:29.005 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:29.005 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:29.006 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:29.006 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:29.007 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:29.007 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:29.008 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 81.9779ms
2024-11-18 12:54:29.009 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 82.725ms
2024-11-18 12:54:32.599 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:54:32.599 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:54:32.600 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:32.602 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:54:32.602 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:32.602 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:54:32.603 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:32.603 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:54:32.604 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:32.605 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:54:32.605 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:32.606 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:54:32.607 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:32.608 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:32.608 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:32.609 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:54:32.609 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:32.610 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:32.610 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:32.611 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:54:32.612 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:32.612 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:54:32.613 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:32.614 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:54:32.615 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:32.615 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:32.616 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:32.617 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:54:32.618 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:32.618 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:54:32.619 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:32.620 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:32.621 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:32.621 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:54:32.622 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:32.622 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:54:32.623 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:32.623 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:54:32.624 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:32.624 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:32.625 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:32.626 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:54:32.627 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:32.627 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:54:32.628 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:32.628 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:54:32.629 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:32.629 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:32.630 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:32.630 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:54:32.631 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.632 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.633 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.633 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.634 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.634 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.635 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:32.636 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:54:32.636 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.637 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:54:32.637 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:32.638 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:32.638 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:32.639 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:54:32.640 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:32.640 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:32.641 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:32.641 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:32.642 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:32.642 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:54:32.643 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:32.644 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:54:32.644 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:32.645 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:32.645 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:32.646 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:54:32.647 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:32.647 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:32.648 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:32.649 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:32.649 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:32.650 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:54:32.650 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:32.651 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:54:32.651 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:32.652 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:54:32.653 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:32.654 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:54:32.654 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:54:32.654 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:54:32.655 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.655 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.656 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.656 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:32.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:54:32.658 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:32.658 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:54:32.659 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:54:32.660 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:54:32.660 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:32.661 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:32.665 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:54:32.665 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:54:32.666 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.667 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.667 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:32.668 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:54:32.669 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.669 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.670 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:32.670 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:54:32.671 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:32.672 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:54:32.673 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:32.674 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:54:32.675 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:32.675 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:54:32.676 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:32.676 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:54:32.676 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:32.677 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:54:32.677 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:32.678 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:54:32.680 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.6907ms
2024-11-18 12:54:32.680 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.0589ms
2024-11-18 12:54:32.681 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:32.681 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:54:32.682 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:32.683 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:54:32.683 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.684 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:54:32.684 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:32.685 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:54:32.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 86.6403ms
2024-11-18 12:54:32.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.333ms
2024-11-18 12:54:37.805 +07:00 [DBG] Connection id "0HN87HVO5FAF5" received FIN.
2024-11-18 12:54:37.806 +07:00 [DBG] Connection id "0HN87HVO5FAF5" is closed. The last processed stream ID was 7.
2024-11-18 12:54:37.806 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF5 completed.
2024-11-18 12:54:37.807 +07:00 [DBG] Connection id "0HN87HVO5FAF5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:54:37.819 +07:00 [DBG] Connection id "0HN87HVO5FAF5" stopped.
2024-11-18 12:55:03.855 +07:00 [DBG] Connection id "0HN87HVO5FAF6" accepted.
2024-11-18 12:55:03.855 +07:00 [DBG] Connection id "0HN87HVO5FAF6" started.
2024-11-18 12:55:03.858 +07:00 [DBG] Connection 0HN87HVO5FAF6 established using the following protocol: "Tls13"
2024-11-18 12:55:03.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:03.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:03.868 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:03.869 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:03.869 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:03.869 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:03.870 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:03.870 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:03.870 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:03.871 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:03.871 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:03.872 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:03.872 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:03.873 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:03.873 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:03.874 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:03.875 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:03.875 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:03.876 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:03.876 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:03.877 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:03.877 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:03.878 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:03.879 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:03.879 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:03.880 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:03.881 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:03.882 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:03.882 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:03.883 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:03.883 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:03.884 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:03.885 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:03.885 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:03.886 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:03.886 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:03.886 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:03.887 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:03.887 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:03.888 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:03.889 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:03.889 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:03.890 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:03.890 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:03.891 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:03.891 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:03.892 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:03.892 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:03.893 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:03.893 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:03.894 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.894 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.895 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.896 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.896 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.897 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.897 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:03.898 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:03.898 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.899 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:03.899 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:03.900 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:03.900 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:03.901 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:03.902 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:03.903 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:03.903 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:03.904 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:03.904 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:03.904 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:03.905 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:03.905 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:03.906 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:03.906 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:03.907 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:03.907 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:03.908 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:03.908 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:03.909 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:03.909 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:03.910 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:03.910 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:03.911 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:03.911 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:03.912 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:03.912 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:03.913 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:03.914 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:03.914 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:03.914 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:03.915 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.915 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.916 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.916 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:03.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:03.918 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:03.918 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:03.919 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:03.919 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:03.920 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:03.920 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:03.923 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:03.923 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:03.924 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.925 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.925 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:03.926 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 12:55:03.926 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.927 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.927 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:03.928 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:55:03.928 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:03.929 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:03.931 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:03.932 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:03.932 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:03.932 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:03.933 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:03.933 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:03.934 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:03.934 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:03.935 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:03.935 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:03.936 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 51.5818ms
2024-11-18 12:55:03.937 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:03.939 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:03.942 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.2638ms
2024-11-18 12:55:03.942 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.943 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:03.943 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:03.944 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:03.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 80.764ms
2024-11-18 12:55:03.945 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:03.947 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:03.947 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 84.219ms
2024-11-18 12:55:12.279 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:12.279 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:12.280 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:12.281 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:12.282 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:12.282 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:12.283 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:12.283 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:12.284 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:12.284 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:12.285 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:12.285 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:12.286 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:12.287 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:12.287 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:12.287 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:12.288 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:12.288 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:12.289 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:12.289 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:12.290 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:12.291 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:12.291 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:12.292 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:12.293 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:12.294 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:12.294 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:12.295 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:12.296 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:12.296 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:12.297 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:12.298 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:12.299 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:12.299 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:12.300 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:12.300 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:12.301 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:12.301 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:12.302 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:12.302 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:12.303 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:12.303 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:12.304 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:12.305 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:12.305 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:12.306 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:12.306 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:12.307 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:12.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:12.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:12.309 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.309 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.310 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.311 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.311 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.312 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.312 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:12.313 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:12.314 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.314 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:12.315 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:12.315 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:12.316 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:12.316 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:12.317 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:12.317 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:12.318 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:12.318 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:12.319 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:12.320 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:12.320 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:12.321 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:12.321 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:12.322 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:12.322 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:12.323 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:12.323 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:12.324 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:12.324 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:12.325 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:12.326 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:12.326 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:12.327 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:12.327 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:12.328 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:12.329 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:12.330 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:12.330 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:12.330 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:12.331 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:12.331 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.332 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.332 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.333 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:12.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:12.334 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:12.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:12.335 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:12.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:12.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:12.337 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:12.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:12.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:12.339 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.341 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.341 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:12.342 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:12.342 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.343 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.343 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:12.344 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:55:12.344 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:12.345 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:12.346 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:12.347 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:12.348 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:12.348 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:12.348 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:12.349 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:12.349 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:12.349 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:12.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:12.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:12.351 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 53.6809ms
2024-11-18 12:55:12.353 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:12.355 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.4353ms
2024-11-18 12:55:12.355 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:12.358 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:12.359 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.359 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:12.360 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:12.361 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:12.361 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 82.2082ms
2024-11-18 12:55:12.362 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:12.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 84.6353ms
2024-11-18 12:55:14.918 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:14.918 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:14.919 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:14.920 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:14.921 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:14.922 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:14.922 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:14.923 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:14.923 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:14.924 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:14.925 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:14.926 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:14.927 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:14.928 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:14.928 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:14.929 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:14.929 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:14.930 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:14.930 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:14.931 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:14.932 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:14.933 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:14.933 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:14.934 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:14.935 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:14.935 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:14.937 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:14.938 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:14.939 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:14.940 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:14.940 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:14.942 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:14.942 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:14.943 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:14.944 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:14.944 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:14.945 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:14.946 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:14.947 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:14.947 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:14.948 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:14.949 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:14.949 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:14.950 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:14.951 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:14.952 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:14.953 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:14.953 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:14.954 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:14.954 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:14.955 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.956 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.956 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.957 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.958 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.959 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.960 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:14.960 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:14.961 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.962 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:14.962 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:14.963 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:14.964 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:14.964 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:14.965 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:14.966 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:14.967 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:14.968 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:14.968 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:14.969 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:14.969 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:14.970 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:14.970 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:14.971 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:14.972 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:14.973 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:14.974 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:14.974 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:14.975 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:14.976 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:14.976 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:14.977 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:14.978 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:14.978 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:14.980 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:14.980 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:14.982 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:14.982 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:14.983 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:14.983 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:14.983 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:14.984 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:14.985 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:14.986 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:14.987 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:14.988 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:14.988 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:14.989 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:14.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:55:14.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:55:14.991 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:14.992 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:14.997 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:14.997 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:14.998 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:14.999 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:15.000 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 12:55:15.001 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:15.002 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:15.003 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:15.003 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:15.004 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:15.004 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:15.005 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:15.006 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:15.008 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:15.008 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:15.008 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:15.009 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:15.009 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:15.010 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:15.010 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:15.010 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:15.012 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:15.013 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 72.727ms
2024-11-18 12:55:15.015 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.8156ms
2024-11-18 12:55:15.015 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:15.016 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:15.017 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:15.017 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:15.018 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:15.018 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:15.019 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:15.020 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:15.021 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 103.3185ms
2024-11-18 12:55:15.021 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.97ms
2024-11-18 12:55:25.178 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:25.178 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:25.179 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:25.180 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:25.181 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:25.180 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:25.181 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:25.182 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:25.182 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:25.183 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:25.183 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:25.184 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:25.184 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:25.185 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:25.185 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:25.186 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:25.186 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:25.187 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:25.187 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:25.188 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:25.188 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:25.189 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:25.190 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:25.190 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:25.191 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:25.191 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:25.192 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:25.193 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:25.194 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:25.194 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:25.195 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:25.196 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:25.196 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:25.197 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:25.197 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:25.198 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:25.198 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:25.199 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:25.200 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:25.200 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:25.201 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:25.201 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:25.202 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:25.202 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:25.203 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:25.203 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:25.204 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:25.204 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:25.205 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:25.206 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:25.206 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.207 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.208 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.208 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.209 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.209 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.210 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:25.210 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:25.211 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.211 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:25.212 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:25.212 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:25.213 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:25.213 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:25.214 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:25.215 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:25.215 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:25.216 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:25.216 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:25.217 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:25.217 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:25.218 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:25.218 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:25.219 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:25.219 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:25.220 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:25.221 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:25.221 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:25.222 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:25.222 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:25.223 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:25.223 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:25.224 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:25.224 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:25.225 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:25.226 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:25.226 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:25.227 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:25.228 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:25.228 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.228 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:25.229 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.229 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.230 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:25.230 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.231 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:25.231 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:25.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:25.232 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:25.233 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:25.233 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:25.235 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:25.237 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:25.237 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:25.239 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.239 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.240 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:25.241 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:25.242 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.242 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.243 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:25.243 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:25.244 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:25.245 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:25.246 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:25.247 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:25.247 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:25.248 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:25.248 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:25.249 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:25.249 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:25.250 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:25.250 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:25.251 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:25.253 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.6432ms
2024-11-18 12:55:25.255 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.676ms
2024-11-18 12:55:25.255 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:25.256 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:25.256 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:25.257 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:25.257 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.258 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:25.258 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:25.259 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:25.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 82.079ms
2024-11-18 12:55:25.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 82.4533ms
2024-11-18 12:55:37.684 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:37.684 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:37.685 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:37.686 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:37.687 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:37.687 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:37.688 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:37.688 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:37.689 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:37.689 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:37.690 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:37.690 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:37.692 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:37.693 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:37.693 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:37.694 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:37.694 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:37.695 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:37.695 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:37.696 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:37.696 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:37.697 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:37.698 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:37.698 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:37.699 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:37.700 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:37.701 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:37.702 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:37.702 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:37.703 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:37.704 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:37.705 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:37.705 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:37.706 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:37.706 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:37.707 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:37.708 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:37.709 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:37.709 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:37.710 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:37.710 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:37.711 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:37.712 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:37.712 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:37.713 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:37.714 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:37.714 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:37.715 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:37.716 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:37.716 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:37.717 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.718 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.718 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.719 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.719 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.720 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.721 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:37.721 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:37.722 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.723 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:37.724 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:37.725 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:37.725 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:37.726 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:37.727 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:37.728 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:37.729 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:37.729 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:37.730 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:37.731 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:37.732 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:37.732 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:37.733 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:37.734 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:37.735 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:37.736 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:37.737 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:37.737 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:37.739 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:37.739 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:37.740 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:37.741 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:37.742 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:37.743 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:37.744 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:37.745 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:37.747 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:37.747 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:37.747 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:37.748 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:37.749 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.750 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.750 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.751 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.752 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:37.753 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:37.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:37.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:37.756 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:55:37.757 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-18 12:55:37.758 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:37.759 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:37.764 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:37.764 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:37.766 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.767 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.767 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:37.768 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:37.769 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.770 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.771 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:37.771 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:37.772 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:37.773 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:37.774 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:37.775 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:37.775 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:37.775 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:37.776 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:37.776 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:37.777 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:37.777 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:37.778 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:37.778 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:37.781 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 77.1047ms
2024-11-18 12:55:37.781 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.8669ms
2024-11-18 12:55:37.782 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:37.783 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:37.784 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:37.784 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:37.785 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.785 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:37.786 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:37.787 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:37.788 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 104.494ms
2024-11-18 12:55:37.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 105.2392ms
2024-11-18 12:55:42.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:42.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:42.405 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:42.406 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:42.407 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:42.407 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:42.408 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:42.409 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:42.409 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:42.410 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:42.410 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:42.411 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:42.412 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:42.412 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:42.413 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:42.413 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:42.414 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:42.414 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:42.415 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:42.416 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:42.417 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:42.418 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:42.418 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:42.419 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:42.420 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:42.420 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:42.421 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:42.423 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:42.423 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:42.425 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:42.426 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:42.427 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:42.427 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:42.428 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:42.428 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:42.429 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:42.429 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:42.430 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:42.431 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:42.431 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:42.432 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:42.433 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:42.433 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:42.434 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:42.434 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:42.435 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:42.435 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:42.436 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:42.437 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:42.437 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:42.438 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.439 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.439 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.440 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.441 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.441 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.441 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:42.442 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:42.443 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.443 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:42.444 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:42.445 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:42.445 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:42.446 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:42.446 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:42.447 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:42.447 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:42.448 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:42.449 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:42.449 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:42.450 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:42.450 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:42.451 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:42.452 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:42.452 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:42.453 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:42.453 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:42.454 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:42.454 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:42.455 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:42.456 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:42.456 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:42.457 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:42.458 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:42.459 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:42.459 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:42.460 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:42.461 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:42.461 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:42.461 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:42.462 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.462 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.463 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.464 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.464 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:42.465 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:42.465 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:42.466 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:42.466 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:55:42.467 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:55:42.467 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:42.468 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:42.471 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:42.471 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:42.472 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.473 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.474 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:42.474 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:42.475 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.475 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.476 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:42.476 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:42.477 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:42.478 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:42.479 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:42.480 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:42.480 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:42.481 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:42.481 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:42.481 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:42.482 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:42.482 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:42.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:42.483 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:42.485 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.6385ms
2024-11-18 12:55:42.486 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.535ms
2024-11-18 12:55:42.487 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:42.487 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:42.488 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:42.488 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:42.489 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.489 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:42.490 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:55:42.490 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:42.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 87.4827ms
2024-11-18 12:55:42.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 88.2482ms
2024-11-18 12:55:52.641 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:55:52.641 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:55:52.643 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:52.644 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:55:52.645 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:52.645 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:55:52.646 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:52.646 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:55:52.647 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:52.647 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:55:52.648 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:52.648 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:55:52.649 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:52.649 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:52.650 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:52.650 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:55:52.651 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:52.651 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:52.652 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:52.652 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:55:52.653 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:52.654 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:55:52.654 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:52.655 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:55:52.655 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:52.656 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:52.657 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:52.658 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:55:52.659 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:52.659 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:55:52.660 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:52.661 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:52.662 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:52.662 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:55:52.663 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:52.663 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:55:52.664 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:52.664 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:55:52.665 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:52.665 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:52.666 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:52.667 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:55:52.667 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:52.668 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:55:52.668 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:52.669 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:55:52.669 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:52.670 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:52.670 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:52.671 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:55:52.672 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.672 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.673 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.674 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.674 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.675 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.675 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:52.676 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:55:52.676 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.677 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:55:52.677 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:52.678 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:52.678 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:52.679 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:55:52.680 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:52.680 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:52.681 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:52.682 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:52.682 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:52.683 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:55:52.683 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:52.684 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:55:52.684 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:52.685 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:52.685 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:52.686 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:55:52.687 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:52.687 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:52.688 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:52.688 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:52.689 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:52.689 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:55:52.690 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:52.690 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:55:52.691 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:52.692 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:55:52.693 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:52.694 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:55:52.694 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:52.694 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:55:52.695 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.695 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.696 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.696 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.697 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:52.697 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:55:52.698 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:52.698 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:55:52.699 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:52.699 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:55:52.700 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:52.700 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:52.704 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:55:52.704 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:55:52.705 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.705 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.706 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:52.707 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:55:52.707 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.708 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.709 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:52.709 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:55:52.710 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:52.710 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:55:52.711 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:52.712 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:55:52.713 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:52.713 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:55:52.714 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:52.714 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:55:52.714 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:52.715 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:55:52.715 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:52.716 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:55:52.718 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.9911ms
2024-11-18 12:55:52.719 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.5306ms
2024-11-18 12:55:52.719 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:52.720 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:55:52.720 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:52.721 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:55:52.721 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.722 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:55:52.722 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:52.723 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:55:52.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 82.325ms
2024-11-18 12:55:52.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.042ms
2024-11-18 12:56:16.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:56:16.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:56:16.359 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:56:16.360 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:56:16.361 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:56:16.362 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:56:16.363 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:56:16.364 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:56:16.364 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:56:16.363 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:56:16.365 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:16.366 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:56:16.367 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:56:16.368 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:56:16.368 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:16.369 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:16.369 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:56:16.370 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:56:16.370 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:56:16.371 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:16.371 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:56:16.372 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:56:16.373 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:16.374 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:56:16.374 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:56:16.375 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:56:16.376 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:16.376 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:16.377 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:16.378 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:56:16.379 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:16.381 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:16.381 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:56:16.382 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:16.383 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:56:16.383 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:16.384 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:16.384 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:56:16.385 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:16.385 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:56:16.385 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:56:16.386 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:16.387 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:56:16.388 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:16.388 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:16.389 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:56:16.389 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:56:16.390 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:56:16.391 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.391 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:16.392 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.392 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:56:16.393 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.394 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.395 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:16.395 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.396 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.397 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.397 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:16.398 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:16.398 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:56:16.399 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:16.399 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:16.400 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:16.401 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:16.401 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:56:16.402 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:16.402 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:16.403 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:16.403 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:16.404 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:16.405 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:16.405 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:56:16.406 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:16.406 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:16.407 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:16.407 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:16.408 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:56:16.409 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:16.409 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:16.410 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:16.410 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:16.411 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:56:16.412 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:16.416 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:56:16.468 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:16.468 +07:00 [DBG] Created DbConnection. (51ms).
2024-11-18 12:56:16.469 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.469 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:56:16.470 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.472 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:56:16.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:56:16.473 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:56:16.473 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:56:16.473 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.474 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:56:16.475 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.475 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:56:16.476 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:56:16.479 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:56:16.480 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 12:56:16.481 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:56:16.482 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:56:16.484 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.485 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:56:16.485 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:56:16.487 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.487 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.488 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:56:16.488 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:56:16.489 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.490 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:56:16.491 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:56:16.492 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:56:16.493 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:56:16.493 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:56:16.494 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:56:16.494 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:56:16.495 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:56:16.495 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:56:16.495 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:56:16.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:56:16.496 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:56:16.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:56:16.500 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 117.778ms
2024-11-18 12:56:16.506 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:16.508 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:56:16.508 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 131.1697ms
2024-11-18 12:56:16.509 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.509 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:16.510 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:56:16.510 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:56:16.512 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 161.2485ms
2024-11-18 12:56:16.512 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:16.514 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:56:16.515 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 164.6675ms
2024-11-18 12:56:30.341 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:56:30.341 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:56:30.342 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:56:30.344 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:56:30.344 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:56:30.345 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:56:30.345 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:56:30.346 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:56:30.346 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:56:30.347 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:56:30.347 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:56:30.348 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:56:30.348 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:30.349 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:30.349 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:56:30.350 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:56:30.350 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:30.351 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:30.351 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:56:30.352 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:56:30.353 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:56:30.354 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:56:30.354 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:56:30.355 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:56:30.356 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:30.356 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:30.357 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:56:30.358 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:56:30.359 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:30.360 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:30.361 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:30.362 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:30.362 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:30.363 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:30.363 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:56:30.364 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:56:30.364 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:56:30.365 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:56:30.366 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:30.366 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:30.367 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:30.368 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:30.368 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:56:30.369 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:56:30.369 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:56:30.370 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:56:30.370 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:30.371 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:30.371 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:56:30.372 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:56:30.373 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.374 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.374 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.375 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.376 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.376 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.377 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:30.377 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:30.378 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.378 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:30.379 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:30.380 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:30.380 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:56:30.381 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:56:30.382 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:30.382 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:30.383 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:30.383 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:30.384 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:30.384 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:30.385 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:30.386 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:30.386 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:30.387 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:30.387 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:56:30.388 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:56:30.389 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:30.389 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:30.390 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:30.390 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:30.391 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:30.391 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:30.392 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:30.393 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:30.394 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:56:30.394 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:56:30.395 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:56:30.396 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:56:30.396 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:56:30.396 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:56:30.397 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.397 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.398 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.399 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:56:30.399 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:56:30.399 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:56:30.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:56:30.401 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:56:30.401 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:56:30.403 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:56:30.403 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:56:30.405 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:56:30.405 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:56:30.406 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.408 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.408 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:56:30.408 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:56:30.409 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.410 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.410 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:56:30.411 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:56:30.411 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:56:30.412 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:56:30.413 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:56:30.415 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:56:30.415 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:56:30.415 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:56:30.416 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:56:30.416 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:56:30.416 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:56:30.417 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:56:30.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:56:30.418 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:56:30.418 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.3356ms
2024-11-18 12:56:30.420 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:30.422 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:56:30.422 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.4023ms
2024-11-18 12:56:30.423 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.423 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:30.424 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:56:30.424 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:56:30.425 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 84.3391ms
2024-11-18 12:56:30.426 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:30.428 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 12:56:30.429 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.874ms
2024-11-18 12:56:32.960 +07:00 [DBG] Connection id "0HN87HVO5FAF6" received FIN.
2024-11-18 12:56:32.961 +07:00 [DBG] Connection id "0HN87HVO5FAF6" is closed. The last processed stream ID was 35.
2024-11-18 12:56:32.961 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF6 completed.
2024-11-18 12:56:32.962 +07:00 [DBG] Connection id "0HN87HVO5FAF6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:56:32.975 +07:00 [DBG] Connection id "0HN87HVO5FAF6" stopped.
2024-11-18 12:56:52.167 +07:00 [DBG] Connection id "0HN87HVO5FAF7" accepted.
2024-11-18 12:56:52.168 +07:00 [DBG] Connection id "0HN87HVO5FAF7" started.
2024-11-18 12:56:52.171 +07:00 [DBG] Connection 0HN87HVO5FAF7 established using the following protocol: "Tls13"
2024-11-18 12:56:52.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:56:52.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:56:52.178 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:56:52.179 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:56:52.179 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:56:52.179 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:56:52.180 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:56:52.180 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:56:52.180 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:56:52.181 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:56:52.181 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:56:52.182 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:56:52.183 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:52.183 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:52.184 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:56:52.184 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:56:52.185 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:52.185 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:52.185 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:56:52.186 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:56:52.187 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:56:52.187 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:56:52.188 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:56:52.188 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:56:52.189 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:52.190 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:52.191 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:56:52.191 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:56:52.192 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:52.193 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:56:52.193 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:52.194 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:52.195 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:52.195 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:56:52.196 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:56:52.196 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:56:52.197 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:56:52.197 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:56:52.198 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:52.199 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:52.199 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:52.200 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:56:52.200 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:56:52.201 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:56:52.201 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:56:52.202 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:56:52.202 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:52.203 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:52.203 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:56:52.204 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:56:52.205 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.205 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.206 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.207 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.207 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.208 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.208 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:52.209 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:56:52.209 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.210 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:56:52.210 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:52.211 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:52.211 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:56:52.212 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:56:52.213 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:52.213 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:52.214 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:52.214 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:52.215 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:52.215 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:56:52.216 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:52.216 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:56:52.217 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:52.217 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:52.218 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:56:52.218 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:56:52.219 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:52.220 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:52.221 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:52.221 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:52.222 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:52.222 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:56:52.223 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:52.223 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:56:52.224 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:56:52.224 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:56:52.225 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:56:52.226 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:56:52.226 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:56:52.227 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:56:52.227 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.228 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.228 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.229 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.229 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:56:52.230 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:56:52.230 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:56:52.231 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:56:52.231 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:56:52.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:56:52.232 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:56:52.233 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:56:52.236 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:56:52.236 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:56:52.237 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.238 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.238 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:56:52.239 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:56:52.240 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.240 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.241 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:56:52.242 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:56:52.242 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:56:52.243 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:56:52.244 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:56:52.245 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:56:52.245 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:56:52.245 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:56:52.246 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:56:52.246 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:56:52.247 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:56:52.247 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:56:52.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:56:52.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:56:52.250 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.2076ms
2024-11-18 12:56:52.251 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.5953ms
2024-11-18 12:56:52.254 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:52.256 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:56:52.256 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:56:52.257 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:56:52.257 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.258 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:56:52.258 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:56:52.259 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:56:52.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 86.3072ms
2024-11-18 12:56:52.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.821ms
2024-11-18 12:57:13.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:57:13.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:57:13.959 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:57:13.960 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:57:13.960 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:57:13.961 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:57:13.962 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:57:13.962 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:57:13.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:57:13.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:57:13.964 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:57:13.964 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:57:13.965 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:13.965 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:13.966 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:57:13.966 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:57:13.967 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:13.967 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:13.968 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:57:13.968 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:57:13.969 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:57:13.970 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:57:13.970 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:57:13.971 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:57:13.972 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:13.972 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:13.973 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:57:13.974 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:57:13.975 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:13.975 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:13.976 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:13.977 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:13.978 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:13.978 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:13.979 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:57:13.979 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:57:13.980 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:57:13.980 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:57:13.981 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:13.981 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:13.982 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:13.983 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:13.983 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:57:13.984 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:57:13.985 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:57:13.985 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:57:13.986 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:13.986 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:13.987 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:57:13.987 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:57:13.988 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.988 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.989 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.990 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.990 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.991 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.992 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:13.992 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:13.993 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.993 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:13.994 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:13.994 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:13.995 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:57:13.995 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:57:13.996 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:13.997 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:13.997 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:13.998 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:13.999 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:13.999 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:14.000 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:14.000 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:14.001 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:14.001 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:14.002 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:57:14.002 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:57:14.003 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:14.004 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:14.004 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:14.005 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:14.006 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:14.006 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:14.007 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:14.007 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:14.008 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:57:14.008 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:57:14.009 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:57:14.010 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:57:14.010 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:57:14.011 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:57:14.011 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.012 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.012 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.013 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:57:14.014 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:57:14.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:57:14.015 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:57:14.015 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:57:14.016 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:57:14.017 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:57:14.017 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:57:14.021 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:57:14.021 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:57:14.022 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.023 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.023 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:57:14.024 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:57:14.025 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.026 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.026 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:57:14.027 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:57:14.028 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:57:14.028 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:57:14.029 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:57:14.030 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:57:14.031 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:57:14.031 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:57:14.031 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:57:14.032 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:57:14.032 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:57:14.033 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:57:14.033 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:57:14.035 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:57:14.037 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.3595ms
2024-11-18 12:57:14.039 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.7056ms
2024-11-18 12:57:14.041 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:14.044 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:14.045 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:57:14.045 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:57:14.046 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.046 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:14.047 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:57:14.047 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:57:14.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 94.5207ms
2024-11-18 12:57:14.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.1399ms
2024-11-18 12:57:51.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:57:51.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:57:51.675 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:57:51.674 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:57:51.675 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:57:51.676 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:57:51.676 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:57:51.677 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:57:51.677 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:57:51.678 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:57:51.678 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:57:51.679 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:57:51.680 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:51.680 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:51.681 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:57:51.681 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:57:51.681 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:51.682 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:51.682 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:57:51.683 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:57:51.684 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:57:51.685 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:57:51.685 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:57:51.686 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:57:51.687 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:51.687 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:51.688 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:57:51.689 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:57:51.690 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:51.691 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:57:51.692 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:51.692 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:51.693 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:51.693 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:57:51.694 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:57:51.694 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:57:51.695 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:57:51.695 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:57:51.696 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:51.697 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:51.697 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:51.698 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:57:51.699 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:57:51.699 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:57:51.700 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:57:51.700 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:57:51.701 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:51.701 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:51.702 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:57:51.702 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:57:51.703 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.704 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.704 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.705 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.706 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.706 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.707 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:51.707 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:57:51.708 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.708 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:57:51.709 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:51.709 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:51.710 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:57:51.711 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:57:51.711 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:51.712 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:51.713 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:51.713 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:51.714 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:51.714 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:57:51.715 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:51.715 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:57:51.716 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:51.716 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:51.717 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:57:51.717 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:57:51.718 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:51.719 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:51.720 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:51.720 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:51.721 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:51.721 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:57:51.722 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:51.722 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:57:51.723 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:57:51.725 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:57:51.729 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:57:51.729 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:57:51.729 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:57:51.730 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:57:51.730 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.731 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.732 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.732 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.733 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:57:51.733 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:57:51.734 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:57:51.734 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:57:51.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:57:51.736 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:57:51.736 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:57:51.737 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:57:51.741 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:57:51.741 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:57:51.743 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.743 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.744 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:57:51.745 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:57:51.745 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.746 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.747 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:57:51.748 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:57:51.748 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:57:51.749 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:57:51.750 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:57:51.751 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:57:51.751 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:57:51.752 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:57:51.752 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:57:51.752 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:57:51.753 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:57:51.753 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:57:51.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:57:51.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:57:51.756 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.8735ms
2024-11-18 12:57:51.760 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.9472ms
2024-11-18 12:57:51.760 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:51.764 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:57:51.765 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:57:51.766 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:57:51.766 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.767 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:57:51.767 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:57:51.768 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:57:51.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 101.0731ms
2024-11-18 12:57:51.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 101.8778ms
2024-11-18 12:58:38.407 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:58:38.407 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:58:38.412 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:58:38.414 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:58:38.414 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:58:38.414 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:58:38.415 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:58:38.415 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:58:38.416 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:58:38.416 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:58:38.417 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:58:38.417 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:58:38.418 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:38.419 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:38.420 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:58:38.420 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:58:38.421 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:38.421 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:38.421 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:58:38.422 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:58:38.423 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:58:38.423 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:58:38.424 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:58:38.425 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:58:38.425 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:38.426 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:38.427 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:58:38.428 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:58:38.429 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:38.429 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:38.430 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:38.431 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:38.432 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:38.433 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:38.433 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:58:38.434 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:58:38.435 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:58:38.435 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:58:38.436 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:38.436 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:38.437 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:38.437 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:38.438 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:58:38.439 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:58:38.439 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:58:38.440 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:58:38.441 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:38.441 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:38.442 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:58:38.442 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:58:38.443 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.444 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.445 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.444 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.446 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.447 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.448 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:38.448 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:38.449 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.449 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:38.450 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:38.450 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:38.451 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:58:38.451 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:58:38.452 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:38.453 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:38.453 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:38.454 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:38.455 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:38.455 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:38.456 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:38.456 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:38.457 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:38.457 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:38.458 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:58:38.458 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:58:38.459 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:38.460 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:38.460 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:38.461 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:38.461 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:38.462 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:38.463 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:38.463 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:38.464 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:58:38.465 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:58:38.465 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:58:38.467 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:58:38.467 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:58:38.467 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:58:38.468 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.468 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.469 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.470 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.470 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:58:38.471 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:58:38.471 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:58:38.472 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:58:38.472 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:58:38.473 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:58:38.474 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:58:38.474 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:58:38.479 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:58:38.479 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:58:38.480 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.481 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.481 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:58:38.482 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:58:38.483 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.483 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.484 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:58:38.484 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:58:38.485 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:58:38.486 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:58:38.487 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:58:38.488 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:58:38.488 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:58:38.489 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:58:38.489 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:58:38.489 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:58:38.490 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:58:38.490 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:58:38.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:58:38.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:58:38.493 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.279ms
2024-11-18 12:58:38.497 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:38.498 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.9937ms
2024-11-18 12:58:38.498 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:58:38.502 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:38.502 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.503 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:58:38.503 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:58:38.504 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:38.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 97.4299ms
2024-11-18 12:58:38.505 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:58:38.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 99.7901ms
2024-11-18 12:58:43.164 +07:00 [DBG] Connection id "0HN87HVO5FAF7" received FIN.
2024-11-18 12:58:43.165 +07:00 [DBG] Connection id "0HN87HVO5FAF7" is closed. The last processed stream ID was 15.
2024-11-18 12:58:43.165 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF7 completed.
2024-11-18 12:58:43.165 +07:00 [DBG] Connection id "0HN87HVO5FAF7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 12:58:43.179 +07:00 [DBG] Connection id "0HN87HVO5FAF7" stopped.
2024-11-18 12:58:54.724 +07:00 [DBG] Connection id "0HN87HVO5FAF8" accepted.
2024-11-18 12:58:54.725 +07:00 [DBG] Connection id "0HN87HVO5FAF8" started.
2024-11-18 12:58:54.729 +07:00 [DBG] Connection 0HN87HVO5FAF8 established using the following protocol: "Tls13"
2024-11-18 12:58:54.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:58:54.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:58:54.735 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:58:54.736 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:58:54.737 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:58:54.737 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:58:54.738 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:58:54.738 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:58:54.739 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:58:54.739 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:58:54.740 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:58:54.740 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:58:54.741 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:54.741 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:54.742 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:58:54.742 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:58:54.743 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:54.743 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:54.744 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:58:54.744 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:58:54.748 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:58:54.748 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:58:54.749 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:58:54.749 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:58:54.750 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:54.751 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:54.752 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:58:54.753 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:58:54.754 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:54.755 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:58:54.756 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:54.756 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:54.758 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:54.759 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:58:54.759 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:58:54.760 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:58:54.760 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:58:54.761 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:58:54.762 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:54.762 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:54.763 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:54.763 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:58:54.764 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:58:54.765 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:58:54.766 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:58:54.767 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:58:54.768 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:54.769 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:54.769 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:58:54.770 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:58:54.771 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.772 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.772 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.773 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.774 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.774 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.775 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:54.775 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:58:54.776 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.776 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:58:54.777 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:54.777 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:54.778 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:58:54.778 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:58:54.779 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:54.780 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:54.780 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:54.781 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:54.781 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:54.782 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:58:54.782 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:54.783 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:58:54.783 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:54.784 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:54.784 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:58:54.785 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:58:54.786 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:54.787 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:54.788 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:54.789 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:54.790 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:54.790 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:58:54.791 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:54.791 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:58:54.792 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:58:54.793 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:58:54.793 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:58:54.794 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:58:54.794 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:58:54.794 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:58:54.795 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.795 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.796 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.796 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.797 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:58:54.797 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:58:54.798 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:58:54.798 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:58:54.799 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:58:54.799 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:58:54.800 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:58:54.800 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:58:54.803 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:58:54.803 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:58:54.804 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.805 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.806 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:58:54.806 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:58:54.807 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.807 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.808 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:58:54.808 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:58:54.809 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:58:54.810 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:58:54.811 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:58:54.812 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:58:54.812 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:58:54.812 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:58:54.813 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:58:54.813 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:58:54.813 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:58:54.814 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:58:54.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:58:54.815 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:58:54.817 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.0245ms
2024-11-18 12:58:54.818 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.5093ms
2024-11-18 12:58:54.820 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:54.821 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:58:54.822 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:58:54.822 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:58:54.823 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.823 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:58:54.824 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:58:54.824 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:58:54.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.6931ms
2024-11-18 12:58:54.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.4073ms
2024-11-18 12:59:08.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:59:08.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:59:08.439 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:59:08.440 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:59:08.440 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:59:08.441 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:59:08.441 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:59:08.441 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:59:08.442 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:59:08.442 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:59:08.443 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:59:08.443 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:59:08.444 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:08.445 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:08.446 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:59:08.446 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:59:08.446 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:08.447 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:08.448 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:59:08.448 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:59:08.449 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:59:08.449 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:59:08.450 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:59:08.451 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:59:08.452 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:08.452 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:08.453 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:59:08.454 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:59:08.455 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:08.455 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:08.456 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:08.457 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:08.457 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:08.458 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:08.459 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:59:08.459 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:59:08.460 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:59:08.460 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:59:08.461 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:08.462 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:08.462 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:08.463 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:08.463 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:59:08.464 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:59:08.464 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:59:08.465 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:59:08.466 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:08.466 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:08.467 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:59:08.467 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:59:08.468 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.469 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.469 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.470 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.470 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.471 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.471 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:08.472 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:08.473 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.473 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:08.474 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:08.474 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:08.475 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:59:08.475 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:59:08.476 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:08.477 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:08.477 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:08.478 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:08.478 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:08.479 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:08.480 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:08.480 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:08.481 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:08.481 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:08.482 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:59:08.483 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:59:08.483 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:08.484 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:08.485 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:08.485 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:08.486 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:08.486 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:08.487 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:08.488 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:08.489 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:59:08.489 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:59:08.490 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:59:08.491 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:59:08.491 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:59:08.491 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:59:08.491 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.492 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.492 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.493 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.494 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:59:08.494 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:59:08.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:59:08.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:59:08.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 12:59:08.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:59:08.497 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:59:08.497 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:59:08.501 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:59:08.501 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:59:08.502 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.503 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.503 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:59:08.504 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:59:08.504 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.505 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.506 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:59:08.506 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 12:59:08.507 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:59:08.508 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:59:08.509 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:59:08.510 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:59:08.511 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:59:08.511 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:59:08.511 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:59:08.512 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:59:08.512 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:59:08.512 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:59:08.513 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:59:08.513 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:59:08.516 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.3579ms
2024-11-18 12:59:08.517 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.5111ms
2024-11-18 12:59:08.517 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:08.518 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:08.518 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:59:08.519 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:59:08.519 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.520 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:08.520 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 12:59:08.521 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:59:08.522 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 85.2716ms
2024-11-18 12:59:08.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 85.9051ms
2024-11-18 12:59:41.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:59:41.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:59:41.247 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:59:41.248 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:59:41.249 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:59:41.249 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:59:41.250 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:59:41.251 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:59:41.251 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:59:41.252 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:59:41.252 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:59:41.253 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:59:41.253 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:41.254 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:41.255 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:59:41.255 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:59:41.255 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:41.256 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:41.257 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:59:41.258 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:59:41.258 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:59:41.259 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:59:41.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:59:41.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:59:41.261 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:41.262 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:41.263 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:59:41.264 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:59:41.265 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:41.265 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:41.266 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:41.267 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:41.268 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:41.269 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:41.269 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:59:41.270 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:59:41.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:59:41.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:59:41.272 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:41.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:41.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:41.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:41.275 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:59:41.275 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:59:41.276 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:59:41.276 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:59:41.277 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:41.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:41.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:59:41.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:59:41.280 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.281 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.285 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:41.285 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:41.286 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.286 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:41.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:41.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:41.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:59:41.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:59:41.289 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:41.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:41.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:41.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:41.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:41.293 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:41.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:41.294 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:41.294 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:41.295 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:41.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:59:41.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:59:41.297 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:41.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:41.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:41.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:41.300 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:41.301 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:41.301 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:41.302 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:41.303 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:59:41.303 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:59:41.304 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:59:41.305 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:59:41.306 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 12:59:41.306 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:59:41.307 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.307 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.308 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.308 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:59:41.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:59:41.310 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:59:41.310 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:59:41.311 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:59:41.311 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:59:41.312 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:59:41.313 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:59:41.318 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:59:41.318 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:59:41.320 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.320 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.321 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:59:41.322 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:59:41.323 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.323 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.324 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:59:41.325 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:59:41.326 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:59:41.327 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:59:41.328 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:59:41.330 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:59:41.330 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:59:41.330 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:59:41.331 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:59:41.331 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:59:41.331 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:59:41.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:59:41.332 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:59:41.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:59:41.335 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.9032ms
2024-11-18 12:59:41.337 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.4832ms
2024-11-18 12:59:41.343 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:41.346 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:41.350 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:59:41.351 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:59:41.351 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.352 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:41.352 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:59:41.353 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:59:41.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 111.9152ms
2024-11-18 12:59:41.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 112.8237ms
2024-11-18 12:59:54.286 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 12:59:54.286 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 12:59:54.288 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:59:54.289 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 12:59:54.290 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:59:54.291 +07:00 [INF] CORS policy execution successful.
2024-11-18 12:59:54.291 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:59:54.292 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 12:59:54.292 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:59:54.293 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 12:59:54.293 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:59:54.294 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 12:59:54.296 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:54.297 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:54.297 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:59:54.298 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 12:59:54.299 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:54.302 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:54.302 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:59:54.303 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 12:59:54.303 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:59:54.305 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:59:54.304 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 12:59:54.306 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:54.306 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 12:59:54.307 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:59:54.308 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:54.309 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:54.309 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 12:59:54.310 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:54.311 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 12:59:54.312 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:54.313 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:54.314 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:59:54.315 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 12:59:54.315 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:59:54.316 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 12:59:54.316 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:54.317 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 12:59:54.317 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:54.318 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:54.318 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:59:54.319 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 12:59:54.320 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:59:54.320 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 12:59:54.321 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:54.321 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 12:59:54.322 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:59:54.322 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:54.323 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.323 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 12:59:54.324 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.324 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.325 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.326 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.326 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:54.327 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.327 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.328 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 12:59:54.328 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:54.329 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 12:59:54.330 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:59:54.330 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:54.331 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:54.331 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 12:59:54.332 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:54.332 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:54.333 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:54.333 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:54.334 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:54.335 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 12:59:54.335 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:54.336 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 12:59:54.336 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:59:54.337 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:54.337 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:54.338 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 12:59:54.338 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:54.339 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:54.340 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:54.340 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:54.341 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:54.342 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 12:59:54.343 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:59:54.343 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 12:59:54.344 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:59:54.344 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 12:59:54.344 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:59:54.345 +07:00 [DBG] Creating DbConnection.
2024-11-18 12:59:54.345 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.346 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 12:59:54.347 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.347 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.347 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:59:54.348 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:59:54.349 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 12:59:54.349 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:59:54.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 12:59:54.350 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:59:54.351 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 12:59:54.352 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:59:54.355 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 12:59:54.355 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 12:59:54.357 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.358 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.358 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:59:54.359 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 12:59:54.360 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.360 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.361 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:59:54.362 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 12:59:54.362 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:59:54.363 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 12:59:54.364 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:59:54.366 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 12:59:54.366 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:59:54.366 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 12:59:54.367 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:59:54.367 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 12:59:54.368 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:59:54.368 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 12:59:54.369 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:59:54.369 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 12:59:54.371 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.3298ms
2024-11-18 12:59:54.373 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:54.373 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.5517ms
2024-11-18 12:59:54.377 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:59:54.378 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 12:59:54.378 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.379 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 12:59:54.379 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:59:54.380 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 12:59:54.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 94.685ms
2024-11-18 12:59:54.381 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 12:59:54.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 97.3635ms
2024-11-18 13:00:13.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:00:13.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:00:13.403 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:00:13.404 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:00:13.405 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:00:13.405 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:00:13.406 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:00:13.406 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:00:13.406 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:00:13.407 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:00:13.407 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:00:13.408 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:00:13.409 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:13.409 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:13.410 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:00:13.410 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:00:13.411 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:13.411 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:13.412 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:00:13.412 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:00:13.413 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:00:13.413 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:00:13.414 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:00:13.415 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:00:13.415 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:13.416 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:13.417 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:00:13.418 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:00:13.418 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:13.419 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:13.420 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:13.421 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:13.421 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:13.422 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:13.422 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:00:13.423 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:00:13.423 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:00:13.424 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:00:13.425 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:13.426 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:13.426 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:13.427 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:13.427 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:00:13.428 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:00:13.428 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:00:13.429 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:00:13.429 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:13.430 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:13.430 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:00:13.431 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:00:13.432 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.432 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.433 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.433 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.434 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.434 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.435 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:13.435 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:13.436 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.437 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:13.437 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:13.438 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:13.439 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:00:13.439 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:00:13.440 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:13.440 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:13.441 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:13.441 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:13.442 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:13.442 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:13.443 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:13.444 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:13.444 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:13.445 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:13.445 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:00:13.446 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:00:13.446 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:13.447 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:13.447 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:13.448 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:13.448 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:13.449 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:13.449 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:13.450 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:13.451 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:00:13.452 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:00:13.452 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:00:13.453 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:00:13.453 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:00:13.454 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:00:13.454 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.454 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.455 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.456 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.456 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:00:13.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:00:13.457 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:00:13.458 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:00:13.458 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:00:13.459 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:00:13.460 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:00:13.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:00:13.463 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:00:13.465 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:00:13.466 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.466 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.467 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:00:13.467 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:00:13.468 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.468 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.469 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:00:13.469 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:00:13.470 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:00:13.471 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:00:13.472 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:00:13.473 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:00:13.473 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:00:13.473 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:00:13.474 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:00:13.474 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:00:13.474 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:00:13.475 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:00:13.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:00:13.476 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:00:13.478 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.2398ms
2024-11-18 13:00:13.478 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.4245ms
2024-11-18 13:00:13.479 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:13.483 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:13.483 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:00:13.484 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:00:13.485 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.485 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:13.486 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:00:13.486 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:00:13.487 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 86.9665ms
2024-11-18 13:00:13.488 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.7548ms
2024-11-18 13:00:27.546 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:00:27.546 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:00:27.548 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:00:27.549 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:00:27.550 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:00:27.550 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:00:27.551 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:00:27.551 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:00:27.551 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:00:27.552 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:00:27.552 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:00:27.553 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:00:27.554 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:27.555 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:27.555 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:00:27.556 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:00:27.556 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:27.557 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:27.557 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:00:27.558 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:00:27.559 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:00:27.559 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:00:27.560 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:00:27.561 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:00:27.562 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:27.562 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:27.563 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:00:27.564 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:00:27.565 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:27.566 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:00:27.566 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:27.567 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:27.568 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:27.569 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:00:27.570 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:00:27.571 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:27.571 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:27.571 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:00:27.572 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:00:27.572 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:00:27.573 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:00:27.574 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:00:27.574 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:27.576 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:27.576 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:00:27.577 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:00:27.577 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.578 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:00:27.579 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.579 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:00:27.580 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.580 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:27.580 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:27.581 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:00:27.582 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.583 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.583 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:27.584 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.585 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:00:27.585 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.586 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:27.586 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:00:27.587 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:27.587 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:00:27.588 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:27.589 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:27.590 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:27.590 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:00:27.591 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:27.592 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:27.592 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:00:27.593 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:27.593 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:27.594 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:00:27.594 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:27.595 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:00:27.596 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:27.596 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:27.597 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:27.598 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:00:27.599 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:00:27.599 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:27.601 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:00:27.601 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:27.601 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:00:27.602 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:00:27.603 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.604 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:00:27.604 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.606 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:00:27.606 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:00:27.607 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:00:27.607 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:00:27.608 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:00:27.608 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:00:27.609 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:00:27.609 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.611 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.612 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:00:27.613 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:00:27.613 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:00:27.614 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:00:27.614 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:00:27.615 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.617 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:00:27.618 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.618 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:00:27.618 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:00:27.620 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.620 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:00:27.621 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:00:27.622 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:00:27.622 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.623 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:00:27.624 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:00:27.624 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:00:27.625 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:00:27.625 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:00:27.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:00:27.627 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:00:27.628 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.4342ms
2024-11-18 13:00:27.628 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:00:27.629 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:27.629 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:00:27.630 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:00:27.630 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:00:27.631 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.632 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:00:27.633 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:00:27.635 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 88.6999ms
2024-11-18 13:00:27.636 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.2285ms
2024-11-18 13:00:27.638 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:00:27.639 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:00:27.640 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:00:27.641 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:00:27.641 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.8906ms
2024-11-18 13:01:00.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:01:00.258 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:01:00.264 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:01:00.264 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:01:00.267 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:01:00.268 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:01:00.269 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:01:00.270 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:01:00.270 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:01:00.271 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:01:00.272 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:01:00.273 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:00.274 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:01:00.275 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:01:00.277 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:00.277 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:00.278 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:01:00.279 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:01:00.279 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:00.280 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:01:00.281 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:01:00.282 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:01:00.284 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:01:00.284 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:00.285 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:01:00.287 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:01:00.288 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:00.289 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:00.291 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:01:00.292 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:00.293 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:00.294 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:00.295 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:00.296 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:01:00.298 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:00.298 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:01:00.299 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:01:00.300 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:00.301 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:01:00.301 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:00.302 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:00.303 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:01:00.304 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:00.305 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:01:00.306 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:01:00.306 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:00.307 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:01:00.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:01:00.309 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:00.309 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.310 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:01:00.312 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.313 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.313 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.314 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.315 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:00.315 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.316 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.316 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:00.317 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:00.318 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:00.318 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:01:00.319 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:00.320 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:00.320 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:01:00.321 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:00.321 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:00.322 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:00.323 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:00.323 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:00.324 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:00.325 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:00.326 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:00.326 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:01:00.328 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:00.329 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:00.329 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:01:00.330 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:00.331 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:00.332 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:00.332 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:00.333 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:00.333 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:00.335 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:00.335 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:01:00.336 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:01:00.336 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:01:00.337 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:01:00.337 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:01:00.337 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:01:00.338 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.339 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.339 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.340 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.340 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:01:00.341 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:01:00.341 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:01:00.342 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:01:00.342 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:01:00.343 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:01:00.343 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:01:00.344 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:01:00.348 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:01:00.348 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:01:00.350 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.350 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.351 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:01:00.352 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:01:00.352 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.354 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.355 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 13:01:00.355 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:01:00.356 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:01:00.356 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:01:00.358 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:01:00.359 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:01:00.360 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:01:00.360 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:01:00.360 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:01:00.361 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:01:00.361 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:01:00.362 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:01:00.362 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:01:00.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:01:00.365 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.5664ms
2024-11-18 13:01:00.367 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 74.0541ms
2024-11-18 13:01:00.370 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:00.375 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:00.376 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:01:00.377 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:01:00.377 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.378 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:00.378 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:01:00.379 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:01:00.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 117.4029ms
2024-11-18 13:01:00.382 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 126.0182ms
2024-11-18 13:01:05.447 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:01:05.447 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:01:05.449 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:01:05.450 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:01:05.451 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:01:05.451 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:01:05.452 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:01:05.452 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:01:05.452 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:01:05.453 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:01:05.453 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:01:05.454 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:01:05.454 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:05.455 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:05.456 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:01:05.457 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:01:05.458 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:05.459 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:05.459 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:01:05.460 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:01:05.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:01:05.461 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:01:05.462 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:01:05.463 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:01:05.465 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:05.465 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:05.466 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:01:05.467 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:01:05.468 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:05.468 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:01:05.469 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:05.470 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:05.471 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:05.471 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:01:05.472 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:01:05.473 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:01:05.473 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:01:05.474 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:01:05.475 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:05.475 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:05.476 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:05.477 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:01:05.478 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:01:05.478 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:01:05.479 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:01:05.480 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:01:05.480 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:05.481 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:05.481 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:01:05.482 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:01:05.482 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.483 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.484 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.484 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.485 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.485 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.486 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:05.486 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:01:05.487 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.487 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:01:05.488 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:05.488 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:05.489 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:01:05.489 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:01:05.490 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:05.491 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:05.491 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:05.492 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:05.493 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:05.493 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:01:05.494 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:05.494 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:01:05.495 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:05.495 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:05.496 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:01:05.496 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:01:05.497 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:05.498 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:05.499 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:05.499 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:05.500 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:05.500 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:01:05.501 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:05.501 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:01:05.502 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:01:05.503 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:01:05.503 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:01:05.504 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:01:05.504 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:01:05.505 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:01:05.505 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.506 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.507 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.507 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.508 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:01:05.508 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:01:05.508 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:01:05.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:01:05.509 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:01:05.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:01:05.510 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:01:05.511 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:01:05.515 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:01:05.515 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:01:05.516 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.517 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.517 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:01:05.518 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:01:05.518 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.519 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.520 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:01:05.520 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:01:05.521 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:01:05.521 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:01:05.523 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:01:05.523 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:01:05.524 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:01:05.524 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:01:05.524 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:01:05.525 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:01:05.525 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:01:05.525 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:01:05.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:01:05.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:01:05.528 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.3862ms
2024-11-18 13:01:05.532 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:05.534 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.1581ms
2024-11-18 13:01:05.534 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:01:05.538 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:01:05.539 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.539 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:01:05.540 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:01:05.540 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:01:05.541 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 93.6779ms
2024-11-18 13:01:05.541 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:01:05.543 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 96.0046ms
2024-11-18 13:01:08.363 +07:00 [DBG] Connection id "0HN87HVO5FAF8" received FIN.
2024-11-18 13:01:08.364 +07:00 [DBG] Connection id "0HN87HVO5FAF8" is closed. The last processed stream ID was 31.
2024-11-18 13:01:08.364 +07:00 [DBG] Connection id "0HN87HVO5FAF8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:01:08.367 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF8 completed.
2024-11-18 13:01:08.368 +07:00 [DBG] Connection id "0HN87HVO5FAF8" stopped.
2024-11-18 13:02:48.240 +07:00 [DBG] Connection id "0HN87HVO5FAF9" accepted.
2024-11-18 13:02:48.244 +07:00 [DBG] Connection id "0HN87HVO5FAF9" started.
2024-11-18 13:02:48.250 +07:00 [DBG] Connection 0HN87HVO5FAF9 established using the following protocol: "Tls13"
2024-11-18 13:02:48.257 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:02:48.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:02:48.265 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:02:48.267 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:02:48.267 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:02:48.267 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:02:48.268 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:02:48.268 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:02:48.269 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:02:48.269 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:02:48.270 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:02:48.270 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:02:48.271 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:48.271 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:48.272 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:02:48.272 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:02:48.274 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:48.275 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:48.275 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:02:48.276 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:02:48.279 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:02:48.284 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:02:48.284 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:02:48.285 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:02:48.290 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:48.291 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:48.292 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:02:48.292 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:02:48.297 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:48.297 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:48.298 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:48.299 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:48.303 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:48.303 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:48.304 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:02:48.304 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:02:48.305 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:02:48.306 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:02:48.306 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:48.311 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:48.312 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:48.313 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:48.316 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:02:48.317 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:02:48.318 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:02:48.319 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:02:48.320 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:48.322 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:48.323 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:02:48.324 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:02:48.324 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.325 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.326 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.327 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.329 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.330 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.331 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:48.332 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:48.334 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.336 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:48.337 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:48.339 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:48.341 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:02:48.344 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:02:48.345 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:48.345 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:48.346 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:48.347 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:48.348 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:48.348 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:48.349 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:48.350 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:48.350 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:48.351 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:48.352 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:02:48.352 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:02:48.353 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:48.353 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:48.354 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:48.354 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:48.356 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:48.355 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:48.357 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:48.358 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:48.360 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:02:48.361 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:02:48.362 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:02:48.363 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:02:48.364 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.362 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:02:48.365 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.366 +07:00 [DBG] Created DbConnection. (3ms).
2024-11-18 13:02:48.366 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:02:48.367 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.367 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:02:48.368 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.369 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:02:48.371 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:02:48.372 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:02:48.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:02:48.374 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 13:02:48.375 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:02:48.378 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:02:48.378 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:02:48.379 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.381 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.381 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:02:48.382 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:02:48.383 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.383 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.385 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:02:48.385 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:02:48.386 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:02:48.386 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:02:48.388 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:02:48.389 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:02:48.389 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:02:48.389 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:02:48.390 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:02:48.390 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:02:48.390 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:02:48.391 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:02:48.392 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:02:48.392 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:02:48.393 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 94.8132ms
2024-11-18 13:02:48.395 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:48.397 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:02:48.397 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 98.4021ms
2024-11-18 13:02:48.403 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.404 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:48.404 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:02:48.405 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:02:48.407 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 149.0794ms
2024-11-18 13:02:48.407 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:48.410 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 13:02:48.411 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 153.6277ms
2024-11-18 13:02:56.042 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:02:56.042 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:02:56.045 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:02:56.046 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:02:56.046 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:02:56.047 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:02:56.047 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:02:56.047 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:02:56.048 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:02:56.048 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:02:56.049 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:02:56.049 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:02:56.051 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:56.052 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:56.052 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:02:56.052 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:02:56.053 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:56.054 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:56.054 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:02:56.055 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:02:56.056 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:02:56.057 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:02:56.058 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:02:56.058 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:02:56.059 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:56.060 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:56.061 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:02:56.062 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:02:56.062 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:56.063 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:02:56.064 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:56.065 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:56.066 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:56.066 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:02:56.067 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:02:56.068 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:02:56.068 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:02:56.069 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:02:56.070 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:56.070 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:56.071 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:56.072 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:02:56.073 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:02:56.073 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:02:56.074 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:02:56.075 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:02:56.075 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:56.076 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:56.077 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:02:56.078 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.077 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:02:56.079 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.080 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.080 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.081 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.082 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:56.082 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.083 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.083 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:02:56.084 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:56.084 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:02:56.085 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:02:56.086 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:56.087 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:56.087 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:02:56.088 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:56.089 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:56.089 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:56.090 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:56.090 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:56.091 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:02:56.091 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:56.093 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:02:56.093 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:02:56.094 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:56.095 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:56.095 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:02:56.096 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:56.096 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:56.097 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:56.097 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:56.098 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:56.098 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:02:56.100 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:02:56.100 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:02:56.101 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:02:56.103 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:02:56.103 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:02:56.103 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.105 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:02:56.105 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.105 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:02:56.106 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:02:56.106 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.107 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:02:56.108 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.108 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:02:56.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:02:56.110 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:02:56.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:02:56.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:02:56.112 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:02:56.115 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:02:56.116 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:02:56.117 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.118 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.118 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:02:56.119 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:02:56.119 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.120 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.121 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:02:56.121 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:02:56.122 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:02:56.122 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:02:56.124 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:02:56.124 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:02:56.125 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:02:56.125 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:02:56.125 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:02:56.126 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:02:56.126 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:02:56.126 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:02:56.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:02:56.128 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:02:56.129 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.945ms
2024-11-18 13:02:56.131 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:56.132 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.9725ms
2024-11-18 13:02:56.133 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:02:56.139 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:02:56.139 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.140 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:02:56.141 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:02:56.141 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:02:56.142 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 100.2337ms
2024-11-18 13:02:56.143 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:02:56.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.3723ms
2024-11-18 13:02:58.492 +07:00 [DBG] Connection id "0HN87HVO5FAF9" received FIN.
2024-11-18 13:02:58.493 +07:00 [DBG] Connection id "0HN87HVO5FAF9" is closed. The last processed stream ID was 7.
2024-11-18 13:02:58.493 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAF9 completed.
2024-11-18 13:02:58.493 +07:00 [DBG] Connection id "0HN87HVO5FAF9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:02:58.506 +07:00 [DBG] Connection id "0HN87HVO5FAF9" stopped.
2024-11-18 13:07:30.742 +07:00 [DBG] Connection id "0HN87HVO5FAFA" accepted.
2024-11-18 13:07:30.744 +07:00 [DBG] Connection id "0HN87HVO5FAFA" started.
2024-11-18 13:07:30.757 +07:00 [DBG] Connection 0HN87HVO5FAFA established using the following protocol: "Tls13"
2024-11-18 13:07:30.791 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:07:30.791 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:07:30.798 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:07:30.799 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:07:30.799 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:07:30.799 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:07:30.800 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:07:30.800 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:07:30.800 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:07:30.802 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:07:30.802 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:07:30.803 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:07:30.803 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:30.804 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:30.804 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:07:30.805 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:07:30.805 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:30.806 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:30.806 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:07:30.808 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:07:30.807 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:07:30.809 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:07:30.810 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:07:30.810 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:30.811 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:07:30.812 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:07:30.813 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:30.813 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:30.814 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:07:30.816 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:30.817 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:30.818 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:30.818 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:30.819 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:07:30.820 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:30.820 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:07:30.821 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:07:30.822 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:30.823 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:07:30.823 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:30.824 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:30.825 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:07:30.825 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:30.826 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:07:30.826 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:07:30.826 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:30.827 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:07:30.827 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:07:30.828 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:30.829 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.830 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:07:30.830 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.831 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.832 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.832 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.833 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:30.834 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.834 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.836 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:30.835 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:30.836 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:07:30.837 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:30.838 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:30.838 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:30.839 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:30.839 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:07:30.840 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:30.840 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:30.841 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:30.841 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:30.841 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:30.842 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:30.843 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:07:30.844 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:30.844 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:30.845 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:30.845 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:30.846 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:07:30.846 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:30.847 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:30.847 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:30.848 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:30.849 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:07:30.849 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:30.851 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:07:30.851 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:30.851 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:07:30.852 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:07:30.853 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.854 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:07:30.854 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.854 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:07:30.855 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:07:30.855 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.856 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.855 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:07:30.858 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:07:30.858 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 13:07:30.859 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:07:30.859 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:07:30.860 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:07:30.861 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:07:30.864 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:07:30.865 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.866 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:07:30.866 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:07:30.867 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.868 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.868 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:07:30.869 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:07:30.869 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:07:30.871 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.872 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:07:30.873 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:07:30.873 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:07:30.874 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:07:30.874 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:07:30.875 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:07:30.875 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:07:30.876 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:07:30.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:07:30.876 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:07:30.879 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:07:30.880 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:07:30.885 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.5802ms
2024-11-18 13:07:30.885 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.0984ms
2024-11-18 13:07:30.887 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:30.887 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:30.888 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:07:30.888 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:07:30.889 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.889 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:30.890 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:07:30.890 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:07:30.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 100.4658ms
2024-11-18 13:07:30.892 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 101.3461ms
2024-11-18 13:07:33.857 +07:00 [DBG] Connection id "0HN87HVO5FAFA" received FIN.
2024-11-18 13:07:33.858 +07:00 [DBG] Connection id "0HN87HVO5FAFA" is closed. The last processed stream ID was 3.
2024-11-18 13:07:33.858 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFA completed.
2024-11-18 13:07:33.858 +07:00 [DBG] Connection id "0HN87HVO5FAFA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:07:33.871 +07:00 [DBG] Connection id "0HN87HVO5FAFA" stopped.
2024-11-18 13:07:51.964 +07:00 [DBG] Connection id "0HN87HVO5FAFB" accepted.
2024-11-18 13:07:51.964 +07:00 [DBG] Connection id "0HN87HVO5FAFB" started.
2024-11-18 13:07:51.968 +07:00 [DBG] Connection 0HN87HVO5FAFB established using the following protocol: "Tls13"
2024-11-18 13:07:51.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:07:51.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:07:51.974 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:07:51.975 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:07:51.976 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:07:51.976 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:07:51.977 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:07:51.977 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:07:51.978 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:07:51.978 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:07:51.979 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:07:51.979 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:07:51.980 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:51.981 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:51.981 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:07:51.982 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:07:51.982 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:51.983 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:51.983 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:07:51.984 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:07:51.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:07:51.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:07:51.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:07:51.987 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:07:51.987 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:51.988 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:51.989 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:07:51.990 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:07:51.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:51.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:07:51.992 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:51.993 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:51.993 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:51.994 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:07:51.994 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:07:51.995 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:07:51.996 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:07:51.996 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:07:51.997 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:51.998 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:51.998 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:51.999 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:07:51.999 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:07:52.000 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:07:52.000 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:07:52.001 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:07:52.001 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:52.002 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:52.003 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:07:52.003 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:07:52.004 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.005 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.005 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.006 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.007 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.007 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.008 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:52.008 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:07:52.009 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.009 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:07:52.010 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:52.011 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:52.011 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:07:52.012 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:07:52.012 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:52.013 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:52.014 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:52.014 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:52.015 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:52.016 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:07:52.017 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:52.017 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:07:52.018 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:52.018 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:52.019 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:07:52.019 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:07:52.020 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:52.020 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:52.021 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:52.021 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:52.022 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:52.023 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:07:52.023 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:52.024 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:07:52.025 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:07:52.025 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:07:52.026 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:07:52.026 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:07:52.027 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:07:52.027 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:07:52.027 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.028 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.028 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.029 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:07:52.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:07:52.031 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:07:52.031 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:07:52.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:07:52.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:07:52.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:07:52.033 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:07:52.037 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:07:52.037 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:07:52.038 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.039 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.040 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:07:52.040 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:07:52.041 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.041 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.042 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:07:52.042 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:07:52.043 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:07:52.044 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:07:52.045 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:07:52.046 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:07:52.047 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:07:52.047 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:07:52.047 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:07:52.048 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:07:52.048 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:07:52.048 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:07:52.049 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:07:52.049 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:07:52.052 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.6158ms
2024-11-18 13:07:52.052 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.3699ms
2024-11-18 13:07:52.053 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:52.053 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:07:52.054 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:07:52.054 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:07:52.055 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.055 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:07:52.056 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:07:52.056 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:07:52.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 87.9112ms
2024-11-18 13:07:52.058 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 88.7991ms
2024-11-18 13:07:53.871 +07:00 [DBG] Connection id "0HN87HVO5FAFB" received FIN.
2024-11-18 13:07:53.872 +07:00 [DBG] Connection id "0HN87HVO5FAFB" is closed. The last processed stream ID was 3.
2024-11-18 13:07:53.873 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFB completed.
2024-11-18 13:07:53.874 +07:00 [DBG] Connection id "0HN87HVO5FAFB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:07:53.885 +07:00 [DBG] Connection id "0HN87HVO5FAFB" stopped.
2024-11-18 13:08:00.119 +07:00 [DBG] Connection id "0HN87HVO5FAFC" accepted.
2024-11-18 13:08:00.120 +07:00 [DBG] Connection id "0HN87HVO5FAFC" started.
2024-11-18 13:08:00.124 +07:00 [DBG] Connection 0HN87HVO5FAFC established using the following protocol: "Tls13"
2024-11-18 13:08:00.126 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:08:00.126 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:08:00.128 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:00.129 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:00.129 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:00.130 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:00.130 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:00.130 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:00.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:00.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:00.132 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:00.132 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:00.133 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:00.134 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:00.134 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:00.135 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:00.135 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:00.135 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:00.136 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:00.136 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:00.137 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:00.138 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:00.138 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:00.139 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:00.140 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:00.140 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:00.141 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:00.142 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:00.143 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:00.144 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:00.144 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:00.145 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:00.146 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:00.146 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:00.147 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:00.147 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:00.148 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:00.148 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:00.149 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:00.150 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:00.150 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:00.151 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:00.151 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:00.152 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:00.152 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:00.153 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:00.153 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:00.154 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:00.154 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:00.155 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:00.156 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.156 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.157 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.158 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.158 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.159 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.159 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:00.160 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:00.160 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.161 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:00.161 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:00.162 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:00.163 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:00.163 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:00.164 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:00.164 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:00.165 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:00.166 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:00.166 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:00.167 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:00.167 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:00.168 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:00.168 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:00.169 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:00.170 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:00.170 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:00.171 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:00.172 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:00.172 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:00.173 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:00.174 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:00.174 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:00.175 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:00.176 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:00.177 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:00.177 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:00.178 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:00.179 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:00.179 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:00.179 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:00.180 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.180 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.181 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.182 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.182 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:00.183 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:00.183 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:00.184 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:00.185 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:00.185 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:00.186 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:00.186 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:00.190 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:00.190 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:00.192 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.192 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.193 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:00.193 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:00.194 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.195 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.196 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:00.196 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:00.197 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:00.198 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:00.199 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:00.200 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:00.200 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:00.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:00.202 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:00.201 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:00.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:00.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:00.203 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:00.204 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:00.205 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.2911ms
2024-11-18 13:08:00.207 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:00.207 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.1173ms
2024-11-18 13:08:00.207 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:00.208 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:00.208 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.209 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:00.210 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:00.210 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:00.211 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 85.0944ms
2024-11-18 13:08:00.211 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:00.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 88.038ms
2024-11-18 13:08:04.505 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:08:04.505 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:08:04.507 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:04.508 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:04.509 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:04.509 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:04.510 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:04.510 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:04.510 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:04.511 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:04.511 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:04.512 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:04.513 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:04.513 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:04.514 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:04.515 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:04.516 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:04.514 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:04.517 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:04.518 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:04.518 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:04.519 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:04.519 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:04.520 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:04.521 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:04.522 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:04.522 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:04.523 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:04.524 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:04.524 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:04.525 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:04.526 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:04.526 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:04.527 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:04.527 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:04.528 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:04.528 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:04.529 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:04.530 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:04.530 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:04.531 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:04.532 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:04.532 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:04.533 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:04.533 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:04.534 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:04.534 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:04.535 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:04.535 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.536 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:04.537 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.538 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:04.538 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.539 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.539 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:04.540 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.540 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.541 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.542 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:04.542 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:04.543 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:04.543 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:04.544 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:04.545 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:04.546 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:04.547 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:04.548 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:04.548 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:04.549 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:04.549 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:04.550 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:04.550 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:04.551 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:04.551 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:04.552 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:04.553 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:04.553 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:04.554 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:04.554 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:04.555 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:04.555 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:04.556 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:04.556 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:04.558 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:04.558 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:04.559 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:04.559 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:04.559 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:04.560 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.561 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:04.561 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.561 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:04.562 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:04.562 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.563 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:08:04.563 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:04.564 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:04.565 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:04.565 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:04.567 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:04.567 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:04.569 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:04.570 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:04.571 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.572 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.572 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:04.573 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:04.573 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.574 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.575 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:04.575 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:04.576 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:04.576 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:04.577 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:04.579 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:04.579 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:04.579 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:04.580 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:04.580 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:04.580 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:04.581 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:04.581 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:04.582 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:04.582 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.8613ms
2024-11-18 13:08:04.585 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:04.585 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.5279ms
2024-11-18 13:08:04.586 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:04.586 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:04.587 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.587 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:04.588 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:04.588 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:04.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 83.8831ms
2024-11-18 13:08:04.589 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:04.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 86.2245ms
2024-11-18 13:08:08.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:08:08.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:08:08.245 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:08.246 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:08.247 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:08.247 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:08.248 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:08.248 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:08.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:08.249 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:08.249 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:08.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:08.250 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:08.251 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:08.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:08.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:08.253 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:08.253 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:08.254 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:08.254 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:08.255 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:08.256 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:08.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:08.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:08.258 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:08.259 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:08.260 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:08.261 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:08.261 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:08.262 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:08.263 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:08.263 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:08.264 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:08.264 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:08.265 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:08.266 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:08.266 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:08.267 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:08.267 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:08.268 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:08.269 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:08.269 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:08.270 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:08.270 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:08.271 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:08.271 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:08.272 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:08.273 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:08.273 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:08.274 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:08.275 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.275 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.276 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.276 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.277 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.277 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.278 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:08.279 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:08.279 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.280 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:08.280 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:08.281 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:08.282 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:08.282 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:08.283 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:08.283 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:08.284 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:08.284 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:08.285 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:08.285 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:08.286 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:08.287 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:08.287 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:08.288 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:08.289 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:08.289 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:08.290 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:08.290 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:08.291 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:08.292 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:08.292 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:08.293 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:08.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:08.294 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:08.295 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:08.295 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:08.296 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:08.297 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:08.297 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:08.297 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:08.298 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.298 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.299 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.299 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:08.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:08.301 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:08.301 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:08:08.302 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:08.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:08.303 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:08.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:08.306 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:08.307 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:08.308 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.309 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.309 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:08.310 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:08.311 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.311 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.312 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:08.312 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:08:08.313 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:08.313 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:08.315 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:08.316 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:08.316 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:08.316 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:08.317 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:08.317 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:08.317 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:08.318 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:08.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:08.319 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:08.322 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.1851ms
2024-11-18 13:08:08.323 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.9235ms
2024-11-18 13:08:08.324 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:08.327 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:08.327 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:08.328 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:08.329 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.329 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:08.330 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:08:08.330 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:08.331 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 87.2505ms
2024-11-18 13:08:08.331 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.8971ms
2024-11-18 13:08:08.895 +07:00 [DBG] Connection id "0HN87HVO5FAFC" received FIN.
2024-11-18 13:08:08.896 +07:00 [DBG] Connection id "0HN87HVO5FAFC" is closed. The last processed stream ID was 11.
2024-11-18 13:08:08.896 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFC completed.
2024-11-18 13:08:08.896 +07:00 [DBG] Connection id "0HN87HVO5FAFC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:08:08.910 +07:00 [DBG] Connection id "0HN87HVO5FAFC" stopped.
2024-11-18 13:08:20.843 +07:00 [DBG] Connection id "0HN87HVO5FAFD" accepted.
2024-11-18 13:08:20.844 +07:00 [DBG] Connection id "0HN87HVO5FAFD" started.
2024-11-18 13:08:20.847 +07:00 [DBG] Connection 0HN87HVO5FAFD established using the following protocol: "Tls13"
2024-11-18 13:08:20.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:08:20.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:08:20.851 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:20.852 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:20.852 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:20.852 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:20.853 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:20.853 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:20.853 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:20.854 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:20.854 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:20.855 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:20.856 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:20.857 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:20.857 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:20.858 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:20.858 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:20.858 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:20.859 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:20.859 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:20.860 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:20.861 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:20.861 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:20.863 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:20.863 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:20.864 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:20.865 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:20.866 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:20.866 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:20.867 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:20.868 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:20.868 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:20.869 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:20.870 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:20.870 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:20.871 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:20.872 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:20.872 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:20.873 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:20.873 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:20.874 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:20.874 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:20.875 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:20.876 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:20.876 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:20.877 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:20.878 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:20.878 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:20.879 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:20.879 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:20.880 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.881 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.881 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.882 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.882 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.883 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.884 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:20.884 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:20.885 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.886 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:20.886 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:20.887 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:20.887 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:20.888 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:20.888 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:20.889 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:20.890 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:20.890 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:20.891 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:20.892 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:20.892 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:20.893 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:20.894 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:20.894 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:20.895 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:20.895 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:20.896 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:20.897 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:20.898 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:20.898 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:20.899 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:20.900 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:20.900 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:20.901 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:20.902 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:20.902 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:20.904 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:20.905 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:20.905 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:08:20.905 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:20.906 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.907 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.907 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.908 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.909 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:20.909 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:20.910 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:08:20.910 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:08:20.911 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:20.912 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:20.912 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:20.913 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:20.916 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:20.917 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:20.917 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.918 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.919 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:20.919 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:20.920 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.921 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.921 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:20.922 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:20.922 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:20.923 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:20.924 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:20.925 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:20.926 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:20.926 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:20.926 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:20.927 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:20.927 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:20.927 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:20.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:20.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:20.931 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.1212ms
2024-11-18 13:08:20.931 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.861ms
2024-11-18 13:08:20.932 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:20.933 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:20.933 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:20.934 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:20.934 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.935 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:20.935 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:20.936 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:20.936 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 87.3275ms
2024-11-18 13:08:20.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.8896ms
2024-11-18 13:08:41.022 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:08:41.022 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:08:41.030 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:41.031 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:41.032 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:41.033 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:41.034 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:41.034 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:41.035 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:41.036 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:41.037 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:41.039 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:41.040 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:41.040 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:41.041 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:41.042 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:41.043 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:41.043 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:41.044 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:41.044 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:41.045 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:41.047 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:41.048 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:41.049 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:41.050 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:41.050 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:41.052 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:41.054 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:41.055 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:41.056 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:41.057 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:41.057 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:41.058 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:41.059 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:41.059 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:41.060 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:41.060 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:41.061 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:41.061 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:41.062 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:41.063 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:41.063 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:41.064 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:41.065 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:41.066 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:41.066 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:41.067 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:41.068 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:41.069 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:41.069 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:41.070 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.071 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.072 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.073 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.073 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.074 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.074 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:41.075 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:41.076 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.076 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:41.077 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:41.077 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:41.078 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:41.079 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:41.079 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:41.080 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:41.080 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:41.081 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:41.082 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:41.082 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:41.083 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:41.083 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:41.084 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:41.085 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:41.086 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:41.087 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:41.088 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:41.089 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:41.089 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:41.090 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:41.091 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:41.091 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:41.092 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:41.092 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:41.094 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:41.094 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:41.095 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:41.096 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:41.096 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:41.097 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:08:41.097 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.098 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.098 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.099 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.099 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:41.100 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:41.100 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:41.101 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:08:41.101 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:41.102 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:41.102 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:41.103 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:41.106 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:41.106 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:41.108 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.108 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.109 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:41.109 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:08:41.110 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.110 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.111 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:41.111 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:41.112 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:41.113 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:41.114 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:41.115 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:41.115 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:41.115 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:41.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:41.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:41.116 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:41.117 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:41.117 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:41.118 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:41.120 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.0526ms
2024-11-18 13:08:41.124 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:41.128 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:41.128 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.8257ms
2024-11-18 13:08:41.129 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.129 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:41.130 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:41.130 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:41.131 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 108.553ms
2024-11-18 13:08:41.131 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:41.133 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:41.134 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 112.0626ms
2024-11-18 13:08:58.485 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:08:58.485 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:08:58.489 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:58.489 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:58.490 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:58.488 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:08:58.490 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:58.491 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:08:58.492 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:58.492 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:08:58.493 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:58.494 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:08:58.495 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:58.495 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:08:58.496 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:58.497 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:58.498 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:58.498 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:08:58.499 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:58.499 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:58.500 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:58.501 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:08:58.501 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:58.502 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:08:58.504 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:58.504 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:08:58.505 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:58.506 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:58.506 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:58.516 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:08:58.517 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:58.517 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:08:58.518 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:58.519 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:58.526 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:08:58.519 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:58.527 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:08:58.527 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:58.529 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:08:58.529 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:58.530 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:58.531 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:58.531 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:08:58.532 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:58.532 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:08:58.533 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:58.534 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:08:58.535 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:58.536 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:58.536 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.537 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:08:58.538 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.538 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.539 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.540 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.541 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:58.542 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.542 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.545 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:08:58.546 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:58.547 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:08:58.548 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:58.548 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:58.549 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:58.550 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:08:58.550 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:58.551 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:58.552 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:58.552 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:58.553 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:58.554 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:08:58.555 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:58.555 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:08:58.556 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:58.557 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:58.557 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:58.558 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:08:58.559 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:58.559 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:58.560 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:58.561 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:58.561 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:58.562 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:08:58.563 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:58.564 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:08:58.565 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:58.566 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:08:58.567 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:08:58.567 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.568 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.568 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:08:58.569 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:58.570 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:08:58.570 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:58.571 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.571 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:58.572 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.573 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:58.573 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:08:58.575 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:08:58.576 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:08:58.577 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:58.579 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:08:58.580 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:08:58.580 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.581 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.582 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:58.582 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:08:58.583 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.584 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.584 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:58.585 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:08:58.585 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:58.586 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:08:58.587 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:58.588 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:08:58.588 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:58.589 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:08:58.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:58.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:08:58.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:58.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:08:58.591 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:58.591 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:08:58.593 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 74.2903ms
2024-11-18 13:08:58.595 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 88.6172ms
2024-11-18 13:08:58.596 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:58.600 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:08:58.600 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:58.601 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:08:58.601 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.602 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:08:58.602 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:58.603 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:08:58.604 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 118.9847ms
2024-11-18 13:08:58.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 120.4177ms
2024-11-18 13:08:58.976 +07:00 [DBG] Connection id "0HN87HVO5FAFD" received FIN.
2024-11-18 13:08:58.977 +07:00 [DBG] Connection id "0HN87HVO5FAFD" is closed. The last processed stream ID was 11.
2024-11-18 13:08:58.977 +07:00 [DBG] Connection id "0HN87HVO5FAFD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:08:58.978 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFD completed.
2024-11-18 13:08:58.979 +07:00 [DBG] Connection id "0HN87HVO5FAFD" stopped.
2024-11-18 13:09:21.850 +07:00 [DBG] Connection id "0HN87HVO5FAFE" accepted.
2024-11-18 13:09:21.853 +07:00 [DBG] Connection id "0HN87HVO5FAFE" started.
2024-11-18 13:09:21.864 +07:00 [DBG] Connection 0HN87HVO5FAFE established using the following protocol: "Tls13"
2024-11-18 13:09:21.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:09:21.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:09:21.871 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:21.872 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:21.873 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:21.873 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:21.873 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:21.874 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:21.874 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:21.875 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:21.875 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:21.876 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:21.877 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:21.877 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:21.878 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:21.878 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:21.879 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:21.879 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:21.879 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:21.880 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:21.881 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:21.881 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:21.882 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:21.883 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:21.883 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:21.884 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:21.885 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:21.886 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:21.886 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:21.887 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:21.887 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:21.888 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:21.889 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:21.890 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:21.890 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:21.891 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:21.891 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:21.892 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:21.892 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:21.893 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:21.893 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:21.894 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:21.894 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:21.895 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:21.896 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:21.896 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:21.897 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:21.897 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:21.898 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:21.899 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:21.899 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.900 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.900 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.901 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.901 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.902 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.903 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:21.903 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:21.904 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.905 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:21.905 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:21.906 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:21.906 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:21.907 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:21.907 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:21.908 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:21.908 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:21.909 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:21.910 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:21.910 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:21.911 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:21.912 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:21.912 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:21.913 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:21.913 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:21.914 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:21.914 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:21.915 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:21.916 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:21.916 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:21.917 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:21.917 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:21.918 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:21.919 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:21.920 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:21.920 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:21.921 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:21.922 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:21.922 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:21.922 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:21.923 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.923 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.924 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.925 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.925 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:21.926 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:21.926 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:09:21.927 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:21.927 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:21.928 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:09:21.928 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:21.929 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:21.933 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:21.933 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:21.934 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.935 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.936 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:21.936 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:21.937 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.938 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.938 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:21.939 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:21.940 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:21.941 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:21.942 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:21.943 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:21.943 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:21.943 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:21.944 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:21.944 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:21.945 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:21.945 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:21.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:21.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:21.948 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.9416ms
2024-11-18 13:09:21.950 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.1341ms
2024-11-18 13:09:21.952 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:21.954 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:21.955 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:21.955 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:21.956 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.956 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:21.957 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:09:21.957 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:21.958 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 91.5968ms
2024-11-18 13:09:21.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.0021ms
2024-11-18 13:09:29.010 +07:00 [DBG] Connection id "0HN87HVO5FAFE" received FIN.
2024-11-18 13:09:29.011 +07:00 [DBG] Connection id "0HN87HVO5FAFE" is closed. The last processed stream ID was 3.
2024-11-18 13:09:29.011 +07:00 [DBG] Connection id "0HN87HVO5FAFE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:09:29.014 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFE completed.
2024-11-18 13:09:29.016 +07:00 [DBG] Connection id "0HN87HVO5FAFE" stopped.
2024-11-18 13:09:40.169 +07:00 [DBG] Connection id "0HN87HVO5FAFF" accepted.
2024-11-18 13:09:40.170 +07:00 [DBG] Connection id "0HN87HVO5FAFF" started.
2024-11-18 13:09:40.174 +07:00 [DBG] Connection 0HN87HVO5FAFF established using the following protocol: "Tls13"
2024-11-18 13:09:40.177 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:09:40.177 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:09:40.178 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:40.179 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:40.180 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:40.180 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:40.181 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:40.181 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:40.182 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:40.182 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:40.183 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:40.183 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:40.184 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:40.185 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:40.185 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:40.186 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:40.186 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:40.187 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:40.188 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:40.188 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:40.189 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:40.191 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:40.191 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:40.192 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:40.192 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:40.193 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:40.195 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:40.196 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:40.196 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:40.197 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:40.198 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:40.198 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:40.199 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:40.199 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:40.200 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:40.201 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:40.201 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:40.202 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:40.203 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:40.204 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:40.204 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:40.205 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:40.205 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:40.206 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:40.207 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:40.208 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:40.209 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:40.209 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:40.210 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:40.210 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:40.211 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.212 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.212 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.213 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.213 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.214 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.215 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:40.216 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:40.216 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.217 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:40.217 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:40.218 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:40.218 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:40.219 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:40.220 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:40.220 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:40.222 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:40.221 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:40.223 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:40.223 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:40.224 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:40.224 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:40.225 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:40.226 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:40.226 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:40.227 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:40.227 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:40.228 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:40.229 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:40.229 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:40.230 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:40.231 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:40.232 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:40.232 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:40.233 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:40.233 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:40.234 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:40.236 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:09:40.236 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:40.237 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.237 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:09:40.238 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.238 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.239 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:40.240 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.240 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:40.241 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:40.241 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:09:40.241 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:40.242 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:40.243 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:40.245 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:40.247 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:40.248 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:40.248 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.249 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.250 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:40.250 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:40.251 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.252 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.252 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:40.253 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:40.254 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:40.254 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:40.255 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:40.257 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:40.257 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:40.257 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:40.258 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:40.258 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:40.259 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:40.259 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:40.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:40.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:40.262 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.6234ms
2024-11-18 13:09:40.263 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.038ms
2024-11-18 13:09:40.265 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:40.269 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:40.270 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:40.271 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:40.271 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.272 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:40.273 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:40.273 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:40.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 97.9725ms
2024-11-18 13:09:40.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 99.026ms
2024-11-18 13:09:46.019 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:09:46.019 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:09:46.021 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:46.023 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:46.023 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:46.024 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:46.024 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:46.024 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:46.025 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:46.025 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:46.026 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:46.026 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:46.028 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:46.028 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:46.029 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:46.029 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:46.030 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:46.030 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:46.031 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:46.031 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:46.032 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:46.033 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:46.034 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:46.035 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:46.035 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:46.037 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:46.038 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:46.038 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:46.039 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:46.039 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:46.040 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:46.042 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:46.042 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:46.043 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:46.043 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:46.044 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:46.044 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:46.045 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:46.045 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:46.046 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:46.046 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:46.047 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:46.048 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:46.049 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:46.050 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:46.050 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:46.051 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:46.051 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:46.052 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:46.052 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:46.053 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.053 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.054 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.055 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.056 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.056 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.057 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:46.058 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:46.058 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.059 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:46.059 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:46.060 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:46.060 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:46.061 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:46.062 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:46.063 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:46.063 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:46.064 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:46.065 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:46.065 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:46.066 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:46.066 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:46.067 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:46.067 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:46.068 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:46.069 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:46.070 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:46.070 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:46.071 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:46.072 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:46.072 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:46.073 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:46.073 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:46.074 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:46.074 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:46.075 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:46.077 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:46.077 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:46.077 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:46.078 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:46.078 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.079 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.080 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.080 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:46.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:46.082 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:46.082 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:09:46.083 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:46.084 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:46.084 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:46.085 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:46.088 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:46.089 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:46.090 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.091 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.092 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:46.092 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:46.093 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.094 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.094 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:46.095 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:46.095 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:46.096 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:46.098 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:46.099 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:46.099 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:46.099 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:46.100 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:46.100 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:46.100 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:46.101 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:46.101 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:46.102 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:46.105 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.7029ms
2024-11-18 13:09:46.105 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.7433ms
2024-11-18 13:09:46.106 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:46.107 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:46.107 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:46.108 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:46.108 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.109 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:46.109 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:46.110 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:46.111 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 92.4051ms
2024-11-18 13:09:46.112 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.0611ms
2024-11-18 13:09:49.043 +07:00 [DBG] Connection id "0HN87HVO5FAFF" received FIN.
2024-11-18 13:09:49.044 +07:00 [DBG] Connection id "0HN87HVO5FAFF" is closed. The last processed stream ID was 7.
2024-11-18 13:09:49.044 +07:00 [DBG] Connection id "0HN87HVO5FAFF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:09:49.046 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFF completed.
2024-11-18 13:09:49.048 +07:00 [DBG] Connection id "0HN87HVO5FAFF" stopped.
2024-11-18 13:09:50.040 +07:00 [DBG] Connection id "0HN87HVO5FAFG" accepted.
2024-11-18 13:09:50.042 +07:00 [DBG] Connection id "0HN87HVO5FAFG" started.
2024-11-18 13:09:50.046 +07:00 [DBG] Connection 0HN87HVO5FAFG established using the following protocol: "Tls13"
2024-11-18 13:09:50.048 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:09:50.048 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:09:50.050 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:50.051 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:50.051 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:50.051 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:50.052 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:50.052 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:50.053 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:50.053 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:50.053 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:50.054 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:50.055 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:50.056 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:50.057 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:50.058 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:50.058 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:50.059 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:50.059 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:50.060 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:50.060 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:50.061 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:50.062 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:50.063 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:50.064 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:50.064 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:50.065 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:50.066 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:50.067 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:50.067 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:50.069 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:50.070 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:50.070 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:50.071 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:50.071 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:50.072 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:50.072 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:50.073 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:50.074 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:50.074 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:50.075 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:50.075 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:50.076 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:50.077 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:50.077 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:50.078 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:50.079 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:50.079 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:50.080 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:50.080 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:50.081 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.081 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.083 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.083 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.084 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.084 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.085 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:50.086 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:50.086 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.087 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:50.087 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:50.088 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:50.088 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:50.089 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:50.090 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:50.091 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:50.092 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:50.092 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:50.093 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:50.093 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:50.094 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:50.094 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:50.095 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:50.095 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:50.096 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:50.097 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:50.097 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:50.098 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:50.099 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:50.099 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:50.100 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:50.100 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:50.101 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:50.101 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:50.102 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:50.103 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:50.105 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:50.105 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:50.105 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:50.106 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:50.106 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.107 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.107 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.108 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.108 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:50.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:50.109 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:50.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:50.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:50.112 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 13:09:50.112 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:50.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:50.116 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:50.116 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:50.118 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.119 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.119 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:09:50.120 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:50.121 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.122 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.122 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:50.123 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:50.124 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:50.126 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:50.127 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:50.129 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:50.129 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:50.129 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:50.130 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:50.130 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:50.132 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:50.132 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:50.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:50.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:50.137 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.252ms
2024-11-18 13:09:50.139 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.1921ms
2024-11-18 13:09:50.140 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:50.140 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:50.141 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:50.142 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:50.142 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.143 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:50.143 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:50.144 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:50.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 97.1646ms
2024-11-18 13:09:50.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 98.1566ms
2024-11-18 13:09:56.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:09:56.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:09:56.726 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:56.729 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:09:56.729 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:56.730 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:09:56.731 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:56.731 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:09:56.732 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:56.732 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:09:56.733 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:56.733 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:09:56.734 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:56.736 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:56.737 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:56.737 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:09:56.738 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:56.738 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:56.739 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:56.739 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:09:56.740 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:56.741 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:09:56.741 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:56.743 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:09:56.744 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:56.745 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:56.746 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:56.747 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:09:56.748 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:56.749 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:09:56.750 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:56.750 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:56.751 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:56.752 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:09:56.752 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:56.753 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:09:56.753 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:56.754 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:09:56.754 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:56.755 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:56.756 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:56.757 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:09:56.757 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:56.758 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:09:56.759 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:56.759 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:09:56.760 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:56.760 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:56.761 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:56.761 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:09:56.762 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.763 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.764 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.765 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.765 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.766 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.767 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:56.767 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:09:56.768 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.770 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:56.769 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:09:56.770 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:56.773 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:56.774 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:56.775 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:09:56.776 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:56.777 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:56.778 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:56.780 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:56.781 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:56.781 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:09:56.782 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:56.783 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:09:56.783 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:56.784 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:56.785 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:56.786 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:09:56.786 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:56.787 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:56.787 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:56.788 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:56.788 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:56.789 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:09:56.790 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:56.790 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:09:56.791 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:56.792 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:56.792 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:09:56.792 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.793 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:09:56.793 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.794 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:09:56.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:56.795 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:09:56.796 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.796 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:56.797 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:09:56.798 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:56.798 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:09:56.799 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:09:56.800 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:56.801 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:09:56.802 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:09:56.802 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.803 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.803 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:56.804 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:09:56.805 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.805 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.806 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:09:56.806 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:09:56.807 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:56.807 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:09:56.808 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:56.809 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:09:56.810 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:56.810 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:09:56.810 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:56.811 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:09:56.811 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:56.811 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:09:56.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:56.813 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:09:56.813 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.7665ms
2024-11-18 13:09:56.815 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:56.816 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.4161ms
2024-11-18 13:09:56.816 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:56.817 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:09:56.817 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.817 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:09:56.818 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:56.819 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:09:56.819 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.7134ms
2024-11-18 13:09:56.820 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:09:56.822 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 98.9181ms
2024-11-18 13:10:02.083 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:02.084 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:02.087 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:02.091 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:02.092 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:02.093 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:02.093 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:02.094 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:02.095 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:02.095 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:02.097 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:02.097 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:02.098 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:02.100 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:02.100 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:02.100 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:02.101 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:02.102 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:02.102 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:02.104 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:02.105 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:02.106 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:02.107 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:02.107 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:02.108 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:02.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:02.110 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:02.111 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:02.112 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:02.113 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:02.114 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:02.114 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:02.115 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:02.116 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:02.116 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:02.118 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:02.119 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:02.120 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:02.121 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:02.122 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:02.122 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:02.123 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:02.123 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:02.124 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:02.125 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:02.126 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:02.127 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:02.127 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:02.128 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:02.128 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:02.129 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.130 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.131 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.132 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.133 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.133 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.134 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:02.135 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:02.135 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.136 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:02.137 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:02.138 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:02.138 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:02.139 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:02.140 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:02.140 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:02.141 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:02.142 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:02.142 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:02.143 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:02.143 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:02.144 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:02.145 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:02.145 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:02.146 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:02.147 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:02.148 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:02.149 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:02.149 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:02.150 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:02.150 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:02.151 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:02.152 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:02.153 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:02.154 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:02.154 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:02.155 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:02.156 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:02.156 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:10:02.156 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:02.157 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.157 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.158 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.159 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.159 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:02.160 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:02.161 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:02.161 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:02.162 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:02.162 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:02.163 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:02.163 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:02.168 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:02.168 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:02.169 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.170 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.170 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:02.171 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:02.171 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.173 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.173 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 13:10:02.174 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:02.175 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:02.176 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:02.176 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:02.177 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:02.178 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:02.178 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:02.178 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:02.180 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:02.180 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:02.181 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:02.181 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:02.182 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:02.184 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.8455ms
2024-11-18 13:10:02.184 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.6816ms
2024-11-18 13:10:02.185 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:02.186 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:02.187 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:02.187 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:02.188 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.189 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:02.189 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:02.190 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:02.191 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 106.5395ms
2024-11-18 13:10:02.191 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 108.0658ms
2024-11-18 13:10:04.048 +07:00 [DBG] Connection id "0HN87HVO5FAFG" received FIN.
2024-11-18 13:10:04.050 +07:00 [DBG] Connection id "0HN87HVO5FAFG" is closed. The last processed stream ID was 11.
2024-11-18 13:10:04.050 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFG completed.
2024-11-18 13:10:04.051 +07:00 [DBG] Connection id "0HN87HVO5FAFG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:10:04.063 +07:00 [DBG] Connection id "0HN87HVO5FAFG" stopped.
2024-11-18 13:10:13.631 +07:00 [DBG] Connection id "0HN87HVO5FAFH" accepted.
2024-11-18 13:10:13.631 +07:00 [DBG] Connection id "0HN87HVO5FAFH" started.
2024-11-18 13:10:13.635 +07:00 [DBG] Connection 0HN87HVO5FAFH established using the following protocol: "Tls13"
2024-11-18 13:10:13.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:13.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:13.637 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:13.638 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:13.639 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:13.639 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:13.640 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:13.640 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:13.640 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:13.641 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:13.641 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:13.642 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:13.642 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:13.643 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:13.644 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:13.644 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:13.645 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:13.645 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:13.646 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:13.646 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:13.647 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:13.648 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:13.648 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:13.649 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:13.650 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:13.650 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:13.651 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:13.652 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:13.653 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:13.654 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:13.654 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:13.655 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:13.656 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:13.656 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:13.657 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:13.657 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:13.658 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:13.659 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:13.659 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:13.660 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:13.660 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:13.661 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:13.662 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:13.662 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:13.663 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:13.663 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:13.664 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:13.664 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:13.665 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:13.666 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:13.667 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.667 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.668 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.669 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.669 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.670 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.670 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:13.671 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:13.672 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.673 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:13.674 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:13.674 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:13.675 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:13.676 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:13.676 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:13.677 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:13.678 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:13.678 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:13.679 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:13.680 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:13.680 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:13.681 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:13.681 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:13.682 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:13.682 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:13.683 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:13.684 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:13.684 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:13.685 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:13.685 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:13.686 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:13.687 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:13.687 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:13.688 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:13.689 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:13.689 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:13.690 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:13.691 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:13.691 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:13.691 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:13.692 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.692 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.693 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.694 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.694 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:13.695 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:13.695 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:13.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:10:13.696 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:13.697 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:13.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:13.698 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:13.702 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:13.702 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:13.703 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.704 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.704 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:13.705 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:13.706 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.706 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.707 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:13.708 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:13.708 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:13.709 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:13.710 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:13.711 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:13.711 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:13.712 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:13.712 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:13.712 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:13.713 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:13.713 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:13.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:13.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:13.717 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.4129ms
2024-11-18 13:10:13.717 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.067ms
2024-11-18 13:10:13.718 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:13.718 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:13.719 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:13.719 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:13.720 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.720 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:13.721 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:13.721 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:13.722 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 86.6543ms
2024-11-18 13:10:13.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.2996ms
2024-11-18 13:10:24.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:24.150 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:24.153 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:24.154 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:24.155 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:24.155 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:24.156 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:24.156 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:24.157 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:24.159 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:24.160 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:24.160 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:24.161 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:24.162 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:24.163 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:24.163 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:24.164 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:24.164 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:24.165 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:24.166 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:24.167 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:24.168 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:24.169 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:24.169 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:24.170 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:24.170 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:24.171 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:24.173 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:24.174 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:24.174 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:24.175 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:24.176 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:24.176 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:24.177 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:24.177 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:24.178 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:24.178 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:24.179 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:24.180 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:24.181 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:24.181 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:24.182 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:24.183 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:24.183 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:24.184 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:24.184 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:24.185 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:24.185 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:24.186 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:24.187 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:24.187 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.188 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.189 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.189 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.190 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.190 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.191 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:24.191 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:24.192 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.193 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:24.193 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:24.194 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:24.194 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:24.195 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:24.196 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:24.196 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:24.197 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:24.197 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:24.198 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:24.198 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:24.199 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:24.199 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:24.200 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:24.201 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:24.201 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:24.202 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:24.202 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:24.203 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:24.204 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:24.204 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:24.204 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:24.205 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:24.206 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:24.206 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:24.207 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:24.208 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:24.209 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:24.209 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:24.210 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:24.210 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:24.210 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.211 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.211 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.212 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.212 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:24.213 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:24.213 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:24.214 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:24.214 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:24.215 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:24.216 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:24.216 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:24.219 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:24.219 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:24.220 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.221 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.222 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:24.222 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:24.223 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.224 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.224 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:24.225 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:10:24.225 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:24.226 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:24.227 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:24.228 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:24.228 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:24.229 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:24.229 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:24.230 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:24.231 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:24.231 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:24.231 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:24.232 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:24.235 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.4962ms
2024-11-18 13:10:24.235 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.4603ms
2024-11-18 13:10:24.236 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:24.236 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:24.237 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:24.238 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:24.239 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.239 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:24.240 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:24.240 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:24.242 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 91.2938ms
2024-11-18 13:10:24.243 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.3776ms
2024-11-18 13:10:33.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:33.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:33.632 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:33.633 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:33.633 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:33.634 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:33.634 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:33.634 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:33.635 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:33.635 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:33.636 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:33.636 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:33.637 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:33.638 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:33.639 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:33.639 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:33.639 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:33.640 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:33.640 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:33.641 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:33.641 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:33.642 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:33.643 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:33.646 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:33.645 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:33.648 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:33.649 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:33.649 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:33.650 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:33.652 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:33.653 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:33.654 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:33.654 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:33.655 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:33.656 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:33.656 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:33.657 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:33.657 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:33.658 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:33.659 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:33.660 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:33.660 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:33.661 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:33.662 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:33.662 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:33.663 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:33.663 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:33.664 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:33.664 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:33.665 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.666 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:33.667 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.667 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.668 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.668 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.669 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:33.670 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.670 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.671 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:33.671 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:33.672 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:33.673 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:33.673 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:33.674 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:33.675 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:33.675 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:33.676 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:33.676 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:33.677 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:33.677 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:33.678 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:33.679 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:33.680 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:33.680 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:33.681 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:33.681 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:33.682 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:33.682 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:33.683 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:33.684 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:33.684 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:33.685 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:33.685 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:33.687 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:33.687 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:33.688 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:33.689 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:33.689 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:33.690 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:33.690 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.690 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:33.691 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.691 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.692 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:33.693 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.693 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:33.694 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:33.694 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:33.695 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:33.696 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:33.696 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:33.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:33.699 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:33.701 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:33.701 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.702 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.702 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:33.703 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:33.704 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.704 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.705 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:33.705 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:33.706 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:33.707 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:33.708 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:33.710 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:33.710 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:33.710 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:33.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:33.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:33.712 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:33.712 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:33.712 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:33.713 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:33.716 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.8483ms
2024-11-18 13:10:33.716 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.2964ms
2024-11-18 13:10:33.717 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:33.718 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:33.718 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:33.719 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:33.719 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.720 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:33.720 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:33.721 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:33.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 93.6018ms
2024-11-18 13:10:33.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 94.3692ms
2024-11-18 13:10:39.095 +07:00 [DBG] Connection id "0HN87HVO5FAFH" received FIN.
2024-11-18 13:10:39.096 +07:00 [DBG] Connection id "0HN87HVO5FAFH" is closed. The last processed stream ID was 11.
2024-11-18 13:10:39.097 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFH completed.
2024-11-18 13:10:39.097 +07:00 [DBG] Connection id "0HN87HVO5FAFH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:10:39.109 +07:00 [DBG] Connection id "0HN87HVO5FAFH" stopped.
2024-11-18 13:10:45.760 +07:00 [DBG] Connection id "0HN87HVO5FAFI" accepted.
2024-11-18 13:10:45.761 +07:00 [DBG] Connection id "0HN87HVO5FAFI" started.
2024-11-18 13:10:45.765 +07:00 [DBG] Connection 0HN87HVO5FAFI established using the following protocol: "Tls13"
2024-11-18 13:10:45.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:45.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:45.767 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:45.769 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:45.769 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:45.770 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:45.770 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:45.771 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:45.771 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:45.772 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:45.772 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:45.773 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:45.773 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:45.774 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:45.774 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:45.775 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:45.775 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:45.776 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:45.777 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:45.777 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:45.778 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:45.778 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:45.779 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:45.780 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:45.780 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:45.781 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:45.782 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:45.783 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:45.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:45.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:45.785 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:45.786 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:45.786 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:45.787 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:45.787 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:45.788 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:45.788 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:45.789 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:45.790 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:45.791 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:45.791 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:45.792 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:45.792 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:45.793 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:45.793 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:45.794 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:45.794 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:45.795 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:45.795 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:45.796 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:45.797 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.798 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.798 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.799 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.799 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.800 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.800 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:45.801 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:45.801 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.802 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:45.803 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:45.804 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:45.804 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:45.805 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:45.806 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:45.806 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:45.807 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:45.807 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:45.808 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:45.808 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:45.809 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:45.809 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:45.810 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:45.811 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:45.811 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:45.812 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:45.813 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:45.813 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:45.814 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:45.814 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:45.815 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:45.815 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:45.816 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:45.816 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:45.818 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:45.819 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:45.819 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:45.821 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:10:45.821 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:45.821 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.821 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:45.822 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.822 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.823 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:45.823 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.824 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:45.825 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:45.825 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:45.826 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:45.826 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:45.827 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:45.828 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:45.830 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:45.830 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:45.831 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.832 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.833 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:45.833 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:45.834 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.835 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.835 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:45.836 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:45.836 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:45.837 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:45.838 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:45.839 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:45.840 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:45.840 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:45.840 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:45.841 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:45.841 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:45.841 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:45.842 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:45.842 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:45.845 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.003ms
2024-11-18 13:10:45.845 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.3079ms
2024-11-18 13:10:45.846 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:45.847 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:45.847 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:45.848 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:45.848 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.849 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:45.849 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:45.850 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:45.851 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 84.5576ms
2024-11-18 13:10:45.851 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 85.122ms
2024-11-18 13:10:50.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:50.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:50.761 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:50.763 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:50.763 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:50.763 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:50.764 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:50.764 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:50.765 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:50.765 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:50.766 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:50.766 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:50.767 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:50.767 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:50.768 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:50.769 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:50.769 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:50.770 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:50.770 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:50.771 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:50.771 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:50.772 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:50.773 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:50.773 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:50.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:50.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:50.776 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:50.777 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:50.777 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:50.778 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:50.779 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:50.779 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:50.780 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:50.780 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:50.781 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:50.781 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:50.782 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:50.783 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:50.784 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:50.785 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:50.785 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:50.786 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:50.786 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:50.787 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:50.787 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:50.788 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:50.788 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:50.789 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:50.790 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:50.790 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:50.791 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.792 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.792 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.793 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.794 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.794 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.795 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:50.795 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:50.796 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.797 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:50.797 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:50.798 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:50.798 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:50.799 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:50.800 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:50.800 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:50.801 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:50.801 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:50.802 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:50.802 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:50.803 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:50.804 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:50.804 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:50.805 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:50.805 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:50.806 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:50.806 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:50.807 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:50.808 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:50.808 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:50.809 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:50.809 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:50.810 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:50.810 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:50.812 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:50.812 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:50.813 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:50.814 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:50.814 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:50.814 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:10:50.815 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.815 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.816 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.816 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.817 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:50.818 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:50.818 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:50.819 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:50.819 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:50.820 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:50.821 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:50.821 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:50.824 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:50.824 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:50.826 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.827 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.827 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:50.828 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:50.828 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.829 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.829 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:50.830 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:50.831 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:50.832 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:50.833 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:50.834 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:50.834 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:50.834 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:50.835 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:50.835 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:50.835 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:50.836 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:50.836 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:50.837 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:50.839 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.4512ms
2024-11-18 13:10:50.840 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.3684ms
2024-11-18 13:10:50.841 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:50.841 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:50.842 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:50.842 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:50.842 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.843 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:50.843 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:10:50.844 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:50.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 85.4533ms
2024-11-18 13:10:50.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 86.1496ms
2024-11-18 13:10:54.878 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:10:54.878 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:10:54.880 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:54.882 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:10:54.882 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:54.883 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:10:54.883 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:54.883 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:10:54.884 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:54.884 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:10:54.885 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:54.885 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:10:54.886 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:54.888 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:54.888 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:54.888 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:10:54.889 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:54.889 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:54.890 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:54.891 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:10:54.891 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:54.892 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:10:54.893 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:54.894 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:10:54.895 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:54.896 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:54.897 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:54.898 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:10:54.898 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:54.899 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:10:54.899 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:54.901 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:54.902 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:54.902 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:10:54.903 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:54.904 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:10:54.904 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:54.905 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:10:54.906 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:54.906 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:54.907 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:54.908 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:10:54.909 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:54.909 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:10:54.910 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:54.911 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:10:54.911 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:54.912 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:54.912 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:54.913 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:10:54.913 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.915 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.916 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.916 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.917 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.918 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.918 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:54.919 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:10:54.919 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.920 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:10:54.920 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:54.922 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:54.922 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:54.923 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:10:54.924 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:54.925 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:54.925 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:54.926 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:54.926 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:54.927 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:10:54.928 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:54.929 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:10:54.930 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:54.931 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:54.931 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:54.932 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:10:54.933 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:54.934 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:54.934 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:54.935 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:54.936 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:54.937 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:10:54.938 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:54.938 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:10:54.939 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:54.940 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:10:54.941 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:54.942 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:10:54.942 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:10:54.943 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:10:54.944 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.944 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.945 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.946 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:54.947 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:10:54.947 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:10:54.948 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:10:54.948 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:10:54.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:10:54.950 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:54.950 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:54.953 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:10:54.954 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:10:54.954 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.955 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.956 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:54.956 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:10:54.957 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.958 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.958 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:54.959 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:10:54.960 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:54.960 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:10:54.961 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:54.962 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:10:54.963 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:54.963 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:10:54.963 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:54.964 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:10:54.964 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:54.964 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:10:54.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:54.966 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:10:54.968 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.9344ms
2024-11-18 13:10:54.968 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.6017ms
2024-11-18 13:10:54.969 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:54.969 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:10:54.970 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:54.970 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:10:54.971 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.971 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:10:54.972 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:54.973 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:10:54.973 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 95.4091ms
2024-11-18 13:10:54.974 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 96.0435ms
2024-11-18 13:11:12.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:11:12.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:11:12.332 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:11:12.333 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:11:12.333 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:11:12.334 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:11:12.334 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:11:12.334 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:11:12.335 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:11:12.335 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:11:12.336 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:11:12.336 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:11:12.337 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:12.338 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:12.339 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:11:12.339 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:11:12.340 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:12.340 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:12.341 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:11:12.341 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:11:12.342 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:11:12.342 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:11:12.343 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:11:12.344 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:11:12.345 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:12.346 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:12.347 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:11:12.348 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:11:12.348 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:12.349 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:12.350 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:12.350 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:12.351 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:12.352 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:12.353 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:11:12.353 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:11:12.354 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:11:12.354 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:11:12.355 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:12.356 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:12.356 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:12.357 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:12.357 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:11:12.358 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:11:12.359 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:11:12.360 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:11:12.361 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:12.361 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:12.362 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:11:12.363 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:11:12.363 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.364 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.364 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.366 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.366 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.367 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.367 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:12.368 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:12.368 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.369 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:12.369 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:12.370 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:12.370 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:11:12.371 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:11:12.372 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:12.373 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:12.373 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:12.374 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:12.375 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:12.375 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:12.376 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:12.376 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:12.377 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:12.377 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:12.378 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:11:12.380 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:12.380 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:11:12.380 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:12.381 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:12.382 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:12.382 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:12.383 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:12.383 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:12.384 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:11:12.384 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:12.385 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:11:12.386 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:11:12.386 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:11:12.388 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:11:12.388 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.388 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:11:12.389 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.390 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:11:12.391 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.391 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:11:12.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:11:12.392 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:11:12.392 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:11:12.393 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:11:12.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:11:12.396 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:11:12.398 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:11:12.398 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:11:12.400 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.400 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.401 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:11:12.402 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:11:12.403 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.403 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.404 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:11:12.404 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:11:12.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:11:12.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:11:12.407 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:11:12.408 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:11:12.409 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:11:12.409 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:11:12.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:11:12.410 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:11:12.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:11:12.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:11:12.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:11:12.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:11:12.414 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.7657ms
2024-11-18 13:11:12.415 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.8841ms
2024-11-18 13:11:12.415 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:12.416 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:12.416 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:11:12.417 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:11:12.417 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.418 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:12.418 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:11:12.419 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:11:12.419 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.0206ms
2024-11-18 13:11:12.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 90.9499ms
2024-11-18 13:11:16.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:11:16.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:11:16.641 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:11:16.643 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:11:16.644 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:11:16.644 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:11:16.645 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:11:16.645 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:11:16.645 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:11:16.646 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:11:16.646 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:11:16.647 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:16.648 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:11:16.648 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:11:16.649 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:16.650 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:16.651 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:11:16.651 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:11:16.652 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:16.652 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:11:16.653 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:11:16.654 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:11:16.654 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:11:16.655 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:16.656 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:11:16.657 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:11:16.658 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:16.659 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:16.660 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:11:16.660 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:16.661 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:16.662 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:16.662 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:16.663 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:11:16.665 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:16.665 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:11:16.665 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:11:16.666 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:16.667 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:11:16.667 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:16.668 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:16.668 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:11:16.669 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:16.669 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:11:16.670 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:11:16.671 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:16.672 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:11:16.673 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:11:16.673 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:16.674 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.675 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:11:16.675 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.676 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.676 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.678 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.679 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:16.679 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.680 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.680 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:16.681 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:16.681 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:16.682 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:11:16.682 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:16.683 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:16.683 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:11:16.684 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:16.685 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:16.686 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:16.686 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:16.687 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:16.688 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:16.688 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:16.689 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:16.690 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:11:16.690 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:16.691 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:16.692 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:11:16.693 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:16.693 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:16.694 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:16.694 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:16.695 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:16.695 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:16.696 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:11:16.696 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:16.697 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:11:16.698 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:11:16.698 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:11:16.700 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:11:16.700 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.700 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:11:16.701 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.701 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.702 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:11:16.703 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.703 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:11:16.704 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:11:16.704 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:11:16.705 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:11:16.705 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:11:16.706 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:11:16.708 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:11:16.708 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:11:16.709 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:11:16.710 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.711 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.711 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:11:16.712 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:11:16.713 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.713 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.714 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:11:16.714 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:11:16.715 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:11:16.716 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:11:16.717 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:11:16.718 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:11:16.718 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:11:16.719 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:11:16.719 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:11:16.720 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:11:16.720 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:11:16.720 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:11:16.721 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:11:16.721 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:11:16.722 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.7504ms
2024-11-18 13:11:16.724 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:16.725 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.353ms
2024-11-18 13:11:16.725 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:11:16.726 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.725 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:16.727 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:11:16.727 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:11:16.728 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 89.0007ms
2024-11-18 13:11:16.729 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:16.731 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:11:16.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.1627ms
2024-11-18 13:11:52.239 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:11:52.239 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:11:52.245 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:11:52.246 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:11:52.247 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:11:52.247 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:11:52.248 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:11:52.248 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:11:52.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:11:52.249 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:11:52.249 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:11:52.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:11:52.250 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:52.251 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:52.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:11:52.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:11:52.254 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:52.254 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:52.255 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:11:52.256 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:11:52.256 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:11:52.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:52.258 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:11:52.258 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:52.259 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:52.255 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:11:52.260 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:52.261 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:11:52.262 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:11:52.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:11:52.263 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:11:52.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:52.264 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:52.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:11:52.266 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:52.266 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:11:52.267 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:11:52.268 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:52.269 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:11:52.270 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:11:52.270 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:52.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:11:52.271 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:11:52.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:11:52.272 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:52.275 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:11:52.276 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.276 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:11:52.277 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:52.277 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:11:52.278 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:52.278 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:52.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:11:52.279 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:11:52.280 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.281 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:52.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.282 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:52.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.283 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:52.284 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:11:52.284 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:52.285 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:11:52.285 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:52.286 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:52.286 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:11:52.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:11:52.288 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:52.289 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:52.289 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:52.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:52.290 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:52.291 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:11:52.291 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:52.292 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:11:52.293 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:11:52.293 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:52.294 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:11:52.294 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:11:52.295 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:11:52.296 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:52.296 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.297 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:52.297 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.298 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:11:52.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:11:52.299 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:11:52.299 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:11:52.300 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:11:52.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:11:52.301 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:11:52.302 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:11:52.302 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:11:52.304 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.304 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.305 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:11:52.306 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:11:52.306 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:11:52.306 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:11:52.307 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.308 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:11:52.308 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:11:52.310 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.311 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:11:52.312 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:11:52.312 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:11:52.313 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:11:52.314 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.314 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:11:52.314 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:11:52.315 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:11:52.316 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.316 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:11:52.317 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:11:52.317 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:11:52.318 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:11:52.322 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:11:52.327 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:11:52.327 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.0347ms
2024-11-18 13:11:52.329 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:11:52.330 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:52.330 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:11:52.331 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:11:52.331 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:11:52.332 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.332 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.9781ms
2024-11-18 13:11:52.333 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:11:52.333 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:11:52.334 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.2455ms
2024-11-18 13:11:52.334 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:11:52.337 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:11:52.338 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:11:52.338 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 99.09ms
2024-11-18 13:12:00.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:12:00.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:12:00.254 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:00.255 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:00.256 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:00.256 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:00.257 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:00.257 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:00.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:00.258 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:00.258 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:00.259 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:00.260 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:00.260 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:00.261 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:00.261 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:00.262 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:00.263 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:00.263 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:00.264 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:00.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:00.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:00.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:00.267 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:00.267 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:00.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:00.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:00.270 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:00.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:00.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:00.272 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:00.273 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:00.274 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:00.274 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:00.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:00.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:00.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:00.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:00.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:00.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:00.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:00.279 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:00.279 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:00.280 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:00.281 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:00.281 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:00.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:00.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:00.283 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:00.283 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:00.284 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.285 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.287 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.288 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:00.288 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:00.289 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.289 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:00.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:00.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:00.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:00.292 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:00.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:00.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:00.294 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:00.294 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:00.295 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:00.296 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:00.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:00.297 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:00.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:00.299 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:00.299 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:00.300 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:00.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:00.302 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:00.303 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:00.303 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:00.304 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:00.305 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:00.306 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:00.306 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:00.307 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:00.308 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:00.309 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:00.310 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:00.311 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:12:00.312 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:12:00.312 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.313 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.314 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:00.314 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.317 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:12:00.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:00.318 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 13:12:00.319 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:12:00.319 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:00.320 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:00.322 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:00.327 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:00.327 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:00.329 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.331 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.332 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:12:00.333 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:12:00.333 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.335 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.336 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 13:12:00.337 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 13:12:00.338 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:00.339 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:00.341 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:00.343 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:00.344 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:00.345 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:00.345 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:00.346 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:00.346 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:00.347 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:00.347 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:00.348 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:00.349 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.9121ms
2024-11-18 13:12:00.353 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:00.359 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:00.360 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.1923ms
2024-11-18 13:12:00.362 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.363 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:00.365 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-11-18 13:12:00.367 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:00.368 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 115.4767ms
2024-11-18 13:12:00.368 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:00.373 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-18 13:12:00.375 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 122.7373ms
2024-11-18 13:12:07.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:12:07.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:12:07.247 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:07.250 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:07.251 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:07.250 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:07.251 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:07.252 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:07.253 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:07.254 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:07.255 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:07.255 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:07.256 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:07.256 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:07.257 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:07.258 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:07.258 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:07.259 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:07.259 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:07.260 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:07.261 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:07.262 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:07.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:07.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:07.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:07.265 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:07.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:07.267 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:07.268 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:07.269 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:07.270 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:07.270 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:07.271 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:07.272 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:07.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:07.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:07.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:07.274 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:07.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:07.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:07.276 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:07.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:07.277 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:07.278 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:07.278 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:07.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:07.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:07.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:07.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:07.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:07.282 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:07.288 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:07.288 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.289 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:07.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:07.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:07.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:07.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:07.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:07.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:07.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:07.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:07.294 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:07.295 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:07.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:07.297 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:07.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:07.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:07.299 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:07.299 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:07.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:07.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:07.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:07.302 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:07.303 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:07.304 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:07.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:07.305 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:07.306 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:07.306 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:07.307 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:07.308 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:07.308 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:12:07.309 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:12:07.310 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.311 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.311 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.312 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:07.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:07.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:12:07.314 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:12:07.315 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:07.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:07.316 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:07.317 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:07.321 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:07.321 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:07.323 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.325 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.325 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:12:07.326 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:12:07.327 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.327 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.328 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:12:07.329 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:07.328 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:12:07.331 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:07.332 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:07.332 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:07.333 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:07.334 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:07.334 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:07.334 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:07.334 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:07.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:07.335 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:07.338 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:07.340 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.8343ms
2024-11-18 13:12:07.340 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.4722ms
2024-11-18 13:12:07.340 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:07.341 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:07.341 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:07.342 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:07.343 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.344 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:07.344 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:12:07.345 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:12:07.346 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 102.0272ms
2024-11-18 13:12:07.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 102.851ms
2024-11-18 13:12:25.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:12:25.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:12:25.243 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:25.244 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:25.246 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:25.247 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:25.247 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:25.248 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:25.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:25.249 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:25.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:25.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:25.252 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:25.253 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:25.254 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:25.254 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:25.255 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:25.255 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:25.256 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:25.257 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:25.258 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:25.259 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:25.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:25.261 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:25.262 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:25.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:25.264 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:25.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:25.267 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:25.268 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:25.269 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:25.270 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:25.270 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:25.271 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:25.271 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:25.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:25.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:25.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:25.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:25.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:25.276 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:25.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:25.277 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:25.278 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:25.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:25.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:25.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:25.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:25.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:25.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:25.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:25.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:25.288 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.288 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:25.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:25.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:25.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:25.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:25.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:25.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:25.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:25.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:25.293 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:25.294 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:25.295 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:25.295 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:25.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:25.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:25.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:25.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:25.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:25.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:25.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:25.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:25.302 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:25.303 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:25.303 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:25.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:25.305 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:25.306 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:25.306 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:25.308 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:12:25.309 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:25.309 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.309 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:12:25.310 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.311 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.311 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:25.312 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:12:25.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:25.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:25.314 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:12:25.315 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:25.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:25.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:25.318 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:25.319 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:25.320 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.321 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.321 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:12:25.323 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:12:25.323 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.324 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.325 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:12:25.325 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:12:25.326 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:25.327 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:25.328 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:25.330 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:25.330 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:25.331 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:25.331 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:25.331 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:25.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:25.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:25.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:25.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:25.337 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.0299ms
2024-11-18 13:12:25.337 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.4154ms
2024-11-18 13:12:25.338 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:25.339 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:25.339 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:25.340 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:25.340 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.341 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:25.342 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:12:25.342 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:12:25.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 102.6196ms
2024-11-18 13:12:25.345 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.2593ms
2024-11-18 13:12:31.567 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:12:31.567 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:12:31.569 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:31.570 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:12:31.570 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:31.571 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:12:31.572 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:31.572 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:12:31.573 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:31.573 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:12:31.574 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:31.575 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:12:31.576 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:31.576 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:31.577 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:31.577 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:12:31.577 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:31.578 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:31.579 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:31.579 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:12:31.580 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:31.581 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:12:31.582 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:31.582 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:12:31.583 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:31.584 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:31.585 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:31.587 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:12:31.587 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:31.588 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:12:31.589 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:31.590 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:31.590 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:31.591 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:12:31.592 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:31.593 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:12:31.593 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:31.594 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:12:31.594 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:31.595 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:31.596 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:31.596 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:12:31.597 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:31.597 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:12:31.598 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:31.598 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:12:31.599 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:31.600 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:31.601 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:31.601 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:12:31.603 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.603 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.604 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.605 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.605 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.606 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.606 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:31.607 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:12:31.608 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.608 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:12:31.609 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:31.610 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:31.611 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:31.611 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:12:31.612 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:31.613 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:31.614 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:31.614 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:31.615 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:31.615 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:12:31.617 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:31.616 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:12:31.618 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:31.618 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:31.619 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:31.620 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:12:31.620 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:31.621 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:31.622 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:31.622 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:31.623 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:31.624 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:12:31.625 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:31.625 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:12:31.626 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:31.626 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:12:31.627 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:31.628 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:12:31.628 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:12:31.629 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:12:31.629 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.630 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.630 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.631 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.631 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:31.632 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:12:31.632 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:12:31.633 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:12:31.633 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:31.634 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:12:31.635 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:31.636 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:31.641 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:12:31.641 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:12:31.643 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.644 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.645 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:12:31.645 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:12:31.646 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.646 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.647 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:12:31.648 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:12:31.649 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:31.649 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:12:31.651 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:31.652 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:12:31.652 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:31.652 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:12:31.653 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:31.653 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:12:31.653 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:31.654 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:12:31.654 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:31.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:12:31.658 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.121ms
2024-11-18 13:12:31.659 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.5942ms
2024-11-18 13:12:31.659 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:31.660 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:12:31.660 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:31.661 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:12:31.661 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.662 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:12:31.662 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:12:31.663 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:12:31.664 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 97.2682ms
2024-11-18 13:12:31.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 99.1005ms
2024-11-18 13:13:03.021 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:13:03.021 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:13:03.027 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:13:03.028 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:13:03.028 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:13:03.028 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:13:03.029 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:13:03.029 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:13:03.030 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:13:03.030 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:13:03.031 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:13:03.031 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:13:03.032 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:03.032 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:03.033 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:13:03.033 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:13:03.034 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:03.034 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:03.035 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:13:03.035 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:13:03.036 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:13:03.037 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:13:03.037 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:13:03.038 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:13:03.039 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:03.039 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:03.040 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:13:03.041 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:13:03.041 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:03.042 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:03.043 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:03.044 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:03.045 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:03.045 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:03.046 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:13:03.046 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:13:03.047 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:13:03.047 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:13:03.048 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:03.048 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:03.049 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:03.050 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:03.050 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:13:03.051 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:13:03.051 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:13:03.052 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:13:03.053 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:03.053 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:03.054 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:13:03.054 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:13:03.055 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.055 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.056 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.057 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.058 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.058 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.059 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:03.059 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:03.060 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.060 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:03.061 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:03.061 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:03.062 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:13:03.062 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:13:03.063 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:03.063 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:03.064 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:03.065 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:03.065 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:03.066 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:03.066 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:03.067 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:03.067 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:03.068 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:03.069 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:13:03.069 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:13:03.070 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:03.070 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:03.071 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:03.072 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:03.072 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:03.073 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:03.074 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:03.074 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:03.075 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:13:03.075 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:13:03.080 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:13:03.081 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:13:03.081 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:13:03.081 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:13:03.082 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.082 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.083 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.083 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.084 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:13:03.084 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:13:03.085 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:13:03.085 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:13:03.086 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:13:03.086 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:13:03.087 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:13:03.087 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:13:03.090 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:13:03.090 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:13:03.092 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.092 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.093 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:13:03.094 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:13:03.094 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.095 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.096 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:13:03.096 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:13:03.097 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:13:03.097 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:13:03.098 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:13:03.100 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:13:03.100 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:13:03.100 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:13:03.101 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:13:03.101 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:13:03.101 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:13:03.102 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:13:03.102 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:13:03.104 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:13:03.108 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.1793ms
2024-11-18 13:13:03.109 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.4797ms
2024-11-18 13:13:03.112 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:03.113 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:03.114 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:13:03.114 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:13:03.115 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.116 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:03.116 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:13:03.117 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:13:03.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 96.2744ms
2024-11-18 13:13:03.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.7277ms
2024-11-18 13:13:17.217 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:13:17.218 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:13:17.219 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:13:17.220 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:13:17.221 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:13:17.221 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:13:17.222 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:13:17.222 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:13:17.222 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:13:17.223 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:13:17.224 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:13:17.224 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:13:17.225 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:17.226 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:17.227 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:13:17.227 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:13:17.228 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:17.228 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:17.229 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:13:17.229 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:13:17.230 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:13:17.231 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:13:17.232 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:13:17.232 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:13:17.233 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:17.234 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:17.235 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:13:17.235 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:13:17.236 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:17.237 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:13:17.238 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:17.239 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:17.239 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:17.240 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:13:17.240 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:13:17.241 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:13:17.241 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:13:17.242 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:13:17.243 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:17.243 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:17.245 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:17.246 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:13:17.246 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:13:17.247 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:13:17.247 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:13:17.248 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:13:17.248 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:17.249 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:17.250 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:13:17.250 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:13:17.251 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.252 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.252 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.253 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.254 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.254 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.255 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:17.255 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:13:17.256 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.256 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:13:17.257 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:17.257 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:17.258 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:13:17.259 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:13:17.259 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:17.260 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:17.261 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:17.261 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:17.262 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:17.262 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:13:17.263 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:17.264 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:13:17.264 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:17.265 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:17.266 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:13:17.266 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:13:17.267 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:17.268 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:17.268 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:17.269 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:17.269 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:17.269 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:13:17.270 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:17.270 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:13:17.271 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:13:17.272 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:13:17.273 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:13:17.274 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:13:17.274 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:13:17.275 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:13:17.275 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.276 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.276 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.277 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.277 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:13:17.277 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:13:17.278 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:13:17.278 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:13:17.279 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:13:17.280 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:13:17.280 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:13:17.281 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:13:17.284 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:13:17.284 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:13:17.286 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.287 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.287 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:13:17.288 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:13:17.288 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.289 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.290 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:13:17.290 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:13:17.291 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:13:17.291 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:13:17.293 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:13:17.294 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:13:17.294 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:13:17.295 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:13:17.295 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:13:17.295 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:13:17.296 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:13:17.296 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:13:17.296 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:13:17.297 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:13:17.299 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.1273ms
2024-11-18 13:13:17.300 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.8788ms
2024-11-18 13:13:17.301 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:17.304 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:13:17.305 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:13:17.306 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:13:17.306 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.307 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:13:17.308 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:13:17.308 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:13:17.309 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 91.5909ms
2024-11-18 13:13:17.310 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.3824ms
2024-11-18 13:17:46.247 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:17:46.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:17:46.254 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:17:46.255 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:17:46.256 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:17:46.256 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:17:46.257 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:17:46.257 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:17:46.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:17:46.258 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:17:46.259 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:17:46.259 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:17:46.260 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:46.261 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:46.262 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:17:46.262 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:17:46.262 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:46.263 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:46.263 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:17:46.264 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:17:46.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:17:46.266 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:17:46.267 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:17:46.268 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:17:46.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:46.269 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:46.270 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:17:46.271 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:17:46.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:46.272 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:46.273 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:46.274 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:46.275 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:46.275 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:46.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:17:46.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:17:46.277 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:17:46.277 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:17:46.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:46.279 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:46.279 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:46.280 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:46.281 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:17:46.281 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:17:46.282 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:17:46.282 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:17:46.283 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:46.283 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:46.284 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:17:46.285 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:17:46.285 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.286 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.287 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.288 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.289 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.289 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.290 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:46.290 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:46.291 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.292 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:46.292 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:46.293 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:46.294 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:17:46.294 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:17:46.295 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:46.296 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:46.297 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:46.297 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:46.298 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:46.298 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:46.299 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:46.299 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:46.301 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:46.301 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:46.302 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:17:46.303 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:17:46.303 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:46.304 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:46.305 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:46.305 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:46.306 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:46.306 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:46.307 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:46.308 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:46.310 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:17:46.310 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:17:46.317 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:17:46.318 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:17:46.318 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:17:46.319 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:17:46.319 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.320 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.321 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.322 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.324 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:17:46.325 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:17:46.325 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:17:46.326 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:17:46.326 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:17:46.327 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:17:46.327 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:17:46.328 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:17:46.334 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:17:46.334 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:17:46.335 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.337 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:17:46.337 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.338 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.338 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:17:46.339 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:17:46.339 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.340 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:17:46.341 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:17:46.342 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:17:46.342 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:17:46.343 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:17:46.344 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:17:46.344 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:17:46.345 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:17:46.345 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:17:46.345 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:17:46.346 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:17:46.346 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:17:46.347 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.1177ms
2024-11-18 13:17:46.348 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:17:46.352 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:46.354 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:17:46.355 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.360 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 86.5273ms
2024-11-18 13:17:46.361 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-11-18 13:17:46.361 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:46.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 110.4813ms
2024-11-18 13:17:46.363 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:17:46.365 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:46.366 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:17:46.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 119.8337ms
2024-11-18 13:17:50.125 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:17:50.125 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:17:50.127 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:17:50.128 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:17:50.128 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:17:50.129 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:17:50.130 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:17:50.130 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:17:50.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:17:50.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:17:50.132 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:17:50.133 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:17:50.134 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:50.135 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:50.135 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:17:50.135 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:17:50.136 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:50.137 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:50.137 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:17:50.138 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:17:50.138 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:17:50.139 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:17:50.140 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:17:50.141 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:17:50.142 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:50.143 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:50.144 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:17:50.146 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:17:50.146 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:50.148 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:50.147 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:17:50.150 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:50.150 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:50.151 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:17:50.152 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:17:50.152 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:17:50.152 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:17:50.153 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:50.154 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:17:50.155 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:50.155 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:50.156 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:17:50.157 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:17:50.158 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:17:50.158 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:17:50.159 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:50.159 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:17:50.160 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:17:50.161 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:50.162 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.162 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:17:50.163 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.164 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.165 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.165 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.166 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:50.166 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.167 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.168 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:17:50.169 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:50.170 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:17:50.171 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:17:50.172 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:50.173 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:50.173 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:17:50.174 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:50.175 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:50.176 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:50.176 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:50.177 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:50.178 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:17:50.178 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:50.179 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:17:50.180 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:17:50.180 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:50.181 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:50.182 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:17:50.183 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:50.183 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:50.184 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:50.184 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:50.185 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:50.186 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:17:50.187 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:17:50.187 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:17:50.189 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:17:50.190 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:17:50.190 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:17:50.191 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:17:50.191 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.192 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:17:50.192 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.193 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.193 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:17:50.194 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.194 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:17:50.195 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:17:50.196 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:17:50.196 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:17:50.197 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:17:50.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:17:50.200 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:17:50.202 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:17:50.205 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.206 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:17:50.206 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:17:50.208 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.208 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.209 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:17:50.209 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:17:50.210 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.211 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:17:50.212 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:17:50.213 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:17:50.214 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:17:50.214 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:17:50.215 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:17:50.215 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:17:50.216 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:17:50.216 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:17:50.216 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:17:50.218 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:17:50.217 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:17:50.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:17:50.220 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.8771ms
2024-11-18 13:17:50.222 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:50.222 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.7703ms
2024-11-18 13:17:50.226 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:17:50.227 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:17:50.227 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.228 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:17:50.228 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:17:50.229 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:17:50.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 104.431ms
2024-11-18 13:17:50.230 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:17:50.232 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 107.3975ms
2024-11-18 13:18:09.785 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:18:09.785 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:18:09.786 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:18:09.787 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:18:09.788 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:18:09.788 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:18:09.789 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:18:09.789 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:18:09.789 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:18:09.790 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:18:09.790 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:18:09.791 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:18:09.792 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:18:09.792 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:18:09.793 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:18:09.793 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:18:09.794 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:18:09.794 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:18:09.795 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:18:09.795 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:18:09.796 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:18:09.797 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:18:09.797 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:18:09.798 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:18:09.799 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:18:09.799 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:18:09.801 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:18:09.801 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:18:09.802 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:18:09.803 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:18:09.803 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:18:09.804 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:18:09.805 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:18:09.805 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:18:09.806 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:18:09.807 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:18:09.807 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:18:09.808 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:18:09.809 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:18:09.809 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:18:09.810 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:18:09.810 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:18:09.811 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:18:09.811 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:18:09.812 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:18:09.812 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:18:09.813 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:18:09.814 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:18:09.815 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:18:09.815 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:18:09.816 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.817 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.817 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.818 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.819 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.819 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.820 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:18:09.820 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:18:09.821 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.822 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:18:09.822 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:18:09.823 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:18:09.823 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:18:09.824 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:18:09.825 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:18:09.825 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:18:09.826 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:18:09.826 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:18:09.827 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:18:09.828 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:18:09.828 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:18:09.829 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:18:09.830 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:18:09.830 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:18:09.831 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:18:09.832 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:18:09.832 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:18:09.833 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:18:09.834 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:18:09.834 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:18:09.835 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:18:09.836 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:18:09.836 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:18:09.837 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:18:09.838 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:18:09.839 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:18:09.839 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:18:09.840 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:18:09.840 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:18:09.841 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:18:09.842 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.842 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.843 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.843 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.844 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:18:09.845 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:18:09.845 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:18:09.846 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:18:09.846 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:18:09.847 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:18:09.847 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:18:09.848 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:18:09.852 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:18:09.852 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:18:09.853 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.854 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.855 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:18:09.855 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:18:09.856 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.857 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.858 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:18:09.858 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:18:09.859 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:18:09.859 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:18:09.860 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:18:09.861 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:18:09.862 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:18:09.862 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:18:09.863 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:18:09.863 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:18:09.863 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:18:09.864 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:18:09.864 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:18:09.865 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:18:09.867 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.674ms
2024-11-18 13:18:09.867 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.5725ms
2024-11-18 13:18:09.868 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:18:09.868 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:18:09.869 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:18:09.870 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:18:09.870 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.871 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:18:09.871 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:18:09.872 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:18:09.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 88.0228ms
2024-11-18 13:18:09.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 88.7701ms
2024-11-18 13:18:14.535 +07:00 [DBG] Connection id "0HN87HVO5FAFI" received FIN.
2024-11-18 13:18:14.536 +07:00 [DBG] Connection id "0HN87HVO5FAFI" is closed. The last processed stream ID was 59.
2024-11-18 13:18:14.536 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFI completed.
2024-11-18 13:18:14.537 +07:00 [DBG] Connection id "0HN87HVO5FAFI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:18:14.548 +07:00 [DBG] Connection id "0HN87HVO5FAFI" stopped.
2024-11-18 13:20:25.957 +07:00 [DBG] Connection id "0HN87HVO5FAFJ" accepted.
2024-11-18 13:20:25.962 +07:00 [DBG] Connection id "0HN87HVO5FAFJ" started.
2024-11-18 13:20:25.968 +07:00 [DBG] Connection 0HN87HVO5FAFJ established using the following protocol: "Tls13"
2024-11-18 13:20:25.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:20:25.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:20:25.977 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:20:25.978 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:20:25.979 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:20:25.979 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:20:25.979 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:20:25.980 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:20:25.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:20:25.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:20:25.982 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:20:25.982 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:20:25.983 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:25.983 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:25.984 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:20:25.984 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:20:25.985 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:25.986 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:25.986 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:20:25.987 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:20:25.987 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:20:25.988 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:20:25.989 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:20:25.989 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:20:25.990 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:25.990 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:25.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:20:25.992 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:20:25.993 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:25.994 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:25.995 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:25.996 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:25.997 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:25.997 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:25.998 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:20:25.998 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:20:25.999 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:20:25.999 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:20:26.000 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:26.001 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:26.001 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:26.002 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:26.002 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:20:26.003 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:20:26.003 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:20:26.004 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:20:26.004 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:26.005 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:26.006 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:20:26.006 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:20:26.007 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.008 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.008 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.009 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.009 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.010 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.010 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:26.011 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:26.012 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.012 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:26.013 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:26.013 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:26.014 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:20:26.014 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:20:26.015 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:26.016 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:26.016 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:26.017 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:26.017 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:26.018 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:26.018 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:26.019 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:26.019 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:26.020 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:26.021 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:20:26.021 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:20:26.022 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:26.022 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:26.023 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:26.023 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:26.024 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:26.024 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:26.025 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:26.025 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:26.026 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:20:26.027 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:20:26.028 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:20:26.028 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:20:26.029 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:20:26.029 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:20:26.029 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.030 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.030 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.031 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.031 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:20:26.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:20:26.032 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:20:26.033 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:20:26.033 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:20:26.034 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:20:26.034 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:20:26.035 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:20:26.038 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:20:26.038 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:20:26.041 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.041 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.042 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:20:26.042 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:20:26.043 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.044 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.044 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:20:26.045 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:20:26.045 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:20:26.046 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:20:26.047 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:20:26.048 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:20:26.048 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:20:26.049 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:20:26.049 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:20:26.050 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:20:26.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:20:26.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:20:26.051 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:20:26.051 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:20:26.053 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.0498ms
2024-11-18 13:20:26.054 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:26.054 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.2552ms
2024-11-18 13:20:26.058 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:20:26.058 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:26.059 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.059 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:20:26.060 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:20:26.061 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:26.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 89.4385ms
2024-11-18 13:20:26.062 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:20:26.064 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 92.8891ms
2024-11-18 13:20:46.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:20:46.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:20:46.449 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:20:46.450 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:20:46.451 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:20:46.451 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:20:46.452 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:20:46.452 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:20:46.453 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:20:46.453 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:20:46.454 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:20:46.454 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:20:46.455 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:46.456 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:46.457 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:20:46.457 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:20:46.457 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:46.458 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:46.458 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:20:46.459 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:20:46.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:20:46.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:20:46.461 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:20:46.462 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:20:46.463 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:46.464 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:46.465 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:20:46.466 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:20:46.466 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:46.467 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:46.468 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:46.468 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:46.469 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:46.470 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:46.470 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:20:46.471 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:20:46.472 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:20:46.473 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:20:46.473 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:46.474 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:46.474 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:46.475 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:46.476 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:20:46.477 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:20:46.478 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:20:46.479 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:20:46.479 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:46.480 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:46.480 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:20:46.481 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:20:46.482 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.482 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.484 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.484 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.485 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.486 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.486 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:46.487 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:46.487 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.488 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:46.488 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:46.489 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:46.489 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:20:46.490 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:20:46.491 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:46.492 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:46.492 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:46.493 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:46.494 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:46.494 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:46.495 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:46.495 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:46.496 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:46.496 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:46.497 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:20:46.497 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:20:46.498 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:46.499 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:46.500 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:46.500 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:46.501 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:46.501 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:46.502 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:46.503 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:46.503 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:20:46.504 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:20:46.505 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:20:46.506 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:20:46.506 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:20:46.506 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:20:46.507 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.507 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.508 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.508 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.509 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:20:46.509 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:20:46.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:20:46.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:20:46.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:20:46.512 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:20:46.513 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:20:46.513 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:20:46.517 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:20:46.517 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:20:46.519 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.520 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.520 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:20:46.521 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:20:46.522 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.523 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.523 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:20:46.524 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:20:46.524 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:20:46.525 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:20:46.527 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:20:46.528 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:20:46.528 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:20:46.529 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:20:46.529 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:20:46.529 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:20:46.530 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:20:46.530 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:20:46.530 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:20:46.531 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:20:46.533 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.7488ms
2024-11-18 13:20:46.540 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:46.541 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.5566ms
2024-11-18 13:20:46.543 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:20:46.544 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:46.544 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.545 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:20:46.545 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:20:46.546 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:46.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 103.8777ms
2024-11-18 13:20:46.547 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:20:46.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 107.4723ms
2024-11-18 13:20:55.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:20:55.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:20:55.676 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:20:55.677 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:20:55.678 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:20:55.678 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:20:55.679 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:20:55.679 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:20:55.680 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:20:55.680 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:20:55.681 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:20:55.681 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:20:55.682 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:55.683 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:55.683 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:20:55.684 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:20:55.684 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:55.685 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:55.686 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:20:55.686 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:20:55.687 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:20:55.688 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:20:55.688 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:20:55.689 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:20:55.690 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:55.690 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:55.691 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:20:55.693 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:20:55.693 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:55.694 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:20:55.695 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:55.696 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:55.696 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:55.697 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:20:55.698 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:20:55.699 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:20:55.699 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:20:55.700 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:20:55.701 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:55.702 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:55.702 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:55.703 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:20:55.704 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:20:55.704 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:20:55.705 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:20:55.706 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:20:55.707 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:55.707 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:55.708 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:20:55.709 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:20:55.709 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.710 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.711 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.713 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.711 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.714 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:55.715 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.715 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.716 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:55.716 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:20:55.717 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:20:55.717 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:20:55.718 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:55.719 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:55.720 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:55.720 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:20:55.721 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:55.722 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:55.723 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:55.723 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:55.724 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:55.724 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:20:55.725 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:20:55.725 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:20:55.726 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:55.727 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:55.728 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:55.728 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:20:55.729 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:55.730 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:55.730 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:55.731 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:55.732 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:20:55.732 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:20:55.734 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:20:55.734 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:20:55.735 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:20:55.736 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.736 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:20:55.737 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.738 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:20:55.738 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:20:55.738 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:20:55.739 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:20:55.739 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.740 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:20:55.741 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.742 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:20:55.742 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:20:55.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:20:55.745 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:20:55.745 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:20:55.746 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:20:55.748 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:20:55.748 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.750 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.750 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:20:55.751 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:20:55.752 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.752 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.753 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:20:55.753 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:20:55.754 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:20:55.755 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:20:55.756 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:20:55.757 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:20:55.758 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:20:55.758 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:20:55.758 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:20:55.759 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:20:55.759 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:20:55.759 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:20:55.760 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:20:55.760 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:20:55.761 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.482ms
2024-11-18 13:20:55.763 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:55.765 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.5307ms
2024-11-18 13:20:55.765 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:20:55.770 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:20:55.770 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.771 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:20:55.771 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:20:55.772 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:20:55.773 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 97.8305ms
2024-11-18 13:20:55.773 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:20:55.775 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 100.6193ms
2024-11-18 13:21:10.053 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:21:10.053 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:21:10.055 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:21:10.057 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:21:10.057 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:21:10.058 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:21:10.058 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:21:10.059 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:21:10.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:21:10.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:21:10.061 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:21:10.062 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:21:10.062 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:10.063 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:10.063 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:21:10.064 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:21:10.064 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:10.065 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:10.065 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:21:10.066 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:21:10.067 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:21:10.068 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:21:10.068 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:21:10.069 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:21:10.070 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:10.070 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:10.071 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:21:10.072 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:21:10.073 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:10.074 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:10.075 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:10.076 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:10.076 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:10.077 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:10.078 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:21:10.078 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:21:10.079 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:21:10.079 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:21:10.080 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:10.081 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:10.082 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:10.082 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:10.083 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:21:10.083 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:21:10.084 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:21:10.084 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:21:10.085 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:10.086 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:10.086 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:21:10.087 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:21:10.087 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.088 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.089 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.090 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.090 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.091 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.091 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:10.092 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:10.093 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.093 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:10.094 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:10.095 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:10.095 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:21:10.096 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:21:10.096 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:10.097 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:10.098 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:10.098 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:10.099 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:10.099 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:10.100 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:10.100 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:10.102 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:10.102 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:10.103 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:21:10.104 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:21:10.104 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:10.105 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:10.105 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:10.106 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:10.106 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:10.107 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:10.108 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:10.108 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:10.110 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:21:10.110 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:21:10.111 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:21:10.112 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:21:10.112 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:21:10.112 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:21:10.113 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.113 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.113 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.114 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:21:10.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:21:10.116 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:21:10.116 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:21:10.117 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:21:10.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:21:10.118 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:21:10.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:21:10.123 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:21:10.123 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:21:10.124 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.125 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.126 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:21:10.126 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:21:10.127 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.128 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.128 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:21:10.129 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:21:10.130 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:21:10.130 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:21:10.132 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:21:10.133 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:21:10.133 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:21:10.133 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:21:10.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:21:10.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:21:10.134 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:21:10.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:21:10.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:21:10.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:21:10.138 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.9825ms
2024-11-18 13:21:10.139 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:10.139 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.5757ms
2024-11-18 13:21:10.140 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:21:10.140 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:10.141 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.141 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:21:10.142 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:21:10.143 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:10.144 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.2875ms
2024-11-18 13:21:10.144 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:21:10.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.0438ms
2024-11-18 13:21:23.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:21:23.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:21:23.720 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:21:23.721 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:21:23.722 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:21:23.722 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:21:23.722 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:21:23.723 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:21:23.723 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:21:23.723 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:21:23.724 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:21:23.724 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:21:23.725 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:23.726 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:23.727 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:21:23.727 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:21:23.728 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:23.728 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:23.729 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:21:23.729 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:21:23.730 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:21:23.731 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:21:23.731 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:21:23.732 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:21:23.733 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:23.733 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:23.734 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:21:23.735 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:21:23.736 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:23.737 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:23.737 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:23.738 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:23.739 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:23.739 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:23.740 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:21:23.740 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:21:23.741 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:21:23.742 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:21:23.742 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:23.743 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:23.744 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:23.744 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:23.745 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:21:23.745 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:21:23.746 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:21:23.747 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:21:23.747 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:23.748 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:23.748 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:21:23.749 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:21:23.750 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.750 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.751 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.751 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.752 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.753 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.753 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:23.754 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:23.754 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.755 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:23.756 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:23.756 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:23.757 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:21:23.757 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:21:23.758 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:23.759 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:23.759 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:23.760 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:23.761 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:23.761 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:23.762 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:23.762 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:23.763 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:23.763 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:23.764 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:21:23.764 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:21:23.765 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:23.766 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:23.766 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:23.767 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:23.767 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:23.768 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:23.769 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:23.769 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:23.770 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:21:23.770 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:21:23.771 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:21:23.772 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:21:23.772 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:21:23.772 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:21:23.773 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.773 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.774 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.775 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.775 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:21:23.776 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:21:23.776 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:21:23.777 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:21:23.778 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:21:23.778 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:21:23.779 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:21:23.779 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:21:23.780 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:21:23.781 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:21:23.782 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.783 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.784 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:21:23.784 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:21:23.785 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.785 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.786 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:21:23.786 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:21:23.787 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:21:23.788 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:21:23.789 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:21:23.791 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:21:23.791 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:21:23.791 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:21:23.792 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:21:23.792 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:21:23.792 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:21:23.793 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:21:23.793 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:21:23.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:21:23.796 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.6466ms
2024-11-18 13:21:23.796 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.6413ms
2024-11-18 13:21:23.797 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:23.797 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:23.798 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:21:23.798 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:21:23.799 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.799 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:23.800 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:21:23.800 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:21:23.801 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 82.609ms
2024-11-18 13:21:23.802 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.3939ms
2024-11-18 13:21:46.995 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:21:46.995 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:21:47.001 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:21:47.002 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:21:47.003 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:21:47.003 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:21:47.004 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:21:47.004 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:21:47.005 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:21:47.005 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:21:47.006 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:21:47.007 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:21:47.007 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:47.008 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:47.009 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:21:47.009 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:21:47.010 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:47.010 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:47.011 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:21:47.011 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:21:47.012 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:21:47.013 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:21:47.013 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:21:47.014 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:21:47.015 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:47.015 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:47.016 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:21:47.017 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:21:47.018 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:47.019 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:21:47.019 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:47.020 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:47.021 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:47.021 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:21:47.022 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:21:47.022 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:21:47.023 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:21:47.023 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:21:47.024 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:47.025 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:47.025 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:47.026 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:21:47.027 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:21:47.027 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:21:47.028 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:21:47.028 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:21:47.029 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:47.029 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:47.030 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:21:47.030 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:21:47.031 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.032 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.032 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.033 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.034 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.034 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.035 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:47.035 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:21:47.036 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.036 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:21:47.037 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:47.037 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:47.038 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:21:47.038 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:21:47.039 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:47.040 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:47.040 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:47.041 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:47.041 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:47.042 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:21:47.042 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:47.043 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:21:47.043 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:47.044 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:47.045 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:21:47.045 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:21:47.046 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:47.047 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:47.047 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:47.048 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:47.048 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:47.049 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:21:47.049 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:47.050 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:21:47.051 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:21:47.051 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:21:47.052 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:21:47.053 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:21:47.053 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:21:47.053 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:21:47.054 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.054 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.055 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.056 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:21:47.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:21:47.057 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:21:47.057 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:21:47.058 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:21:47.058 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:21:47.059 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:21:47.060 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:21:47.063 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:21:47.063 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:21:47.064 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.064 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.065 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:21:47.066 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:21:47.066 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.067 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.068 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:21:47.068 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:21:47.069 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:21:47.069 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:21:47.070 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:21:47.071 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:21:47.072 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:21:47.072 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:21:47.073 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:21:47.073 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:21:47.073 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:21:47.074 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:21:47.074 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:21:47.075 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:21:47.076 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.4551ms
2024-11-18 13:21:47.079 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:47.081 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:21:47.082 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.3256ms
2024-11-18 13:21:47.085 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.085 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:21:47.086 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 13:21:47.087 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:21:47.088 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 92.3133ms
2024-11-18 13:21:47.088 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:21:47.090 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:21:47.091 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.741ms
2024-11-18 13:22:37.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:22:37.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:22:37.066 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:22:37.066 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:22:37.067 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:22:37.067 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:22:37.068 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:22:37.068 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:22:37.068 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:22:37.069 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:22:37.069 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:22:37.070 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:22:37.070 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:22:37.072 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:22:37.072 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:22:37.072 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:22:37.073 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:22:37.073 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:22:37.074 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:22:37.074 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:22:37.075 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:22:37.076 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:22:37.077 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:22:37.077 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:22:37.078 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:22:37.079 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:22:37.080 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:22:37.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:22:37.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:22:37.082 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:22:37.083 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:22:37.083 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:22:37.084 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:22:37.084 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:22:37.085 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:22:37.085 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:22:37.086 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:22:37.087 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:22:37.087 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:22:37.088 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:22:37.088 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:22:37.089 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:22:37.089 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:22:37.090 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:22:37.090 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:22:37.091 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:22:37.091 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:22:37.092 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:22:37.093 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:22:37.093 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:22:37.094 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.095 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.095 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.096 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.096 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.097 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.097 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:22:37.098 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:22:37.098 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.099 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:22:37.099 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:22:37.100 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:22:37.100 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:22:37.101 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:22:37.102 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:22:37.102 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:22:37.103 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:22:37.103 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:22:37.104 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:22:37.104 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:22:37.105 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:22:37.105 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:22:37.106 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:22:37.106 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:22:37.107 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:22:37.107 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:22:37.108 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:22:37.109 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:22:37.109 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:22:37.110 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:22:37.110 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:22:37.111 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:22:37.111 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:22:37.112 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:22:37.113 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:22:37.113 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:22:37.114 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:22:37.115 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:22:37.115 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:22:37.115 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:22:37.116 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.116 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.117 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.117 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.117 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:22:37.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:22:37.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:22:37.119 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:22:37.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:22:37.120 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:22:37.120 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:22:37.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:22:37.124 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:22:37.125 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:22:37.126 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.126 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.127 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:22:37.128 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:22:37.128 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.129 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.130 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:22:37.130 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:22:37.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:22:37.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:22:37.132 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:22:37.133 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:22:37.134 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:22:37.134 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:22:37.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:22:37.135 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:22:37.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:22:37.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:22:37.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:22:37.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:22:37.138 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.1334ms
2024-11-18 13:22:37.144 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:22:37.147 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:22:37.147 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.4801ms
2024-11-18 13:22:37.148 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.148 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:22:37.149 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:22:37.150 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:22:37.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.1702ms
2024-11-18 13:22:37.151 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:22:37.153 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:22:37.153 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.4484ms
2024-11-18 13:23:29.370 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:23:29.370 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:23:29.379 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:23:29.381 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:23:29.382 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:23:29.383 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:23:29.383 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:23:29.384 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:23:29.385 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:23:29.386 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:23:29.387 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:23:29.388 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:23:29.388 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:23:29.389 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:23:29.390 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:23:29.391 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:23:29.391 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:23:29.392 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:23:29.393 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:23:29.393 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:23:29.394 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:23:29.395 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:23:29.396 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:23:29.397 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:23:29.398 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:23:29.399 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:23:29.400 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:23:29.401 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:23:29.402 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:23:29.402 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:23:29.404 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:23:29.404 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:23:29.405 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:23:29.406 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:23:29.406 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:23:29.407 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:23:29.407 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:23:29.408 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:23:29.409 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:23:29.409 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:23:29.410 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:23:29.411 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:23:29.411 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:23:29.412 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:23:29.413 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:23:29.413 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:23:29.414 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:23:29.414 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:23:29.415 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:23:29.415 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:23:29.416 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.417 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.418 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.419 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.419 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.420 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.421 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:23:29.421 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:23:29.422 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.422 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:23:29.423 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:23:29.424 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:23:29.425 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:23:29.425 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:23:29.426 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:23:29.427 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:23:29.427 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:23:29.428 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:23:29.429 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:23:29.429 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:23:29.430 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:23:29.430 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:23:29.431 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:23:29.432 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:23:29.432 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:23:29.433 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:23:29.433 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:23:29.434 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:23:29.435 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:23:29.435 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:23:29.436 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:23:29.436 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:23:29.437 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:23:29.437 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:23:29.439 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:23:29.439 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:23:29.444 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:23:29.446 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:23:29.446 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:23:29.446 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.446 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:23:29.447 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.447 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.448 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:23:29.449 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.449 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:23:29.449 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:23:29.450 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:23:29.450 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:23:29.451 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:23:29.451 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:23:29.453 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:23:29.456 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:23:29.456 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:23:29.457 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.458 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.459 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:23:29.459 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:23:29.460 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.460 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.461 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:23:29.461 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:23:29.462 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:23:29.463 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:23:29.463 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:23:29.465 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:23:29.465 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:23:29.465 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:23:29.466 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:23:29.466 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:23:29.466 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:23:29.467 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:23:29.467 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:23:29.468 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:23:29.469 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.0106ms
2024-11-18 13:23:29.470 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:23:29.474 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:23:29.479 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.480 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 75.3611ms
2024-11-18 13:23:29.480 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:23:29.481 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:23:29.482 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 112.473ms
2024-11-18 13:23:29.482 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:23:29.484 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:23:29.484 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:23:29.485 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 114.9241ms
2024-11-18 13:24:01.038 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:24:01.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:24:01.064 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:01.065 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:01.066 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:01.066 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:01.067 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:01.067 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:01.068 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:01.069 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:01.070 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:01.070 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:01.073 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:01.075 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:01.075 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:01.076 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:01.077 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:01.078 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:01.079 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:01.079 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:01.080 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:01.082 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:01.082 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:01.084 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:01.086 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:01.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:01.088 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:01.089 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:01.091 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:01.092 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:01.093 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:01.094 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:01.095 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:01.097 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:01.098 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:01.099 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:01.099 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:01.100 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:01.101 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:01.102 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:01.103 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:01.103 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:01.104 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:01.105 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:01.106 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:01.107 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:01.107 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:01.108 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:01.109 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:01.109 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:01.110 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.112 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.113 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.113 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.114 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.115 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.115 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:01.116 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:01.116 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.118 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:01.119 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:01.120 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:01.121 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:01.121 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:01.122 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:01.123 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:01.125 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:01.124 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:01.126 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:01.127 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:01.127 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:01.128 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:01.128 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:01.129 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:01.130 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:01.130 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:01.131 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:01.133 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:01.134 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:01.134 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:01.135 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:01.136 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:01.136 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:01.137 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:01.138 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:01.138 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:01.140 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:01.141 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:24:01.141 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:01.142 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.142 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:24:01.143 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.143 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.144 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:01.145 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:01.145 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.146 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:01.147 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:01.148 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:01.148 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:01.151 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 13:24:01.152 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:01.156 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:01.157 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:01.159 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.161 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.162 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-18 13:24:01.163 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:01.164 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.164 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.165 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:01.166 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:01.168 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:01.168 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:01.170 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:01.171 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:01.172 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:01.172 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:01.172 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:01.173 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:01.174 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:01.175 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:01.176 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:01.176 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:01.179 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 85.9163ms
2024-11-18 13:24:01.195 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 101.9867ms
2024-11-18 13:24:01.197 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:01.198 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:01.198 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:01.199 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:01.199 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.200 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:01.204 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-18 13:24:01.204 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-18 13:24:01.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 148.7149ms
2024-11-18 13:24:01.207 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 168.9089ms
2024-11-18 13:24:04.915 +07:00 [DBG] Connection id "0HN87HVO5FAFJ" received FIN.
2024-11-18 13:24:04.916 +07:00 [DBG] Connection id "0HN87HVO5FAFJ" is closed. The last processed stream ID was 35.
2024-11-18 13:24:04.916 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFJ completed.
2024-11-18 13:24:04.917 +07:00 [DBG] Connection id "0HN87HVO5FAFJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:24:04.934 +07:00 [DBG] Connection id "0HN87HVO5FAFJ" stopped.
2024-11-18 13:24:24.592 +07:00 [DBG] Connection id "0HN87HVO5FAFK" accepted.
2024-11-18 13:24:24.593 +07:00 [DBG] Connection id "0HN87HVO5FAFK" started.
2024-11-18 13:24:24.601 +07:00 [DBG] Connection 0HN87HVO5FAFK established using the following protocol: "Tls13"
2024-11-18 13:24:24.605 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:24:24.605 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:24:24.613 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:24.616 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:24.616 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:24.617 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:24.617 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:24.617 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:24.618 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:24.618 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:24.619 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:24.619 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:24.620 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:24.621 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:24.621 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:24.621 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:24.622 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:24.622 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:24.623 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:24.623 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:24.625 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:24.626 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:24.627 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:24.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:24.628 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:24.629 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:24.630 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:24.631 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:24.632 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:24.632 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:24.633 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:24.634 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:24.635 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:24.635 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:24.635 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:24.636 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:24.636 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:24.637 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:24.638 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:24.639 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:24.639 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:24.640 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:24.641 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:24.641 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:24.642 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:24.642 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:24.643 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:24.643 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:24.644 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:24.645 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:24.645 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.646 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.647 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.648 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.649 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.649 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.650 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:24.650 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:24.651 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.652 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:24.652 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:24.653 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:24.653 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:24.654 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:24.655 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:24.655 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:24.656 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:24.656 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:24.657 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:24.657 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:24.658 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:24.658 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:24.659 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:24.660 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:24.661 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:24.660 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:24.661 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:24.662 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:24.663 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:24.663 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:24.663 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:24.664 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:24.664 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:24.665 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:24.666 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:24.666 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:24.667 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:24.668 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:24.668 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:24:24.669 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:24:24.669 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.669 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.670 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.671 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.671 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:24.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:24.672 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:24:24.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:24.673 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:24.674 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:24.675 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:24.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:24.678 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:24.678 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:24.679 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.680 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.681 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:24.681 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:24.682 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.683 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.683 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:24.684 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:24.685 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:24.685 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:24.686 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:24.687 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:24.688 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:24.688 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:24.689 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:24.689 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:24.689 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:24.690 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:24.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:24.691 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:24.693 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.8391ms
2024-11-18 13:24:24.693 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.3313ms
2024-11-18 13:24:24.694 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:24.694 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:24.695 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:24.695 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:24.696 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.696 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:24.697 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:24.698 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:24.698 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 93.8033ms
2024-11-18 13:24:24.699 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 94.5043ms
2024-11-18 13:24:33.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:24:33.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:24:33.610 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:33.612 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:33.612 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:33.613 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:33.613 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:33.613 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:33.614 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:33.614 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:33.615 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:33.615 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:33.616 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:33.618 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:33.618 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:33.619 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:33.619 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:33.620 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:33.620 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:33.621 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:33.622 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:33.623 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:33.623 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:33.624 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:33.625 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:33.626 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:33.627 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:33.628 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:33.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:33.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:33.631 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:33.630 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:33.633 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:33.634 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:33.634 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:33.635 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:33.635 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:33.636 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:33.636 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:33.637 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:33.638 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:33.638 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:33.639 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:33.640 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:33.641 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:33.641 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:33.642 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:33.642 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:33.643 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:33.643 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:33.644 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.645 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.646 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.646 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.647 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.648 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.648 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:33.649 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:33.650 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.650 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:33.651 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:33.651 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:33.652 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:33.653 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:33.653 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:33.654 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:33.655 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:33.655 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:33.656 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:33.656 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:33.657 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:33.657 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:33.658 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:33.658 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:33.659 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:33.660 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:33.660 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:33.661 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:33.662 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:33.662 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:33.663 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:33.663 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:33.664 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:33.664 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:33.666 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:33.666 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:33.667 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:33.668 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:33.668 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:24:33.668 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:24:33.669 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.669 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.670 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.670 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.671 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:33.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:33.672 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:33.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:33.674 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:33.674 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:33.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:33.675 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:33.677 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:33.678 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:33.678 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.680 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.680 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:33.681 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:33.681 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.682 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.683 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:33.683 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:33.684 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:33.684 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:33.685 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:33.686 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:33.687 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:33.687 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:33.687 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:33.688 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:33.688 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:33.688 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:33.689 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:33.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:33.690 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.9336ms
2024-11-18 13:24:33.692 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:33.694 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:33.698 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.698 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.3048ms
2024-11-18 13:24:33.699 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:24:33.700 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:33.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 93.5405ms
2024-11-18 13:24:33.701 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:33.704 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:33.704 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:24:33.705 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 97.9685ms
2024-11-18 13:24:40.829 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:24:40.829 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:24:40.830 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:40.832 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:40.833 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:40.834 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:40.834 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:40.834 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:40.835 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:40.835 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:40.836 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:40.836 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:40.837 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:40.837 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:40.838 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:40.838 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:40.839 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:40.839 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:40.840 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:40.840 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:40.841 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:40.842 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:40.842 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:40.843 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:40.843 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:40.844 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:40.845 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:40.846 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:40.846 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:40.847 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:40.848 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:40.849 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:40.849 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:40.850 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:40.850 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:40.851 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:40.852 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:40.853 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:40.853 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:40.854 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:40.854 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:40.855 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:40.856 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:40.856 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:40.857 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:40.857 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:40.858 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:40.858 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:40.859 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:40.859 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:40.860 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.861 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.861 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.862 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.863 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.863 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.864 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:40.864 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:40.865 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.866 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:40.866 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:40.867 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:40.867 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:40.868 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:40.869 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:40.869 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:40.870 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:40.871 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:40.871 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:40.872 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:40.873 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:40.873 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:40.874 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:40.874 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:40.875 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:40.876 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:40.876 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:40.877 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:40.878 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:40.878 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:40.879 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:40.880 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:40.881 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:40.881 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:40.882 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:40.883 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:40.884 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:40.885 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:40.885 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:24:40.885 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:24:40.886 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.886 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.887 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.888 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.888 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:40.889 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:40.889 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:40.890 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:24:40.890 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:40.891 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:40.891 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:40.892 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:40.895 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:40.896 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:40.897 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.897 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.898 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:40.898 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:40.899 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.900 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.900 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:40.901 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:40.901 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:40.902 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:40.903 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:40.904 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:40.904 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:40.905 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:40.905 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:40.905 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:40.906 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:40.906 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:40.907 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:40.907 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:40.909 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.6771ms
2024-11-18 13:24:40.910 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.7349ms
2024-11-18 13:24:40.910 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:40.911 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:40.911 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:40.912 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:40.912 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.913 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:40.914 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:40.914 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:40.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 86.3408ms
2024-11-18 13:24:40.916 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.103ms
2024-11-18 13:24:43.953 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:24:43.953 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:24:43.955 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:43.956 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:43.956 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:43.957 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:43.957 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:43.957 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:43.958 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:43.958 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:43.959 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:43.959 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:43.960 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:43.961 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:43.961 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:43.961 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:43.962 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:43.962 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:43.963 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:43.963 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:43.964 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:43.965 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:43.966 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:43.966 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:43.967 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:43.968 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:43.969 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:43.969 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:43.970 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:43.971 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:43.972 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:43.972 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:43.973 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:43.974 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:43.974 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:43.975 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:43.975 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:43.976 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:43.976 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:43.977 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:43.977 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:43.978 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:43.979 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:43.979 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:43.980 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:43.980 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:43.981 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:43.982 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:43.982 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:43.983 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:43.983 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.984 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.985 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.985 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.986 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.987 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.987 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:43.988 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:43.988 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.989 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:43.989 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:43.990 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:43.990 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:43.991 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:43.992 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:43.992 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:43.993 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:43.993 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:43.994 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:43.995 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:43.995 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:43.996 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:43.996 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:43.997 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:43.997 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:43.998 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:43.998 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:43.999 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:44.000 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:44.000 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:44.001 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:44.002 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:44.002 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:44.003 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:44.004 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:44.004 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:44.005 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:44.005 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:44.006 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:24:44.006 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:24:44.007 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.007 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.008 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.008 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.009 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:44.009 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:44.010 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:24:44.010 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:24:44.010 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:44.011 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:44.012 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:44.012 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:44.016 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:44.016 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:44.017 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.018 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.018 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:44.019 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:24:44.020 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.020 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.021 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:44.022 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:44.022 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:44.023 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:44.024 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:44.025 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:44.025 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:44.026 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:44.026 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:44.026 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:44.027 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:44.027 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:44.028 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:44.028 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:44.031 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.8391ms
2024-11-18 13:24:44.031 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.4537ms
2024-11-18 13:24:44.031 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:44.032 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:44.032 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:44.033 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:44.034 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.034 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:44.035 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:44.035 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:44.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 82.8175ms
2024-11-18 13:24:44.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.5165ms
2024-11-18 13:24:49.988 +07:00 [DBG] Connection id "0HN87HVO5FAFK" received FIN.
2024-11-18 13:24:49.989 +07:00 [DBG] Connection id "0HN87HVO5FAFK" is closed. The last processed stream ID was 15.
2024-11-18 13:24:49.989 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFK completed.
2024-11-18 13:24:49.989 +07:00 [DBG] Connection id "0HN87HVO5FAFK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:24:50.003 +07:00 [DBG] Connection id "0HN87HVO5FAFK" stopped.
2024-11-18 13:24:50.816 +07:00 [DBG] Connection id "0HN87HVO5FAFL" accepted.
2024-11-18 13:24:50.817 +07:00 [DBG] Connection id "0HN87HVO5FAFL" started.
2024-11-18 13:24:50.820 +07:00 [DBG] Connection 0HN87HVO5FAFL established using the following protocol: "Tls13"
2024-11-18 13:24:50.822 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:24:50.822 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:24:50.823 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:50.825 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:24:50.825 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:50.826 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:24:50.826 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:50.827 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:24:50.827 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:50.828 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:24:50.828 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:50.829 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:24:50.830 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:50.831 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:50.831 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:50.832 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:24:50.832 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:50.833 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:50.834 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:50.834 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:24:50.835 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:50.836 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:24:50.837 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:50.838 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:24:50.838 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:50.839 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:50.840 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:50.841 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:24:50.842 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:50.843 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:24:50.844 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:50.845 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:50.846 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:50.846 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:24:50.847 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:50.848 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:24:50.848 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:50.849 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:24:50.850 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:50.850 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:50.851 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:50.852 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:24:50.853 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:50.853 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:24:50.854 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:50.855 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:24:50.855 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:50.856 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:50.857 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:50.857 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:24:50.858 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.859 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.860 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.861 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.861 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.862 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.863 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:50.863 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:24:50.864 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.865 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:24:50.866 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:50.866 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:50.867 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:50.868 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:24:50.869 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:50.869 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:50.870 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:50.871 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:50.871 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:50.872 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:24:50.873 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:50.873 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:24:50.874 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:50.875 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:50.875 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:50.876 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:24:50.877 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:50.878 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:50.878 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:50.879 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:50.880 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:50.880 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:24:50.881 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:50.882 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:24:50.883 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:50.883 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:24:50.884 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:50.885 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:24:50.886 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:24:50.886 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:24:50.886 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.887 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.888 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.889 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.889 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:50.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:24:50.890 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:50.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:24:50.892 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:50.892 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:24:50.893 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:50.894 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:50.898 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:24:50.898 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:24:50.900 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.900 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.901 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:24:50.902 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:24:50.903 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.903 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.904 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:50.905 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:24:50.906 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:50.906 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:24:50.908 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:50.909 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:24:50.909 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:50.910 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:24:50.910 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:50.911 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:24:50.911 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:50.912 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:24:50.912 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:50.913 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:24:50.915 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.5712ms
2024-11-18 13:24:50.916 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.8984ms
2024-11-18 13:24:50.917 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:50.917 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:24:50.918 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:50.918 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:24:50.919 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.919 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:24:50.920 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:50.921 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:24:50.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 100.5838ms
2024-11-18 13:24:50.923 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 101.5623ms
2024-11-18 13:25:04.126 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:04.126 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:25:04.127 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:04.129 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:04.130 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:04.133 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:04.133 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:04.134 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:04.134 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:04.134 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:04.135 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:04.136 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:04.136 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:04.138 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:04.138 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:04.139 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:04.139 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:04.140 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:04.140 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:04.141 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:04.142 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:04.142 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:04.143 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:04.145 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:04.146 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:04.147 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:04.148 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:04.149 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:04.150 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:04.150 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:04.152 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:04.153 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:04.154 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:04.154 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:04.155 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:04.155 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:04.156 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:04.156 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:04.157 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:04.158 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:04.159 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:04.159 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:04.160 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:04.160 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:04.161 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:04.162 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:04.162 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:04.163 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:04.163 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:04.164 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:04.164 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.166 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.166 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.167 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.167 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.168 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.168 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:04.169 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:04.169 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.170 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:04.170 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:04.171 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:04.172 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:04.174 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:04.174 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:04.175 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:04.176 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:04.176 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:04.177 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:04.177 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:04.178 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:04.179 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:04.181 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:04.182 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:04.183 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:04.184 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:04.184 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:04.185 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:04.186 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:04.187 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:04.188 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:04.188 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:04.189 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:04.189 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:04.191 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:04.191 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:04.192 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:04.193 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:25:04.193 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:04.194 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.194 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:04.195 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.195 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.196 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:04.197 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.197 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:04.198 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:04.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:25:04.200 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:04.199 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:04.201 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-18 13:25:04.202 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:04.205 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:04.208 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:04.208 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.209 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.210 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-18 13:25:04.211 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:04.211 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.212 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.212 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:04.213 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:25:04.214 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:04.215 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:04.216 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:04.217 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:04.217 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:04.217 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:04.218 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:04.218 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:04.218 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:04.219 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:04.219 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:04.220 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:04.223 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.7062ms
2024-11-18 13:25:04.223 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.1642ms
2024-11-18 13:25:04.224 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:04.224 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:04.225 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:04.225 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:04.225 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.226 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:04.226 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:25:04.227 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:04.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 102.7585ms
2024-11-18 13:25:04.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.4251ms
2024-11-18 13:25:10.061 +07:00 [DBG] Connection id "0HN87HVO5FAFL" received FIN.
2024-11-18 13:25:10.062 +07:00 [DBG] Connection id "0HN87HVO5FAFL" is closed. The last processed stream ID was 7.
2024-11-18 13:25:10.062 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFL completed.
2024-11-18 13:25:10.063 +07:00 [DBG] Connection id "0HN87HVO5FAFL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:25:10.073 +07:00 [DBG] Connection id "0HN87HVO5FAFL" stopped.
2024-11-18 13:25:36.949 +07:00 [DBG] Connection id "0HN87HVO5FAFM" accepted.
2024-11-18 13:25:36.950 +07:00 [DBG] Connection id "0HN87HVO5FAFM" started.
2024-11-18 13:25:36.958 +07:00 [DBG] Connection 0HN87HVO5FAFM established using the following protocol: "Tls13"
2024-11-18 13:25:36.959 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-18 13:25:36.959 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:36.964 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:36.965 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:36.966 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:36.966 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:36.966 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:36.967 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:36.967 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:36.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:36.968 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:36.968 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:36.969 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:36.970 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:36.970 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:36.971 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:36.971 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:36.972 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:36.972 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:36.973 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:36.973 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:36.974 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:36.975 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:36.975 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:36.976 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:36.977 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:36.978 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:36.979 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:36.979 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:36.980 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:36.981 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:36.981 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:36.982 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:36.982 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:36.983 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:36.983 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:36.984 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:36.985 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:36.985 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:36.986 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:36.986 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:36.987 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:36.987 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:36.988 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:36.988 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:36.989 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:36.989 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:36.990 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:36.990 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:36.991 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:36.992 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.992 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.993 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.993 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.994 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.995 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.995 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:36.996 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:36.996 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.997 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:36.998 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:36.998 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:36.999 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:36.999 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:37.000 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:37.001 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:37.001 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:37.002 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:37.002 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:37.003 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:37.004 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:37.004 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:37.005 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:37.005 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:37.006 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:37.007 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:37.008 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:37.008 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:37.009 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:37.009 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:37.010 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:37.011 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:37.011 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:37.012 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:37.013 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:37.014 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:37.015 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:37.015 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:37.015 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:37.016 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:37.016 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.016 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.017 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.017 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:37.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:37.019 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:37.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:37.020 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:25:37.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:25:37.021 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 13:25:37.022 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:37.025 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:37.027 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 13:25:37.027 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.028 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.028 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:37.029 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:37.030 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.030 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.031 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:37.031 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:37.032 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:37.033 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:37.034 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:37.035 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:37.036 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:37.036 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:37.036 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:37.037 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:37.037 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:37.037 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:37.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:37.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:37.041 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.8964ms
2024-11-18 13:25:37.042 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.8812ms
2024-11-18 13:25:37.044 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:37.045 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:37.046 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:37.047 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:37.047 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.048 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:37.048 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:37.049 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:37.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 90.1864ms
2024-11-18 13:25:37.050 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 90.8328ms
2024-11-18 13:25:38.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:38.361 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:38.359 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - null null
2024-11-18 13:25:38.361 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:38.362 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:38.363 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:38.363 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:38.364 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:38.364 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:38.365 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:38.365 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:38.366 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.367 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:38.367 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:38.368 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.368 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.369 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:38.369 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:38.370 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.370 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:38.371 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:38.371 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:38.372 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:38.373 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.373 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:38.374 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:38.375 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.375 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.376 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:38.377 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.377 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.378 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.379 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.380 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.380 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.381 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:38.381 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.382 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.382 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:38.383 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.383 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.384 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.384 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.385 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.386 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.386 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.387 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.387 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:38.388 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.388 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.389 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:38.390 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.390 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.391 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.391 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.392 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.392 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.393 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.394 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.395 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.394 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.397 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.397 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:38.398 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:38.399 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.399 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.400 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.401 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.401 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.402 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.402 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.403 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.404 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.404 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.405 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:38.405 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:38.406 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.406 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.407 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.407 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.408 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.409 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.409 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.410 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.411 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:38.411 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:38.412 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:38.413 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:38.413 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:38.413 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:38.414 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.414 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.415 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.416 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:38.417 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:38.417 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:38.418 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:38.418 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:38.419 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:38.419 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:38.420 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:38.421 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:38.423 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.424 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:38.424 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:38.424 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.425 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.426 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:38.426 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:38.427 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:38.428 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.429 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:38.430 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:38.430 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:38.431 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:38.431 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:38.432 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:38.433 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:38.433 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:38.433 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:38.434 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:38.435 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:38.436 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.2855ms
2024-11-18 13:25:38.436 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:38.437 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.438 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.9084ms
2024-11-18 13:25:38.438 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:38.439 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.439 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.440 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:38.440 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:25:38.441 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.442 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 84.4572ms
2024-11-18 13:25:38.442 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:38.445 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - 200 2123 application/json; charset=utf-8 85.3863ms
2024-11-18 13:25:38.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:38.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - null null
2024-11-18 13:25:38.563 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:38.564 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:38.564 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:38.565 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:38.565 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:38.565 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:38.566 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:38.566 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:38.567 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:38.568 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:38.569 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.569 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.570 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:38.570 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:38.571 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.571 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.571 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:38.572 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:38.573 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:38.574 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:38.574 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:38.575 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:38.576 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.576 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.577 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:38.578 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:38.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:38.580 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.581 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.581 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.582 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:38.583 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.583 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.584 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:38.584 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:38.585 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.586 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.586 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.587 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.587 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.588 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:38.588 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.589 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:38.590 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.590 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.591 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:38.591 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:38.592 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.592 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.593 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.593 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.594 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.595 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.595 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.596 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:38.597 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.597 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:38.598 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.598 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.599 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:38.599 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:38.600 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.601 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.601 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.602 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.602 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.603 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:38.604 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.604 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:38.605 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.606 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.606 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:38.607 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:38.607 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.608 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.609 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.609 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.610 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.610 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:38.611 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.611 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:38.612 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:38.613 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:38.613 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:38.614 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:38.614 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:38.615 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:38.615 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.616 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.616 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.617 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:38.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:38.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:38.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:38.619 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:38.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:38.620 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:38.621 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:38.622 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:38.624 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:38.624 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.625 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.626 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:38.626 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:25:38.627 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.627 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.628 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:38.628 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:25:38.629 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:38.630 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:38.631 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:38.632 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:38.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:38.633 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:38.633 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:38.633 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:38.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:38.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:38.634 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:38.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:38.637 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.211ms
2024-11-18 13:25:38.637 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.5155ms
2024-11-18 13:25:38.638 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.638 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:38.639 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:38.639 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:38.640 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.640 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:38.641 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:25:38.641 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:38.642 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - 200 2100 application/json; charset=utf-8 80.5638ms
2024-11-18 13:25:38.643 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 81.2299ms
2024-11-18 13:25:39.549 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - null null
2024-11-18 13:25:39.549 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:39.551 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:39.552 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:39.552 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:39.553 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:39.553 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:39.554 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:39.554 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:39.555 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:39.555 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:39.556 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:39.557 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:39.557 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:39.558 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:39.558 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:39.559 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:39.559 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:39.560 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:39.560 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:39.561 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:39.562 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:39.562 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:39.563 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:39.564 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:39.564 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:39.565 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:39.566 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:39.566 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:39.567 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:39.568 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:39.569 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:39.570 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:39.570 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:39.571 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:39.571 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:39.572 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:39.572 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:39.573 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:39.574 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:39.574 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:39.575 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:39.575 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:39.576 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:39.576 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:39.577 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:39.577 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:39.578 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:39.578 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:39.579 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:39.579 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.580 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.581 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.581 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.582 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.583 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.583 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:39.584 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:39.584 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.585 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:39.585 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:39.586 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:39.586 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:39.587 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:39.588 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:39.588 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:39.589 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:39.590 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:39.590 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:39.591 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:39.591 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:39.592 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:39.592 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:39.593 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:39.593 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:39.594 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:39.595 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:39.595 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:39.596 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:39.596 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:39.597 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:39.598 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:39.598 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:39.599 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:39.600 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:39.600 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:39.601 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:39.602 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:39.602 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:25:39.602 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:39.603 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.604 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.604 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.605 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.605 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:39.606 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:39.606 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:39.607 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:39.607 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:39.608 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:39.609 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:39.609 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:39.611 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:39.612 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:39.613 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.614 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.614 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:39.615 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:39.616 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.616 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.617 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:39.618 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:39.619 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:39.620 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:39.621 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:39.622 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:39.622 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:39.623 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:39.623 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:39.623 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:39.624 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:39.624 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:39.625 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:39.625 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:39.626 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.6962ms
2024-11-18 13:25:39.628 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:39.628 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.0713ms
2024-11-18 13:25:39.628 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:39.629 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:39.630 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.630 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:39.631 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:39.632 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:39.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - 200 2123 application/json; charset=utf-8 83.1333ms
2024-11-18 13:25:39.633 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:39.635 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 86.065ms
2024-11-18 13:25:41.251 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-18 13:25:41.251 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:41.253 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:41.254 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:41.254 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:41.255 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:41.255 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:41.255 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:41.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:41.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:41.257 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:41.258 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:41.258 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.259 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.259 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:41.260 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:41.260 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.261 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:41.262 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:41.263 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:41.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:41.264 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:41.265 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:41.265 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.267 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:41.268 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:41.268 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.269 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.270 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.270 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.271 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.272 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.272 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.273 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:41.274 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:41.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.275 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.276 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.276 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.277 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.278 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.278 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.280 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:41.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:41.281 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.282 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.283 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.285 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.286 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.287 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.287 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:41.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:41.289 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.290 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.291 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.292 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.293 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.294 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.294 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.295 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:41.296 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:41.296 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.297 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.298 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.299 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.299 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.300 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.300 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.301 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:41.302 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:41.303 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:41.303 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:41.304 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:41.304 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:41.304 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.305 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.306 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.306 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.307 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:41.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:41.308 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:41.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:41.309 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:41.310 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:25:41.310 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 13:25:41.311 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:41.313 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-18 13:25:41.314 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:41.314 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.315 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.316 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:41.316 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:41.317 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.318 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.319 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:41.320 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:41.321 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:41.321 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:41.323 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:41.324 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:41.324 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:41.324 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:41.325 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:41.325 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:41.326 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:41.326 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:41.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:41.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:41.328 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.9294ms
2024-11-18 13:25:41.329 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.330 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.2465ms
2024-11-18 13:25:41.330 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:41.331 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.331 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.332 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:41.333 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:41.333 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.334 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 82.7494ms
2024-11-18 13:25:41.334 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:41.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 85.2556ms
2024-11-18 13:25:41.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:25:41.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:25:41.676 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:41.677 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:25:41.677 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:41.677 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:25:41.678 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:41.678 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:25:41.679 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:41.679 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:25:41.680 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:41.680 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:25:41.681 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.682 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.682 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:41.683 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:25:41.683 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.683 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.684 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:41.691 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:25:41.692 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:41.694 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:25:41.694 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:41.695 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:25:41.697 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.697 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.699 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:41.700 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:25:41.701 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.702 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:25:41.703 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.704 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.705 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.706 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:25:41.707 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.708 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.708 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:41.711 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.709 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:25:41.711 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.714 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.715 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.716 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.717 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.718 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:25:41.719 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.720 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:25:41.720 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:41.721 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.721 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.722 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:25:41.723 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.724 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.725 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.725 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.726 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.727 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.728 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.728 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:25:41.729 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.729 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:25:41.730 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:41.731 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.731 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.732 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:25:41.732 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.733 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.734 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.734 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.735 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.735 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:25:41.736 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.736 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:25:41.737 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:41.737 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.738 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.738 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:25:41.739 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.739 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.740 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.741 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.741 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.742 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:25:41.743 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:41.743 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:25:41.744 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:41.744 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:25:41.744 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:41.745 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:25:41.746 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.746 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:25:41.747 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.747 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.748 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:41.749 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.749 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:41.750 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:25:41.750 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:25:41.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:25:41.751 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:41.752 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:25:41.753 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:25:41.753 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:41.754 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.756 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:41.756 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:25:41.757 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.758 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.758 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:41.759 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:25:41.760 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:41.760 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.762 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:41.762 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:25:41.763 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:41.764 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:25:41.764 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:41.765 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:25:41.765 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:41.766 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:25:41.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:41.767 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:25:41.767 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.8888ms
2024-11-18 13:25:41.767 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:25:41.768 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:25:41.769 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:41.771 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.772 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.5214ms
2024-11-18 13:25:41.772 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:25:41.773 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:25:41.773 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 99.3074ms
2024-11-18 13:25:41.774 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:25:41.777 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:25:41.777 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:25:41.779 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 104.5279ms
2024-11-18 13:28:38.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:28:38.245 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:28:38.251 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:28:38.252 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:28:38.253 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:28:38.253 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:28:38.254 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:28:38.254 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:28:38.255 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:28:38.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:28:38.256 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:28:38.257 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:28:38.258 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:28:38.259 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:28:38.260 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:28:38.260 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:28:38.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:28:38.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:28:38.262 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:28:38.263 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:28:38.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:28:38.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:28:38.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:28:38.267 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:28:38.267 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:28:38.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:28:38.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:28:38.270 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:28:38.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:28:38.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:28:38.273 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:28:38.273 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:28:38.274 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:28:38.274 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:28:38.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:28:38.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:28:38.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:28:38.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:28:38.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:28:38.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:28:38.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:28:38.279 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:28:38.280 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:28:38.280 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:28:38.281 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:28:38.281 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:28:38.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:28:38.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:28:38.283 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:28:38.283 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:28:38.284 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.285 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.287 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.288 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.288 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:28:38.289 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:28:38.289 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.290 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:28:38.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:28:38.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:28:38.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:28:38.292 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:28:38.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:28:38.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:28:38.294 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:28:38.294 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:28:38.295 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:28:38.295 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:28:38.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:28:38.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:28:38.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:28:38.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:28:38.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:28:38.299 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:28:38.299 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:28:38.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:28:38.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:28:38.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:28:38.302 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:28:38.302 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:28:38.303 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:28:38.303 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:28:38.305 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:28:38.305 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:28:38.310 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:28:38.311 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:28:38.311 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:28:38.311 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:28:38.312 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.312 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.313 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.314 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.314 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:28:38.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:28:38.315 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:28:38.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:28:38.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:28:38.317 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:28:38.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:28:38.318 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:28:38.323 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:28:38.323 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:28:38.324 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.325 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.325 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:28:38.326 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:28:38.326 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.327 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.328 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:28:38.328 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:28:38.329 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:28:38.330 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:28:38.331 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:28:38.332 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:28:38.332 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:28:38.333 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:28:38.333 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:28:38.334 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:28:38.335 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:28:38.335 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:28:38.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:28:38.336 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:28:38.337 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.7439ms
2024-11-18 13:28:38.339 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:28:38.344 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:28:38.346 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 72.7372ms
2024-11-18 13:28:38.346 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.350 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:28:38.351 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-18 13:28:38.352 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:28:38.353 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 108.0938ms
2024-11-18 13:28:38.353 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:28:38.356 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 13:28:38.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 112.7477ms
2024-11-18 13:29:01.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:29:01.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:29:01.254 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:29:01.255 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:29:01.255 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:29:01.255 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:29:01.256 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:29:01.256 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:29:01.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:29:01.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:29:01.258 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:29:01.259 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:29:01.260 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:01.261 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:01.261 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:29:01.261 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:29:01.262 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:01.262 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:01.263 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:29:01.264 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:29:01.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:29:01.266 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:29:01.267 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:29:01.267 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:29:01.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:01.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:01.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:29:01.271 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:29:01.272 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:01.272 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:01.273 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:01.274 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:01.275 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:01.276 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:01.278 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:29:01.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:29:01.279 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:29:01.279 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:29:01.281 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:01.282 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:01.282 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:01.283 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:01.284 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:29:01.285 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:29:01.286 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:29:01.286 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:29:01.287 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:01.288 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:01.288 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:29:01.289 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:29:01.290 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.291 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.290 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.292 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.293 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.293 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:01.294 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.295 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.296 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:01.296 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:01.297 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:01.299 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:29:01.300 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:01.301 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:01.301 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:29:01.302 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:01.303 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:01.304 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:01.304 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:01.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:01.306 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:01.306 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:01.307 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:01.308 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:29:01.308 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:01.309 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:01.310 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:29:01.310 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:01.311 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:01.311 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:01.312 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:01.313 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:01.314 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:01.315 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:29:01.315 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:01.317 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:29:01.317 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:29:01.317 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:29:01.318 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.319 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:29:01.319 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.320 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:29:01.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:29:01.321 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:29:01.322 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:29:01.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:29:01.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:29:01.324 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:29:01.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:29:01.325 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:29:01.329 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:29:01.329 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:29:01.331 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.332 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.332 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:29:01.333 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:29:01.334 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.334 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.335 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:29:01.336 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:29:01.336 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:29:01.337 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:29:01.338 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:29:01.339 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:29:01.340 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:29:01.340 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:29:01.341 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:29:01.341 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:29:01.342 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:29:01.343 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:29:01.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:29:01.344 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:29:01.346 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.9253ms
2024-11-18 13:29:01.376 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:01.380 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 107.2068ms
2024-11-18 13:29:01.382 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:29:01.383 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:01.383 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.384 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:29:01.384 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:29:01.385 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:01.386 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 137.7925ms
2024-11-18 13:29:01.386 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:29:01.389 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 141.3975ms
2024-11-18 13:29:56.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:29:56.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:29:56.261 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:29:56.264 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:29:56.264 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:29:56.265 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:29:56.265 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:29:56.266 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:29:56.266 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:29:56.267 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:29:56.267 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:29:56.268 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:29:56.269 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:56.270 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:56.270 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:29:56.271 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:29:56.272 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:56.273 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:56.273 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:29:56.274 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:29:56.274 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:29:56.276 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:29:56.277 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:29:56.278 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:29:56.279 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:56.279 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:56.280 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:29:56.281 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:29:56.281 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:56.282 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:29:56.283 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:56.284 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:56.285 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:56.286 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:29:56.287 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:29:56.287 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:29:56.288 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:29:56.289 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:29:56.289 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:56.291 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:56.291 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:56.292 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:29:56.293 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:29:56.293 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:29:56.294 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:29:56.294 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:29:56.295 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:56.296 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:56.296 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:29:56.297 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:29:56.298 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.298 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.299 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.300 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.300 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.301 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.301 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:56.302 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:29:56.302 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.304 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:56.303 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:29:56.305 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:29:56.305 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:56.306 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:56.307 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:29:56.307 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:56.308 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:56.308 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:56.308 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:56.309 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:56.309 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:29:56.310 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:56.311 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:29:56.311 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:29:56.312 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:56.312 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:56.313 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:29:56.313 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:56.314 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:56.314 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:56.315 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:56.315 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:56.316 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:29:56.317 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:29:56.317 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:29:56.318 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:29:56.319 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:29:56.319 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:29:56.319 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.321 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:29:56.321 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.321 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:29:56.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:29:56.322 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:29:56.323 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.324 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:29:56.326 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:29:56.326 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:29:56.327 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:29:56.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:29:56.329 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:29:56.330 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:29:56.332 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.332 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:29:56.333 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:29:56.334 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.334 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.335 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:29:56.335 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:29:56.336 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.337 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:29:56.337 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:29:56.339 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:29:56.340 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:29:56.340 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:29:56.341 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:29:56.341 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:29:56.342 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:29:56.342 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:29:56.342 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:29:56.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:29:56.343 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:29:56.345 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:29:56.348 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.5375ms
2024-11-18 13:29:56.352 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.2247ms
2024-11-18 13:29:56.354 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:56.355 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:29:56.356 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:29:56.356 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:29:56.357 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.357 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:29:56.358 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:29:56.358 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:29:56.359 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 102.983ms
2024-11-18 13:29:56.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 105ms
2024-11-18 13:30:02.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:30:02.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:30:02.244 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:30:02.245 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:30:02.246 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:30:02.246 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:30:02.246 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:30:02.247 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:30:02.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:30:02.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:30:02.248 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:30:02.249 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:30:02.250 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:02.250 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:02.251 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:30:02.251 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:30:02.252 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:02.252 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:02.253 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:30:02.253 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:30:02.254 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:30:02.255 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:30:02.256 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:30:02.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:30:02.258 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:02.259 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:02.260 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:30:02.261 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:30:02.263 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:02.264 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:02.265 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:02.266 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:02.267 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:02.267 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:02.268 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:30:02.268 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:30:02.270 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:30:02.270 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:30:02.271 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:02.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:02.273 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:02.274 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:02.274 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:30:02.275 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:30:02.276 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:30:02.277 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:30:02.277 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:02.278 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:02.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:30:02.279 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:30:02.280 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.281 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.282 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.284 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.285 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:02.286 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:02.286 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.287 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:02.288 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:02.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:02.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:30:02.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:30:02.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:02.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:02.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:02.294 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:02.294 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:02.295 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:02.295 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:02.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:02.297 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:02.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:02.298 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:30:02.299 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:30:02.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:02.300 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:02.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:02.301 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:02.302 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:02.303 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:02.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:02.304 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:02.305 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:30:02.306 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:30:02.307 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:30:02.307 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:30:02.308 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:30:02.308 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:30:02.308 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.309 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.309 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.310 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.311 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:30:02.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:30:02.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:30:02.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:30:02.313 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:30:02.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:30:02.314 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:30:02.315 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:30:02.319 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:30:02.319 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:30:02.321 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.321 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.322 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:30:02.322 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:30:02.323 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.324 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.325 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:30:02.325 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:30:02.326 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:30:02.327 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:30:02.328 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:30:02.329 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:30:02.330 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:30:02.330 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:30:02.330 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:30:02.331 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:30:02.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:30:02.333 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:30:02.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:30:02.334 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:30:02.336 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.3575ms
2024-11-18 13:30:02.336 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.5852ms
2024-11-18 13:30:02.337 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:02.337 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:02.339 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:30:02.340 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:30:02.341 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.341 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:02.342 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:30:02.343 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:30:02.343 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 100.7216ms
2024-11-18 13:30:02.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 101.4028ms
2024-11-18 13:30:26.263 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:30:26.264 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:30:26.270 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:30:26.272 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:30:26.272 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:30:26.273 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:30:26.273 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:30:26.273 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:30:26.274 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:30:26.275 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:30:26.276 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:30:26.277 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:30:26.278 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:26.278 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:26.279 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:30:26.279 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:30:26.280 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:26.280 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:26.281 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:30:26.281 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:30:26.283 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:30:26.284 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:30:26.285 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:30:26.286 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:30:26.287 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:26.287 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:26.288 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:30:26.290 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:30:26.290 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:26.291 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:30:26.292 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:26.292 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:26.293 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:26.293 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:30:26.294 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:30:26.294 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:30:26.295 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:30:26.295 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:30:26.297 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:26.298 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:26.300 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:26.301 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:30:26.302 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:30:26.305 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:30:26.306 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:30:26.306 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:30:26.307 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:26.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:30:26.308 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:26.309 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.310 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:30:26.401 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.408 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.409 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.410 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.411 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:26.411 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.412 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.412 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:30:26.413 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:26.415 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:30:26.415 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:30:26.416 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:26.416 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:26.417 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:30:26.417 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:26.418 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:26.418 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:26.419 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:26.419 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:26.420 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:30:26.421 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:26.423 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:30:26.423 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:30:26.424 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:26.425 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:30:26.425 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:26.426 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:26.426 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:26.427 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:26.429 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:26.427 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:30:26.430 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:26.431 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:30:26.432 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:30:26.433 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:30:26.434 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:30:26.435 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:30:26.435 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:30:26.435 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:30:26.436 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.436 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.437 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.437 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:30:26.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:30:26.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:30:26.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:30:26.440 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:30:26.440 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:30:26.440 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:30:26.441 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:30:26.443 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:30:26.443 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:30:26.444 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.445 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:30:26.445 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.446 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.446 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:30:26.447 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 13:30:26.447 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.448 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:30:26.448 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:30:26.450 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:30:26.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:30:26.450 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:30:26.451 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:30:26.452 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:30:26.452 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:30:26.452 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:30:26.453 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:30:26.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:30:26.453 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:30:26.454 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 161.5983ms
2024-11-18 13:30:26.454 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:30:26.458 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:26.460 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:30:26.461 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.466 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-18 13:30:26.468 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 176.7983ms
2024-11-18 13:30:26.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 205.6859ms
2024-11-18 13:30:26.470 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:30:26.472 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:30:26.473 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:30:26.473 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:30:26.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 211.081ms
2024-11-18 13:31:20.537 +07:00 [DBG] Connection id "0HN87HVO5FAFM" received FIN.
2024-11-18 13:31:20.555 +07:00 [DBG] Connection id "0HN87HVO5FAFM" is closed. The last processed stream ID was 43.
2024-11-18 13:31:20.557 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFM completed.
2024-11-18 13:31:20.560 +07:00 [DBG] Connection id "0HN87HVO5FAFM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:31:20.565 +07:00 [DBG] Connection id "0HN87HVO5FAFM" stopped.
2024-11-18 13:32:07.344 +07:00 [DBG] Connection id "0HN87HVO5FAFN" accepted.
2024-11-18 13:32:07.346 +07:00 [DBG] Connection id "0HN87HVO5FAFN" started.
2024-11-18 13:32:07.355 +07:00 [DBG] Connection 0HN87HVO5FAFN established using the following protocol: "Tls13"
2024-11-18 13:32:07.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:32:07.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:32:07.369 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:32:07.370 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:32:07.370 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:32:07.371 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:32:07.371 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:32:07.372 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:32:07.372 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:32:07.373 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:32:07.373 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:32:07.374 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:32:07.375 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:07.375 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:07.376 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:32:07.376 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:32:07.377 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:07.378 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:07.378 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:32:07.379 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:32:07.380 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:32:07.381 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:32:07.382 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:32:07.382 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:32:07.383 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:07.383 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:07.385 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:32:07.386 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:32:07.387 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:07.387 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:07.388 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:07.389 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:07.389 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:07.390 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:07.390 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:32:07.391 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:32:07.392 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:32:07.392 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:32:07.393 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:07.394 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:07.394 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:07.395 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:07.395 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:32:07.396 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:32:07.396 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:32:07.397 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:32:07.397 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:07.398 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:07.399 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:32:07.399 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:32:07.400 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.401 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.402 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.403 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.403 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.404 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.405 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:07.406 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:07.406 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.407 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:07.408 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:07.409 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:07.410 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:32:07.410 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:32:07.413 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:07.412 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:07.414 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:07.415 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:07.416 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:07.419 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:07.419 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:07.420 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:07.421 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:07.422 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:07.423 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:32:07.424 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:32:07.425 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:07.427 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:07.427 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:07.428 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:07.428 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:07.429 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:07.429 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:07.430 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:07.431 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:32:07.431 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:32:07.432 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:32:07.434 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:32:07.434 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:32:07.434 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:32:07.435 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.435 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.436 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.436 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.437 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:32:07.437 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:32:07.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:32:07.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:32:07.439 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:32:07.439 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:32:07.440 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:32:07.440 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:32:07.444 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:32:07.444 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:32:07.445 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.447 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.447 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:32:07.448 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:32:07.449 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.449 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.450 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:32:07.451 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:32:07.451 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:32:07.452 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:32:07.453 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:32:07.454 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:32:07.454 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:32:07.455 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:32:07.455 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:32:07.455 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:32:07.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:32:07.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:32:07.457 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:32:07.457 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:32:07.458 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.0053ms
2024-11-18 13:32:07.459 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:07.461 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:32:07.461 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.0361ms
2024-11-18 13:32:07.465 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.466 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:07.466 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:32:07.467 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:32:07.467 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 105.3969ms
2024-11-18 13:32:07.468 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:07.470 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:32:07.471 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 109.1025ms
2024-11-18 13:32:10.612 +07:00 [DBG] Connection id "0HN87HVO5FAFN" received FIN.
2024-11-18 13:32:10.612 +07:00 [DBG] Connection id "0HN87HVO5FAFN" is closed. The last processed stream ID was 3.
2024-11-18 13:32:10.612 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFN completed.
2024-11-18 13:32:10.613 +07:00 [DBG] Connection id "0HN87HVO5FAFN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:32:10.626 +07:00 [DBG] Connection id "0HN87HVO5FAFN" stopped.
2024-11-18 13:32:19.956 +07:00 [DBG] Connection id "0HN87HVO5FAFO" accepted.
2024-11-18 13:32:19.957 +07:00 [DBG] Connection id "0HN87HVO5FAFO" started.
2024-11-18 13:32:19.961 +07:00 [DBG] Connection 0HN87HVO5FAFO established using the following protocol: "Tls13"
2024-11-18 13:32:19.963 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:32:19.963 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:32:19.964 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:32:19.965 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:32:19.966 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:32:19.966 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:32:19.967 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:32:19.967 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:32:19.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:32:19.969 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:32:19.969 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:32:19.970 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:32:19.970 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:19.971 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:19.971 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:32:19.972 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:32:19.972 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:19.973 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:19.973 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:32:19.974 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:32:19.975 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:32:19.976 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:32:19.976 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:32:19.977 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:32:19.977 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:19.978 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:19.979 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:32:19.980 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:32:19.980 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:19.981 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:32:19.982 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:19.983 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:19.984 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:19.984 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:32:19.985 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:32:19.985 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:32:19.986 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:32:19.986 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:32:19.987 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:19.988 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:19.988 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:19.989 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:32:19.989 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:32:19.990 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:32:19.991 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:32:19.991 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:32:19.992 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:19.992 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:19.993 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:32:19.993 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:32:19.994 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.995 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.995 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.996 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.997 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.997 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.998 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:19.998 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:32:19.999 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:19.999 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:32:20.000 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:20.000 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:20.001 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:32:20.002 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:32:20.002 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:20.003 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:20.004 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:20.005 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:20.005 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:20.006 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:32:20.006 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:20.007 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:32:20.007 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:20.008 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:20.008 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:32:20.009 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:32:20.009 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:20.010 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:20.011 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:20.011 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:20.012 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:20.012 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:32:20.013 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:20.013 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:32:20.014 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:32:20.015 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:32:20.016 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:32:20.017 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:32:20.017 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:32:20.017 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:32:20.018 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.018 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.019 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.019 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:32:20.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:32:20.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:32:20.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:32:20.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:32:20.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:32:20.023 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:32:20.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:32:20.027 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:32:20.027 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:32:20.028 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.028 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.029 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:32:20.030 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:32:20.030 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.031 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.032 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:32:20.032 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:32:20.033 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:32:20.033 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:32:20.034 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:32:20.035 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:32:20.036 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:32:20.036 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:32:20.037 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:32:20.037 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:32:20.037 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:32:20.038 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:32:20.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:32:20.039 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:32:20.041 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.8145ms
2024-11-18 13:32:20.041 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.7305ms
2024-11-18 13:32:20.042 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:20.041 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:32:20.042 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:32:20.043 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:32:20.044 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.044 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:32:20.045 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:32:20.045 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:32:20.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 83.247ms
2024-11-18 13:32:20.047 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.8596ms
2024-11-18 13:33:10.381 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:33:10.381 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:33:10.389 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:33:10.391 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:33:10.392 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:33:10.393 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:33:10.393 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:33:10.394 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:33:10.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:33:10.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:33:10.396 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:33:10.397 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:33:10.398 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:10.400 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:10.401 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:33:10.402 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:33:10.402 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:10.403 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:10.404 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:33:10.404 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:33:10.406 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:33:10.407 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:33:10.408 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:33:10.409 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:33:10.410 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:10.412 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:10.414 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:33:10.416 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:33:10.427 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:10.428 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:10.429 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:10.431 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:10.433 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:10.433 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:10.434 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:33:10.435 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:33:10.436 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:33:10.437 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:33:10.437 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:10.439 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:10.440 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:10.440 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:10.441 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:33:10.442 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:33:10.442 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:33:10.443 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:33:10.443 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:10.444 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:10.444 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:33:10.445 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:33:10.446 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.447 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.448 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.449 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.450 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.450 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.451 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:10.452 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:10.453 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.454 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:10.455 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:10.456 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:10.456 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:33:10.457 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:33:10.458 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:10.459 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:10.460 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:10.460 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:10.461 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:10.462 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:10.463 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:10.463 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:10.464 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:10.464 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:10.465 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:33:10.466 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:33:10.467 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:10.468 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:10.469 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:10.470 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:10.470 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:10.471 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:10.471 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:10.472 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:10.472 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:33:10.474 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:33:10.474 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:33:10.475 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:33:10.475 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:33:10.476 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:33:10.476 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.477 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.477 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.478 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.478 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:33:10.479 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:33:10.480 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:33:10.480 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:33:10.481 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:33:10.482 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:33:10.483 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:33:10.483 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:33:10.488 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:33:10.488 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:33:10.490 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.490 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.490 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:33:10.491 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:33:10.492 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.493 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.493 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:33:10.494 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:33:10.495 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:33:10.496 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:33:10.497 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:33:10.498 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:33:10.498 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:33:10.499 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:33:10.499 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:33:10.499 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:33:10.500 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:33:10.500 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:33:10.501 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:33:10.501 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:33:10.503 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 72.7957ms
2024-11-18 13:33:10.505 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 75.7498ms
2024-11-18 13:33:10.513 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:10.515 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:10.515 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:33:10.516 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:33:10.516 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.517 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:10.518 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:33:10.519 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:33:10.519 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 138.038ms
2024-11-18 13:33:10.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 139.622ms
2024-11-18 13:33:15.706 +07:00 [DBG] Connection id "0HN87HVO5FAFO" received FIN.
2024-11-18 13:33:15.706 +07:00 [DBG] Connection id "0HN87HVO5FAFO" is closed. The last processed stream ID was 7.
2024-11-18 13:33:15.706 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFO completed.
2024-11-18 13:33:15.707 +07:00 [DBG] Connection id "0HN87HVO5FAFO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 13:33:15.720 +07:00 [DBG] Connection id "0HN87HVO5FAFO" stopped.
2024-11-18 13:33:53.546 +07:00 [DBG] Connection id "0HN87HVO5FAFP" accepted.
2024-11-18 13:33:53.550 +07:00 [DBG] Connection id "0HN87HVO5FAFP" started.
2024-11-18 13:33:53.554 +07:00 [DBG] Connection 0HN87HVO5FAFP established using the following protocol: "Tls13"
2024-11-18 13:33:53.559 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:33:53.559 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:33:53.563 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:33:53.564 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:33:53.565 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:33:53.565 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:33:53.565 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:33:53.566 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:33:53.566 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:33:53.566 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:33:53.567 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:33:53.567 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:33:53.568 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:53.569 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:53.569 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:33:53.570 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:33:53.570 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:53.571 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:53.571 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:33:53.572 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:33:53.573 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:33:53.573 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:33:53.574 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:33:53.574 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:33:53.575 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:53.576 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:53.577 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:33:53.578 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:33:53.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:53.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:53.580 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:53.581 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:53.581 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:53.582 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:53.582 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:33:53.583 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:33:53.584 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:33:53.584 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:33:53.585 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:53.586 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:53.586 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:53.587 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:53.587 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:33:53.588 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:33:53.588 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:33:53.589 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:33:53.589 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:53.590 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:53.590 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:33:53.591 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:33:53.592 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.593 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.593 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.594 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.594 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.595 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.595 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:53.596 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:53.597 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.597 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:53.598 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:53.599 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:53.599 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:33:53.600 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:33:53.600 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:53.601 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:53.602 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:53.602 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:53.603 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:53.603 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:53.604 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:53.604 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:53.605 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:53.605 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:53.606 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:33:53.607 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:33:53.607 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:53.608 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:53.609 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:53.609 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:53.610 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:53.610 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:53.611 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:53.612 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:53.613 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:33:53.613 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:33:53.614 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:33:53.615 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:33:53.615 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:33:53.615 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:33:53.615 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.616 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.616 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.617 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:33:53.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:33:53.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:33:53.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:33:53.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:33:53.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:33:53.621 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:33:53.621 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:33:53.625 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:33:53.625 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:33:53.626 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.627 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.627 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:33:53.628 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:33:53.628 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.629 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.630 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:33:53.630 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:33:53.631 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:33:53.631 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:33:53.633 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:33:53.634 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:33:53.634 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:33:53.634 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:33:53.635 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:33:53.635 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:33:53.635 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:33:53.636 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:33:53.636 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:33:53.637 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:33:53.639 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.5011ms
2024-11-18 13:33:53.640 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.0148ms
2024-11-18 13:33:53.641 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:53.644 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:53.645 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:33:53.645 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:33:53.646 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.646 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:53.647 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:33:53.648 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:33:53.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 89.3531ms
2024-11-18 13:33:53.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 90.5393ms
2024-11-18 13:33:57.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:33:57.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:33:57.272 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:33:57.274 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:33:57.276 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:33:57.278 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:33:57.278 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:33:57.279 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:33:57.279 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:33:57.280 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:33:57.281 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:33:57.282 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:33:57.286 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:57.287 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:57.288 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:33:57.288 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:33:57.289 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:57.290 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:57.290 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:33:57.291 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:33:57.293 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:33:57.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:33:57.296 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:33:57.297 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:33:57.298 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:57.299 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:57.300 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:33:57.301 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:33:57.302 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:57.303 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:33:57.303 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:57.304 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:57.305 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:57.306 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:33:57.306 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:33:57.307 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:33:57.309 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:33:57.310 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:33:57.312 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:57.312 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:57.313 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:57.314 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:33:57.315 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:33:57.315 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:33:57.316 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:33:57.317 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:33:57.318 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:57.319 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:57.320 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:33:57.321 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:33:57.321 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.322 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.323 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.324 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.324 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.325 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.326 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:57.327 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:33:57.327 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.328 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:33:57.329 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:57.329 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:57.330 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:33:57.332 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:33:57.333 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:57.335 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:57.335 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:57.336 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:57.337 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:57.338 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:33:57.338 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:57.339 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:33:57.340 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:57.340 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:57.341 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:33:57.342 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:33:57.343 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:57.344 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:57.345 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:57.345 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:57.346 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:57.346 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:33:57.347 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:57.348 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:33:57.350 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:33:57.351 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:33:57.351 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:33:57.352 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:33:57.353 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:33:57.353 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:33:57.354 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.354 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.355 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.355 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.356 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:33:57.357 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:33:57.357 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:33:57.358 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:33:57.358 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:33:57.359 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:33:57.359 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:33:57.360 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:33:57.364 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:33:57.364 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:33:57.365 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.366 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.367 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:33:57.367 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:33:57.368 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.369 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.370 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:33:57.371 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:33:57.372 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:33:57.372 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:33:57.373 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:33:57.369 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:33:57.373 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:33:57.374 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:33:57.375 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:33:57.376 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:33:57.377 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 72.2222ms
2024-11-18 13:33:57.377 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:33:57.378 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:57.378 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:33:57.378 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:33:57.379 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:33:57.379 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.380 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:33:57.380 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:33:57.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 113.6669ms
2024-11-18 13:33:57.391 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.2654ms
2024-11-18 13:33:57.393 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:33:57.394 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:33:57.395 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:33:57.396 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:33:57.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 127.4045ms
2024-11-18 13:34:10.457 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:34:10.457 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:34:10.458 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:34:10.460 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:34:10.460 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:34:10.461 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:34:10.461 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:34:10.461 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:34:10.462 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:34:10.463 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:34:10.463 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:34:10.464 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:34:10.465 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:10.465 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:10.466 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:34:10.466 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:34:10.467 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:10.467 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:10.468 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:34:10.469 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:34:10.470 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:34:10.470 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:34:10.471 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:34:10.472 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:34:10.473 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:10.474 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:10.475 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:34:10.476 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:34:10.476 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:10.477 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:10.478 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:10.479 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:10.480 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:10.481 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:10.481 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:34:10.482 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:34:10.482 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:34:10.483 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:34:10.483 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:10.484 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:10.485 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:10.486 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:10.486 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:34:10.487 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:34:10.488 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:34:10.488 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:34:10.489 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:10.490 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:10.490 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:34:10.491 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:34:10.492 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.493 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.493 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.494 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.495 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.496 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.496 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:10.497 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:10.497 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.498 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:10.498 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:10.499 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:10.500 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:34:10.501 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:34:10.502 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:10.502 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:10.503 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:10.503 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:10.504 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:10.505 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:10.505 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:10.506 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:10.507 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:10.507 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:10.508 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:34:10.509 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:34:10.509 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:10.510 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:10.511 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:10.511 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:10.512 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:10.513 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:10.513 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:10.514 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:10.515 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:34:10.516 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:34:10.517 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:34:10.518 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:34:10.518 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:34:10.518 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:34:10.519 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.519 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.520 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.521 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.521 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:34:10.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:34:10.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:34:10.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:34:10.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:34:10.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:34:10.525 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:34:10.526 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:34:10.530 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:34:10.530 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:34:10.531 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.532 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.533 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:34:10.534 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:34:10.535 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.535 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.536 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:34:10.537 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:34:10.537 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:34:10.538 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:34:10.539 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:34:10.541 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:34:10.541 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:34:10.542 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:34:10.542 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:34:10.543 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:34:10.543 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:34:10.543 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:34:10.544 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:34:10.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:34:10.547 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.8002ms
2024-11-18 13:34:10.547 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.9622ms
2024-11-18 13:34:10.548 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:10.549 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:10.549 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:34:10.550 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:34:10.551 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.551 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:10.552 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:34:10.553 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:34:10.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.8424ms
2024-11-18 13:34:10.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 97.5307ms
2024-11-18 13:34:39.746 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:34:39.746 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:34:39.751 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:34:39.752 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:34:39.752 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:34:39.753 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:34:39.753 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:34:39.753 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:34:39.754 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:34:39.754 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:34:39.755 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:34:39.756 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:34:39.756 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:39.757 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:39.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:34:39.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:34:39.759 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:39.759 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:39.760 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:34:39.760 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:34:39.761 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:34:39.762 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:34:39.763 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:34:39.763 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:34:39.764 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:39.765 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:39.766 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:34:39.766 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:34:39.767 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:39.768 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:39.768 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:39.769 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:39.770 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:39.771 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:39.771 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:34:39.772 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:34:39.772 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:34:39.773 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:34:39.773 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:39.774 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:39.775 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:39.775 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:39.776 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:34:39.777 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:34:39.777 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:34:39.778 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:34:39.778 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:39.779 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:39.779 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:34:39.780 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:34:39.781 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.781 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.782 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.783 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.783 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.784 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.784 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:39.785 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:39.786 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.786 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:39.787 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:39.787 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:39.788 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:34:39.788 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:34:39.789 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:39.789 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:39.790 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:39.791 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:39.791 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:39.792 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:39.793 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:39.793 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:39.794 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:39.794 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:39.795 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:34:39.795 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:34:39.796 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:39.796 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:39.797 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:39.798 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:39.798 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:39.799 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:39.800 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:39.800 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:39.801 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:34:39.801 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:34:39.802 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:34:39.803 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:34:39.803 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:34:39.803 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:34:39.804 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.805 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.805 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.806 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.806 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:34:39.807 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:34:39.807 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:34:39.808 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:34:39.808 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:34:39.809 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:34:39.809 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:34:39.810 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:34:39.813 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:34:39.813 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:34:39.815 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.815 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.816 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:34:39.816 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-18 13:34:39.817 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.818 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.818 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:34:39.819 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:34:39.820 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:34:39.820 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:34:39.821 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:34:39.822 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:34:39.823 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:34:39.823 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:34:39.823 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:34:39.824 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:34:39.824 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:34:39.825 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:34:39.825 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:34:39.826 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:34:39.828 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.6573ms
2024-11-18 13:34:39.829 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.8232ms
2024-11-18 13:34:39.831 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:39.833 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:39.833 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:34:39.834 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:34:39.837 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.838 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:39.839 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 13:34:39.839 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:34:39.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 93.9926ms
2024-11-18 13:34:39.841 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.0919ms
2024-11-18 13:34:45.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:34:45.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:34:45.231 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:34:45.234 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:34:45.234 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:34:45.235 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:34:45.235 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:34:45.236 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:34:45.236 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:34:45.237 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:34:45.238 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:34:45.239 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:34:45.240 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:45.241 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:45.242 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:34:45.243 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:34:45.243 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:45.244 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:45.244 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:34:45.245 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:34:45.245 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:34:45.246 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:34:45.247 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:34:45.248 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:34:45.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:45.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:45.251 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:34:45.252 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:34:45.253 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:45.253 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:34:45.254 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:45.255 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:45.256 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:45.258 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:34:45.259 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:34:45.259 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:34:45.260 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:34:45.261 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:34:45.261 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:45.263 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:45.264 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:45.265 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:34:45.265 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:34:45.266 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:34:45.267 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:34:45.267 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:34:45.268 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:45.269 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:45.269 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:34:45.270 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:34:45.271 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.272 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.273 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.274 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.274 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.275 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.275 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:45.277 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:34:45.277 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.278 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:34:45.279 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:45.279 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:45.280 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:34:45.281 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:34:45.281 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:45.283 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:45.282 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:45.283 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:45.284 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:45.285 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:45.286 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:34:45.286 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:45.287 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:34:45.288 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:34:45.288 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:45.289 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:45.290 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:34:45.291 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:45.292 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:45.292 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:45.293 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:45.294 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:45.294 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:34:45.295 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:34:45.296 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:34:45.297 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:34:45.298 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:34:45.298 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:34:45.298 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.300 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:34:45.300 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.300 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:34:45.301 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:34:45.301 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.302 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:34:45.302 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:34:45.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:34:45.305 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:34:45.305 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:34:45.307 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:34:45.307 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:34:45.308 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:34:45.309 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.310 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:34:45.310 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:34:45.310 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.312 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.313 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-18 13:34:45.313 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:34:45.314 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:34:45.315 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.316 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:34:45.316 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:34:45.317 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:34:45.317 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:34:45.318 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:34:45.319 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:34:45.319 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:34:45.319 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:34:45.320 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:34:45.320 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:34:45.321 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:34:45.322 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:34:45.326 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.7185ms
2024-11-18 13:34:45.329 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.6926ms
2024-11-18 13:34:45.331 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:45.332 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:34:45.332 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:34:45.333 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:34:45.333 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.334 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:34:45.334 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:34:45.335 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:34:45.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 106.1316ms
2024-11-18 13:34:45.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 106.5389ms
2024-11-18 13:35:00.795 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:35:00.795 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:35:00.797 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:35:00.798 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:35:00.798 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:35:00.799 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:35:00.799 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:35:00.799 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:35:00.800 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:35:00.800 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:35:00.801 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:35:00.801 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:35:00.802 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:00.802 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:00.803 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:35:00.804 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:35:00.804 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:00.805 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:00.805 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:35:00.806 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:35:00.807 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:35:00.808 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:35:00.809 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:35:00.810 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:35:00.810 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:00.811 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:00.812 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:35:00.813 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:35:00.813 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:00.814 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:00.815 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:00.815 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:00.816 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:00.817 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:00.817 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:35:00.818 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:35:00.818 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:35:00.819 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:35:00.820 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:00.820 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:00.821 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:00.821 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:00.822 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:35:00.822 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:35:00.823 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:35:00.824 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:35:00.824 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:00.825 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:00.825 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:35:00.826 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:35:00.827 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.827 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.828 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.829 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.829 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.830 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.831 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:00.831 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:00.832 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.832 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:00.833 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:00.834 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:00.834 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:35:00.835 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:35:00.835 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:00.836 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:00.837 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:00.837 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:00.838 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:00.838 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:00.839 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:00.840 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:00.841 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:00.841 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:00.842 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:35:00.842 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:35:00.843 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:00.844 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:00.844 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:00.845 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:00.846 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:00.846 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:00.847 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:00.848 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:00.849 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:35:00.850 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:35:00.851 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:35:00.851 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:35:00.852 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:35:00.852 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:35:00.853 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.854 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.855 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.855 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.856 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:35:00.856 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:35:00.857 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:35:00.857 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:35:00.858 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:35:00.858 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:35:00.859 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:35:00.859 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:35:00.861 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:35:00.862 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:35:00.863 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.864 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.864 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:35:00.865 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:35:00.865 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.866 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.867 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:35:00.867 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:35:00.868 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:35:00.869 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:35:00.870 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:35:00.871 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:35:00.872 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:35:00.872 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:35:00.872 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:35:00.873 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:35:00.873 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:35:00.874 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:35:00.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:35:00.875 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:35:00.876 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.1701ms
2024-11-18 13:35:00.877 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:00.878 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.3828ms
2024-11-18 13:35:00.879 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:35:00.883 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:00.883 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.884 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:35:00.884 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 13:35:00.885 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:00.886 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.775ms
2024-11-18 13:35:00.886 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:35:00.889 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 93.9385ms
2024-11-18 13:35:23.614 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:35:23.614 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:35:23.621 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:35:23.625 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:35:23.625 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:35:23.626 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:35:23.627 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:35:23.627 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:35:23.627 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:35:23.628 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:35:23.629 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:35:23.631 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:35:23.632 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:23.633 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:23.633 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:35:23.634 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:35:23.635 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:23.636 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:23.636 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:35:23.638 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:35:23.639 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:35:23.641 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:35:23.640 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:35:23.642 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:23.644 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:35:23.645 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:35:23.646 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:23.647 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:23.649 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:35:23.655 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:23.663 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:35:23.664 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:23.667 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:23.667 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:35:23.668 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:35:23.669 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:35:23.672 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:35:23.674 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:23.675 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:35:23.675 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:23.676 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:23.677 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:35:23.678 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:35:23.679 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:35:23.680 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:35:23.680 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:23.681 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:35:23.682 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:35:23.683 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:23.683 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.684 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:35:23.685 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.686 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.687 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.688 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.688 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:23.689 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.690 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.691 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:35:23.691 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:23.693 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:35:23.693 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:35:23.694 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:23.695 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:23.696 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:35:23.697 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:23.697 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:23.698 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:23.699 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:23.700 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:23.700 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:35:23.701 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:23.702 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:35:23.703 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:35:23.703 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:23.704 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:23.705 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:35:23.706 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:23.707 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:23.707 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:23.708 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:23.709 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:23.709 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:35:23.711 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:35:23.711 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:35:23.712 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:35:23.713 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:35:23.714 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:35:23.714 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:35:23.715 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:35:23.715 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.716 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.716 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.717 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.718 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:35:23.718 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:35:23.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:35:23.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 13:35:23.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:35:23.721 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:35:23.721 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:35:23.722 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:35:23.726 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:35:23.726 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:35:23.728 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.729 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.730 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 13:35:23.730 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:35:23.731 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.732 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.732 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:35:23.733 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:35:23.734 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:35:23.735 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:35:23.736 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:35:23.737 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:35:23.738 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:35:23.738 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:35:23.738 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:35:23.739 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:35:23.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:35:23.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:35:23.740 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:35:23.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:35:23.744 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 77.5606ms
2024-11-18 13:35:23.745 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:23.753 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:35:23.756 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 100.96ms
2024-11-18 13:35:23.756 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.757 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:35:23.757 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:35:23.758 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:35:23.759 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 144.6216ms
2024-11-18 13:35:23.759 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:35:23.762 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 13:35:23.763 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 149.679ms
2024-11-18 13:37:44.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 13:37:44.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 13:37:44.092 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:37:44.093 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 13:37:44.093 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:37:44.094 +07:00 [INF] CORS policy execution successful.
2024-11-18 13:37:44.094 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:37:44.095 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 13:37:44.095 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:37:44.096 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 13:37:44.097 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:37:44.098 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 13:37:44.099 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:37:44.099 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:37:44.100 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:37:44.101 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 13:37:44.101 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:37:44.102 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:37:44.103 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:37:44.103 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 13:37:44.104 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:37:44.106 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 13:37:44.107 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:37:44.108 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 13:37:44.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:37:44.110 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:37:44.116 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:37:44.112 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 13:37:44.117 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:37:44.119 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 13:37:44.122 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:37:44.127 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:37:44.143 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:37:44.127 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 13:37:44.158 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:37:44.162 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 13:37:44.164 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:37:44.165 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 13:37:44.167 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:37:44.169 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:37:44.171 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:37:44.173 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 13:37:44.174 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:37:44.177 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 13:37:44.178 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:37:44.181 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 13:37:44.182 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:37:44.184 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:37:44.185 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:37:44.186 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 13:37:44.189 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.187 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.190 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.191 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.192 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.193 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.193 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:37:44.194 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 13:37:44.195 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.196 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 13:37:44.197 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:37:44.197 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 13:37:44.198 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:37:44.199 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 13:37:44.200 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:37:44.200 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:37:44.201 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:37:44.202 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 13:37:44.203 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:37:44.203 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 13:37:44.204 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:37:44.205 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 13:37:44.206 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:37:44.206 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:37:44.207 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:37:44.208 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 13:37:44.208 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:37:44.210 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:37:44.211 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:37:44.211 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:37:44.213 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:37:44.213 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 13:37:44.214 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:37:44.215 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 13:37:44.216 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:37:44.217 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 13:37:44.223 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:37:44.224 +07:00 [DBG] Creating DbConnection.
2024-11-18 13:37:44.224 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 13:37:44.225 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 13:37:44.225 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.226 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.227 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.227 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.228 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:37:44.229 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 13:37:44.229 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:37:44.230 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 13:37:44.231 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:37:44.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 13:37:44.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:37:44.233 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:37:44.238 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 13:37:44.238 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 13:37:44.240 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.241 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.242 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:37:44.242 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 13:37:44.243 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.244 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.245 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:37:44.245 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 13:37:44.246 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:37:44.247 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 13:37:44.249 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:37:44.251 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 13:37:44.251 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:37:44.252 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 13:37:44.252 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:37:44.253 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 13:37:44.253 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:37:44.254 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 13:37:44.254 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:37:44.255 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 13:37:44.256 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 133.8841ms
2024-11-18 13:37:44.263 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:37:44.266 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:37:44.267 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.268 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 141.1458ms
2024-11-18 13:37:44.273 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-18 13:37:44.274 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 13:37:44.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 189.2559ms
2024-11-18 13:37:44.275 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 13:37:44.278 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 13:37:44.279 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 13:37:44.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 195.0912ms
2024-11-18 14:05:20.014 +07:00 [DBG] Connection id "0HN87HVO5FAFP" received FIN.
2024-11-18 14:05:20.024 +07:00 [DBG] Connection id "0HN87HVO5FAFP" is closed. The last processed stream ID was 31.
2024-11-18 14:05:20.025 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFP completed.
2024-11-18 14:05:20.026 +07:00 [DBG] Connection id "0HN87HVO5FAFP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 14:05:20.041 +07:00 [DBG] Connection id "0HN87HVO5FAFP" stopped.
2024-11-18 22:25:41.124 +07:00 [DBG] Connection id "0HN87HVO5FAFQ" accepted.
2024-11-18 22:25:41.129 +07:00 [DBG] Connection id "0HN87HVO5FAFQ" started.
2024-11-18 22:25:41.157 +07:00 [DBG] Connection 0HN87HVO5FAFQ established using the following protocol: "Tls13"
2024-11-18 22:25:41.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 22:25:41.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 22:25:41.168 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 22:25:41.168 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 22:25:41.169 +07:00 [INF] CORS policy execution successful.
2024-11-18 22:25:41.169 +07:00 [INF] CORS policy execution successful.
2024-11-18 22:25:41.172 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 22:25:41.173 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 22:25:41.173 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 22:25:41.173 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 22:25:41.174 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 22:25:41.175 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 22:25:41.175 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:41.176 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:41.177 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 22:25:41.177 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 22:25:41.178 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:41.179 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:41.180 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 22:25:41.180 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 22:25:41.181 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 22:25:41.182 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 22:25:41.182 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 22:25:41.183 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 22:25:41.185 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:41.185 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:41.186 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 22:25:41.187 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 22:25:41.188 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:41.188 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:41.190 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:41.190 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:41.193 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:41.193 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:41.194 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 22:25:41.195 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 22:25:41.195 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 22:25:41.196 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 22:25:41.196 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:41.197 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:41.198 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:41.198 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:41.199 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 22:25:41.199 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 22:25:41.200 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 22:25:41.200 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 22:25:41.201 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:41.201 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:41.202 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 22:25:41.202 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 22:25:41.203 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.204 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.204 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.205 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.206 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.206 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.207 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:41.207 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:41.208 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.208 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:41.209 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:41.210 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:41.210 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 22:25:41.211 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 22:25:41.211 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:41.212 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:41.213 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:41.213 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:41.214 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:41.214 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:41.214 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:41.215 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:41.216 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:41.216 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:41.217 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 22:25:41.217 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 22:25:41.218 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:41.219 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:41.219 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:41.220 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:41.220 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:41.221 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:41.221 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:41.222 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:41.229 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 22:25:41.229 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 22:25:41.234 +07:00 [DBG] Creating DbConnection.
2024-11-18 22:25:41.235 +07:00 [DBG] Creating DbConnection.
2024-11-18 22:25:41.248 +07:00 [DBG] Created DbConnection. (13ms).
2024-11-18 22:25:41.248 +07:00 [DBG] Created DbConnection. (12ms).
2024-11-18 22:25:41.248 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.249 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.388 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.389 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 22:25:41.390 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 22:25:41.391 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 22:25:41.393 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.394 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 22:25:41.394 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 22:25:41.395 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 22:25:41.395 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 22:25:41.396 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 22:25:41.434 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 22:25:41.439 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.439 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 22:25:41.440 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-18 22:25:41.441 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.442 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.442 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 22:25:41.443 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-18 22:25:41.443 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.444 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 22:25:41.445 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 22:25:41.445 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 22:25:41.446 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 22:25:41.447 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 22:25:41.448 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 22:25:41.448 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 22:25:41.448 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 22:25:41.449 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 22:25:41.449 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 22:25:41.449 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 22:25:41.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:25:41.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:25:41.452 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 262.6532ms
2024-11-18 22:25:41.453 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:41.455 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 22:25:41.459 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.464 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-18 22:25:41.464 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 273.9564ms
2024-11-18 22:25:41.465 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 301.5132ms
2024-11-18 22:25:41.466 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:41.468 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 22:25:41.469 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:41.470 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 22:25:41.471 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 307.2426ms
2024-11-18 22:25:48.804 +07:00 [DBG] Connection id "0HN87HVO5FAFQ" received FIN.
2024-11-18 22:25:48.804 +07:00 [DBG] Connection id "0HN87HVO5FAFQ" is closed. The last processed stream ID was 3.
2024-11-18 22:25:48.805 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFQ completed.
2024-11-18 22:25:48.806 +07:00 [DBG] Connection id "0HN87HVO5FAFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 22:25:48.817 +07:00 [DBG] Connection id "0HN87HVO5FAFQ" stopped.
2024-11-18 22:25:54.180 +07:00 [DBG] Connection id "0HN87HVO5FAFR" accepted.
2024-11-18 22:25:54.181 +07:00 [DBG] Connection id "0HN87HVO5FAFR" started.
2024-11-18 22:25:54.184 +07:00 [DBG] Connection 0HN87HVO5FAFR established using the following protocol: "Tls13"
2024-11-18 22:25:54.186 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 22:25:54.186 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 22:25:54.187 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 22:25:54.188 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 22:25:54.189 +07:00 [INF] CORS policy execution successful.
2024-11-18 22:25:54.189 +07:00 [INF] CORS policy execution successful.
2024-11-18 22:25:54.190 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 22:25:54.190 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 22:25:54.191 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 22:25:54.191 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 22:25:54.192 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 22:25:54.192 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 22:25:54.193 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:54.194 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:54.194 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 22:25:54.195 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 22:25:54.196 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:54.197 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:54.197 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 22:25:54.198 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 22:25:54.199 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 22:25:54.200 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 22:25:54.200 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 22:25:54.201 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 22:25:54.202 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:54.206 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 22:25:54.206 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:54.208 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:54.209 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 22:25:54.210 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:54.211 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:25:54.212 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:54.213 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:54.213 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 22:25:54.215 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 22:25:54.215 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:25:54.216 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:54.218 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 22:25:54.218 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:54.219 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 22:25:54.220 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 22:25:54.221 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:54.221 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 22:25:54.222 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:25:54.223 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:54.223 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 22:25:54.224 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 22:25:54.225 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 22:25:54.226 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.226 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:54.227 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.227 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 22:25:54.228 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.229 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.229 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:54.230 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.231 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.232 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.232 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:54.233 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:25:54.233 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 22:25:54.234 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 22:25:54.234 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:54.235 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:54.236 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:54.236 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 22:25:54.237 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:54.238 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:54.239 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:54.239 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:54.240 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:54.240 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 22:25:54.241 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 22:25:54.241 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 22:25:54.242 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:54.243 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:54.243 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:54.244 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 22:25:54.244 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:54.245 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:54.246 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:54.247 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:54.247 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 22:25:54.248 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:25:54.249 +07:00 [DBG] Creating DbConnection.
2024-11-18 22:25:54.249 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:25:54.249 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 22:25:54.250 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 22:25:54.250 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.252 +07:00 [DBG] Creating DbConnection.
2024-11-18 22:25:54.253 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.253 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 22:25:54.254 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.254 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 22:25:54.255 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 22:25:54.256 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 22:25:54.256 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 22:25:54.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 22:25:54.257 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 22:25:54.258 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 22:25:54.260 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 22:25:54.269 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 22:25:54.269 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 22:25:54.271 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.272 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.273 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 22:25:54.274 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 22:25:54.274 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.275 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.276 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 22:25:54.276 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 22:25:54.277 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 22:25:54.278 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 22:25:54.279 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 22:25:54.280 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 22:25:54.281 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 22:25:54.281 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 22:25:54.281 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 22:25:54.282 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 22:25:54.282 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 22:25:54.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 22:25:54.283 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:25:54.284 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:25:54.286 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 73.607ms
2024-11-18 22:25:54.287 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.3219ms
2024-11-18 22:25:54.288 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:54.288 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:25:54.288 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 22:25:54.289 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 22:25:54.289 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.290 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:25:54.290 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 22:25:54.291 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 22:25:54.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 106.1789ms
2024-11-18 22:25:54.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 106.8148ms
2024-11-18 22:25:58.804 +07:00 [DBG] Connection id "0HN87HVO5FAFR" received FIN.
2024-11-18 22:25:58.806 +07:00 [DBG] Connection id "0HN87HVO5FAFR" is closed. The last processed stream ID was 3.
2024-11-18 22:25:58.806 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFR completed.
2024-11-18 22:25:58.808 +07:00 [DBG] Connection id "0HN87HVO5FAFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 22:25:58.817 +07:00 [DBG] Connection id "0HN87HVO5FAFR" stopped.
2024-11-18 22:26:05.215 +07:00 [DBG] Connection id "0HN87HVO5FAFS" accepted.
2024-11-18 22:26:05.217 +07:00 [DBG] Connection id "0HN87HVO5FAFS" started.
2024-11-18 22:26:05.223 +07:00 [DBG] Connection 0HN87HVO5FAFS established using the following protocol: "Tls13"
2024-11-18 22:26:05.227 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 22:26:05.227 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 22:26:05.229 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 22:26:05.231 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 22:26:05.231 +07:00 [INF] CORS policy execution successful.
2024-11-18 22:26:05.232 +07:00 [INF] CORS policy execution successful.
2024-11-18 22:26:05.232 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 22:26:05.234 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 22:26:05.233 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 22:26:05.235 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 22:26:05.236 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 22:26:05.237 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:26:05.238 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 22:26:05.239 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 22:26:05.240 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:26:05.240 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:26:05.241 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 22:26:05.241 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 22:26:05.242 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:26:05.244 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 22:26:05.245 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 22:26:05.246 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 22:26:05.247 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 22:26:05.248 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:26:05.249 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 22:26:05.250 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 22:26:05.251 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:26:05.252 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:26:05.253 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 22:26:05.254 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:26:05.254 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 22:26:05.255 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:26:05.256 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:26:05.256 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 22:26:05.257 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 22:26:05.257 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 22:26:05.258 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 22:26:05.261 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:26:05.261 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 22:26:05.262 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:26:05.263 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:26:05.263 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 22:26:05.264 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 22:26:05.264 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 22:26:05.265 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 22:26:05.266 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:26:05.267 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 22:26:05.267 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 22:26:05.268 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:26:05.268 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.269 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 22:26:05.269 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.270 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.270 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.271 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.272 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:26:05.273 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.273 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.274 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 22:26:05.274 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 22:26:05.275 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 22:26:05.276 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 22:26:05.276 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 22:26:05.277 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:26:05.277 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 22:26:05.278 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:26:05.279 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:26:05.280 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 22:26:05.280 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 22:26:05.281 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 22:26:05.282 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 22:26:05.282 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:26:05.283 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 22:26:05.284 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 22:26:05.284 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:26:05.285 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:26:05.285 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 22:26:05.286 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:26:05.287 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:26:05.288 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:26:05.288 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:26:05.289 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:26:05.290 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 22:26:05.291 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 22:26:05.291 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 22:26:05.292 +07:00 [DBG] Creating DbConnection.
2024-11-18 22:26:05.293 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 22:26:05.293 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 22:26:05.295 +07:00 [DBG] Creating DbConnection.
2024-11-18 22:26:05.295 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.295 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 22:26:05.296 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.296 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.297 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 22:26:05.298 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.298 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 22:26:05.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 22:26:05.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 22:26:05.299 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 22:26:05.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 22:26:05.301 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 22:26:05.301 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 22:26:05.311 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 22:26:05.311 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 22:26:05.312 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.313 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.314 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 22:26:05.314 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 22:26:05.315 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.316 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.316 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 22:26:05.317 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 22:26:05.318 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 22:26:05.318 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 22:26:05.319 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 22:26:05.321 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 22:26:05.322 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 22:26:05.323 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 22:26:05.323 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 22:26:05.323 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 22:26:05.324 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 22:26:05.324 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 22:26:05.325 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:26:05.325 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:26:05.328 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 72.0015ms
2024-11-18 22:26:05.328 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:26:05.368 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 22:26:05.371 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 116.0136ms
2024-11-18 22:26:05.371 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.372 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 22:26:05.373 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 22:26:05.373 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 22:26:05.374 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 147.2572ms
2024-11-18 22:26:05.374 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 22:26:05.377 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 22:26:05.378 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 151.6896ms
2024-11-18 22:26:08.815 +07:00 [DBG] Connection id "0HN87HVO5FAFS" received FIN.
2024-11-18 22:26:08.816 +07:00 [DBG] Connection id "0HN87HVO5FAFS" is closed. The last processed stream ID was 3.
2024-11-18 22:26:08.816 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFS completed.
2024-11-18 22:26:08.816 +07:00 [DBG] Connection id "0HN87HVO5FAFS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 22:26:08.830 +07:00 [DBG] Connection id "0HN87HVO5FAFS" stopped.
2024-11-18 23:22:24.453 +07:00 [DBG] Connection id "0HN87HVO5FAFT" accepted.
2024-11-18 23:22:24.490 +07:00 [DBG] Connection id "0HN87HVO5FAFT" started.
2024-11-18 23:22:24.500 +07:00 [DBG] Connection 0HN87HVO5FAFT established using the following protocol: "Tls13"
2024-11-18 23:22:24.506 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 23:22:24.508 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 23:22:24.509 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:22:24.510 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:22:24.510 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:22:24.511 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:22:24.512 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:22:24.512 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:22:24.513 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:22:24.513 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:22:24.514 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:22:24.514 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:22:24.515 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:22:24.516 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:22:24.516 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:22:24.517 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:22:24.517 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:22:24.518 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:22:24.519 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:22:24.519 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:22:24.520 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:22:24.521 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:22:24.522 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:22:24.523 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:22:24.524 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:22:24.524 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:22:24.526 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:22:24.527 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:22:24.528 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:22:24.529 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:22:24.529 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:22:24.530 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:22:24.531 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:22:24.532 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:22:24.532 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:22:24.533 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:22:24.533 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:22:24.534 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:22:24.535 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:22:24.536 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:22:24.536 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:22:24.537 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:22:24.537 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:22:24.538 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:22:24.538 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:22:24.539 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:22:24.540 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:22:24.540 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:22:24.541 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:22:24.542 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:22:24.542 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.543 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.544 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.544 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.545 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.545 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.546 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:22:24.547 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:22:24.547 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.548 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:22:24.549 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:22:24.549 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:22:24.550 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:22:24.551 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:22:24.551 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:22:24.552 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:22:24.553 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:22:24.553 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:22:24.554 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:22:24.554 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:22:24.555 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:22:24.555 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:22:24.556 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:22:24.557 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:22:24.557 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:22:24.558 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:22:24.559 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:22:24.559 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:22:24.560 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:22:24.561 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:22:24.562 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:22:24.562 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:22:24.563 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:22:24.563 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:22:24.565 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:22:24.565 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:22:24.567 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:22:24.568 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:22:24.568 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:22:24.568 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 23:22:24.569 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.569 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.612 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:22:24.614 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:22:24.614 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:22:24.615 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:22:24.617 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:22:24.618 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:22:24.619 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:22:24.619 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:22:24.627 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:22:24.627 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:22:24.628 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.629 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.630 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:22:24.630 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:22:24.631 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.631 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.632 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:22:24.632 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:22:24.633 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:22:24.634 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:22:24.635 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:22:24.636 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:22:24.637 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:22:24.637 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:22:24.637 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:22:24.637 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:22:24.638 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:22:24.638 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:22:24.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:22:24.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:22:24.641 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 110.7621ms
2024-11-18 23:22:24.641 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 111.9926ms
2024-11-18 23:22:24.645 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:22:24.648 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:22:24.651 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:22:24.651 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:22:24.652 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.652 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:22:24.653 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 23:22:24.653 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 23:22:24.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 148.5757ms
2024-11-18 23:22:24.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 150.732ms
2024-11-18 23:23:21.745 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 23:23:21.745 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 23:23:21.751 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:23:21.752 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:23:21.752 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:23:21.753 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:23:21.753 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:23:21.754 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:23:21.754 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:23:21.755 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:23:21.755 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:23:21.756 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:23:21.757 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:21.757 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:21.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:23:21.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:23:21.759 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:21.760 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:21.761 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:23:21.762 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:23:21.762 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:23:21.763 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:23:21.764 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:23:21.765 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:23:21.765 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:21.766 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:21.767 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:23:21.769 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:23:21.769 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:21.770 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:21.771 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:21.772 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:21.773 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:21.774 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:21.775 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:23:21.779 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:23:21.780 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:23:21.781 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:23:21.783 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:21.783 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:21.784 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:21.784 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:21.785 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:23:21.786 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:23:21.786 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:23:21.787 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:23:21.787 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:21.788 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:21.788 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:23:21.789 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:23:21.790 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.790 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.791 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.791 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.792 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.792 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.793 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:21.793 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:21.794 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.794 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:21.795 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:21.796 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:21.797 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:23:21.797 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:23:21.798 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:21.799 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:21.799 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:21.800 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:21.800 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:21.801 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:21.802 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:21.802 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:21.803 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:21.804 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:21.804 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:23:21.805 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:23:21.806 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:21.806 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:21.807 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:21.808 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:21.808 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:21.809 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:21.810 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:21.810 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:21.812 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:23:21.812 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:23:21.814 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:23:21.814 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:23:21.814 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:23:21.815 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:23:21.815 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.816 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.817 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.817 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.818 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:23:21.819 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:23:21.819 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:23:21.820 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:23:21.820 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 23:23:21.821 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 23:23:21.821 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:23:21.822 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:23:21.833 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:23:21.835 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.835 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:23:21.835 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:23:21.837 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.838 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.838 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:23:21.839 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:23:21.839 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.840 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:23:21.841 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:23:21.842 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:23:21.843 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:23:21.843 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:23:21.845 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:23:21.845 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:23:21.845 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:23:21.846 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:23:21.846 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:23:21.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:23:21.847 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:23:21.849 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:23:21.851 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 78.4762ms
2024-11-18 23:23:21.852 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 80.6209ms
2024-11-18 23:23:21.856 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:21.860 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:21.861 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:23:21.861 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:23:21.862 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.862 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:21.863 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 23:23:21.863 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 23:23:21.864 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 119.0571ms
2024-11-18 23:23:21.865 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 119.7992ms
2024-11-18 23:23:55.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 23:23:55.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 23:23:55.805 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:23:55.806 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:23:55.806 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:23:55.807 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:23:55.807 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:23:55.808 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:23:55.808 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:23:55.809 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:23:55.809 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:23:55.810 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:23:55.811 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:55.811 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:55.812 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:23:55.813 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:23:55.813 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:55.814 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:55.815 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:23:55.815 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:23:55.816 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:23:55.817 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:23:55.818 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:23:55.819 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:23:55.820 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:55.821 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:55.823 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:23:55.824 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:23:55.825 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:55.826 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:23:55.827 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:55.828 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:55.829 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:55.831 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:23:55.835 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:23:55.836 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:23:55.836 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:55.838 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:55.833 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:23:55.838 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:23:55.839 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:23:55.840 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:23:55.841 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:55.842 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:55.845 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:23:55.846 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:23:55.847 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:23:55.848 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.849 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:23:55.850 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.851 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:55.852 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.852 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:23:55.853 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:55.854 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.855 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.855 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.856 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:55.857 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.858 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:23:55.858 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:23:55.859 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:55.860 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:23:55.860 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:55.861 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:55.862 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:55.862 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:23:55.863 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:55.864 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:55.864 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:55.865 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:55.866 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:23:55.866 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:23:55.867 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:55.867 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:23:55.868 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:55.868 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:55.869 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:55.869 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:23:55.870 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:55.871 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:55.872 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:23:55.872 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:55.877 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:23:55.877 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:23:55.877 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:23:55.878 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:23:55.878 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.879 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:23:55.880 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.880 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:23:55.881 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:23:55.881 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:23:55.882 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:23:55.882 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.883 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:23:55.883 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.884 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:23:55.884 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:23:55.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:23:55.886 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 23:23:55.887 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:23:55.889 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:23:55.889 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:23:55.890 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.891 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.893 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 23:23:55.893 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:23:55.894 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.894 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.895 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:23:55.895 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:23:55.896 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:23:55.897 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:23:55.898 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:23:55.899 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:23:55.900 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:23:55.900 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:23:55.901 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:23:55.901 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:23:55.901 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:23:55.901 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:23:55.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:23:55.903 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:23:55.905 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.9003ms
2024-11-18 23:23:55.905 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 78.0151ms
2024-11-18 23:23:55.911 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:55.914 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:23:55.914 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:23:55.914 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:23:55.915 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.916 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:23:55.916 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 23:23:55.917 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-18 23:23:55.917 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 117.9165ms
2024-11-18 23:23:55.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 118.6024ms
2024-11-18 23:37:59.870 +07:00 [DBG] Connection id "0HN87HVO5FAFT" received FIN.
2024-11-18 23:37:59.878 +07:00 [DBG] Connection id "0HN87HVO5FAFT" is closed. The last processed stream ID was 11.
2024-11-18 23:37:59.878 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFT completed.
2024-11-18 23:37:59.879 +07:00 [DBG] Connection id "0HN87HVO5FAFT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 23:37:59.888 +07:00 [DBG] Connection id "0HN87HVO5FAFT" stopped.
2024-11-18 23:39:59.810 +07:00 [DBG] Connection id "0HN87HVO5FAFU" accepted.
2024-11-18 23:39:59.814 +07:00 [DBG] Connection id "0HN87HVO5FAFU" started.
2024-11-18 23:39:59.821 +07:00 [DBG] Connection 0HN87HVO5FAFU established using the following protocol: "Tls13"
2024-11-18 23:39:59.825 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 23:39:59.825 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 23:39:59.829 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:39:59.830 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:39:59.831 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:39:59.831 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:39:59.832 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:39:59.832 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:39:59.832 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:39:59.833 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:39:59.833 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:39:59.834 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:39:59.835 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:39:59.835 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:39:59.836 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:39:59.836 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:39:59.837 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:39:59.837 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:39:59.838 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:39:59.838 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:39:59.839 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:39:59.839 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:39:59.840 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:39:59.841 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:39:59.841 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:39:59.842 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:39:59.843 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:39:59.844 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:39:59.844 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:39:59.845 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:39:59.846 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:39:59.847 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:39:59.848 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:39:59.848 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:39:59.849 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:39:59.850 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:39:59.850 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:39:59.851 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:39:59.852 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:39:59.852 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:39:59.853 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:39:59.854 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:39:59.854 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:39:59.855 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:39:59.855 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:39:59.856 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:39:59.857 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:39:59.857 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:39:59.858 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:39:59.858 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:39:59.859 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.860 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.860 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.861 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.862 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.863 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.863 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:39:59.864 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:39:59.864 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.865 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:39:59.865 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:39:59.866 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:39:59.866 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:39:59.866 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:39:59.867 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:39:59.868 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:39:59.868 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:39:59.869 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:39:59.869 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:39:59.870 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:39:59.871 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:39:59.871 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:39:59.872 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:39:59.872 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:39:59.873 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:39:59.873 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:39:59.874 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:39:59.875 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:39:59.876 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:39:59.876 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:39:59.877 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:39:59.878 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:39:59.878 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:39:59.879 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:39:59.880 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:39:59.880 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:39:59.882 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:39:59.882 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:39:59.883 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 23:39:59.883 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:39:59.884 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.884 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.936 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.937 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:39:59.938 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:39:59.939 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-18 23:39:59.940 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:39:59.943 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.944 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:39:59.945 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:39:59.945 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:39:59.946 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:39:59.952 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:39:59.952 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:39:59.953 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.954 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.955 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:39:59.955 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:39:59.956 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.957 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.958 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:39:59.959 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:39:59.960 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:39:59.960 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:39:59.962 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:39:59.964 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:39:59.965 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:39:59.965 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:39:59.966 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:39:59.966 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:39:59.967 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:39:59.967 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:39:59.968 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:39:59.968 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:39:59.970 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 124.7568ms
2024-11-18 23:39:59.972 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:39:59.973 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:39:59.979 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.984 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-18 23:39:59.984 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 137.3557ms
2024-11-18 23:39:59.985 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 160.243ms
2024-11-18 23:39:59.986 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:39:59.990 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:39:59.991 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:39:59.992 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 23:39:59.994 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 169.9492ms
2024-11-18 23:40:05.035 +07:00 [DBG] Connection id "0HN87HVO5FAFU" received FIN.
2024-11-18 23:40:05.036 +07:00 [DBG] Connection id "0HN87HVO5FAFU" is closed. The last processed stream ID was 3.
2024-11-18 23:40:05.037 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFU completed.
2024-11-18 23:40:05.037 +07:00 [DBG] Connection id "0HN87HVO5FAFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 23:40:05.045 +07:00 [DBG] Connection id "0HN87HVO5FAFU" stopped.
2024-11-18 23:44:24.015 +07:00 [DBG] Connection id "0HN87HVO5FAFV" accepted.
2024-11-18 23:44:24.017 +07:00 [DBG] Connection id "0HN87HVO5FAFV" started.
2024-11-18 23:44:24.027 +07:00 [DBG] Connection 0HN87HVO5FAFV established using the following protocol: "Tls13"
2024-11-18 23:44:24.033 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-18 23:44:24.033 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-18 23:44:24.039 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:44:24.040 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-18 23:44:24.040 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:44:24.041 +07:00 [INF] CORS policy execution successful.
2024-11-18 23:44:24.041 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:44:24.042 +07:00 [DBG] The request path  does not match the path filter
2024-11-18 23:44:24.042 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:44:24.043 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-18 23:44:24.043 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:44:24.044 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-18 23:44:24.044 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:44:24.045 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:44:24.046 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:44:24.046 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-18 23:44:24.046 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:44:24.047 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:44:24.047 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:44:24.048 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-18 23:44:24.049 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:44:24.050 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-18 23:44:24.050 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:44:24.051 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-18 23:44:24.052 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:44:24.053 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:44:24.054 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:44:24.055 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-18 23:44:24.055 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:44:24.056 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-18 23:44:24.057 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:44:24.058 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:44:24.058 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:44:24.059 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:44:24.059 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-18 23:44:24.060 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:44:24.060 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-18 23:44:24.061 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:44:24.062 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-18 23:44:24.062 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:44:24.063 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:44:24.065 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:44:24.066 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-18 23:44:24.066 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:44:24.067 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-18 23:44:24.068 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:44:24.068 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-18 23:44:24.069 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:44:24.069 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:44:24.070 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.071 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-18 23:44:24.072 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.072 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.073 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.073 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.074 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:44:24.075 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.075 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.076 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-18 23:44:24.076 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:44:24.077 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-18 23:44:24.078 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:44:24.079 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-18 23:44:24.079 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:44:24.080 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-18 23:44:24.081 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:44:24.082 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:44:24.082 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:44:24.083 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-18 23:44:24.083 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:44:24.084 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-18 23:44:24.084 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:44:24.085 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-18 23:44:24.086 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:44:24.086 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:44:24.087 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:44:24.088 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-18 23:44:24.088 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:44:24.089 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:44:24.089 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:44:24.090 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:44:24.090 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:44:24.091 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-18 23:44:24.092 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-18 23:44:24.093 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:44:24.093 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-18 23:44:24.094 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:44:24.095 +07:00 [DBG] Creating DbConnection.
2024-11-18 23:44:24.096 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-18 23:44:24.096 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-18 23:44:24.097 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.097 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.132 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.132 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:44:24.133 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:44:24.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:44:24.135 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:44:24.136 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.136 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-18 23:44:24.137 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-18 23:44:24.137 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-18 23:44:24.138 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:44:24.145 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-18 23:44:24.146 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-18 23:44:24.147 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.148 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.149 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-18 23:44:24.149 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-18 23:44:24.150 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.151 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.151 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:44:24.152 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-18 23:44:24.152 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:44:24.153 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-18 23:44:24.154 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:44:24.156 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-18 23:44:24.156 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:44:24.156 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-18 23:44:24.156 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:44:24.157 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-18 23:44:24.157 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:44:24.158 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-18 23:44:24.158 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:44:24.159 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 23:44:24.160 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 102.6903ms
2024-11-18 23:44:24.197 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:44:24.198 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:44:24.198 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 141.3762ms
2024-11-18 23:44:24.199 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.199 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-18 23:44:24.200 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-18 23:44:24.200 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-18 23:44:24.201 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 168.0557ms
2024-11-18 23:44:24.202 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-18 23:44:24.204 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-18 23:44:24.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 172.1297ms
2024-11-18 23:44:25.372 +07:00 [DBG] Connection id "0HN87HVO5FAFV" received FIN.
2024-11-18 23:44:25.373 +07:00 [DBG] Connection id "0HN87HVO5FAFV" is closed. The last processed stream ID was 3.
2024-11-18 23:44:25.373 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAFV completed.
2024-11-18 23:44:25.374 +07:00 [DBG] Connection id "0HN87HVO5FAFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-18 23:44:25.387 +07:00 [DBG] Connection id "0HN87HVO5FAFV" stopped.
