2024-11-19 00:08:05.819 +07:00 [DBG] Connection id "0HN87HVO5FAG0" accepted.
2024-11-19 00:08:05.916 +07:00 [DBG] Connection id "0HN87HVO5FAG0" started.
2024-11-19 00:08:05.926 +07:00 [DBG] Connection 0HN87HVO5FAG0 established using the following protocol: "Tls13"
2024-11-19 00:08:05.928 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 00:08:05.928 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 00:08:05.935 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:08:05.936 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:08:05.936 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:08:05.937 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:08:05.937 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:08:05.938 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:08:05.938 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:08:05.939 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:08:05.940 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:08:05.940 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:08:05.941 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:08:05.942 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:08:05.942 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:08:05.943 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:08:05.943 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:08:05.943 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:08:05.944 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:08:05.944 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:08:05.945 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:08:05.946 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:08:05.947 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:08:05.948 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:08:05.949 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:08:05.949 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:08:05.950 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:08:05.952 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:08:05.952 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:08:05.953 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:08:05.954 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:08:05.955 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:08:05.956 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:08:05.956 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:08:05.957 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:08:05.957 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:08:05.958 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:08:05.958 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:08:05.959 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:08:05.960 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:08:05.961 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:08:05.962 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:08:05.962 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:08:05.963 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:08:05.963 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:08:05.964 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:08:05.964 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:08:05.965 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:08:05.965 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:08:05.966 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:08:05.967 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.968 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.969 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.970 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.970 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.971 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.971 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:08:05.972 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:08:05.972 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.973 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:08:05.974 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:08:05.975 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:08:05.975 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:08:05.976 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:08:05.977 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:08:05.978 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:08:05.978 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:08:05.979 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:08:05.980 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:08:05.980 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:08:05.981 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:08:05.982 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:08:05.983 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:08:05.983 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:08:05.984 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:08:05.985 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:08:05.985 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:08:05.986 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:08:05.987 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:08:05.987 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:08:05.988 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:08:05.989 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:08:05.989 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:08:05.990 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:08:05.992 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:08:05.992 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:08:05.994 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:08:05.994 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:08:05.994 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 00:08:05.995 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 00:08:05.995 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:05.996 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.117 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:08:06.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 00:08:06.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:08:06.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 00:08:06.133 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:08:06.138 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 00:08:06.139 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:08:06.140 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:08:06.152 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:08:06.153 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 00:08:06.154 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.156 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.157 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 00:08:06.158 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 00:08:06.159 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.159 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.160 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 00:08:06.161 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 00:08:06.162 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:08:06.163 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:08:06.169 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:08:06.166 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:08:06.170 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:08:06.170 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:08:06.171 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:08:06.171 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:08:06.172 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:08:06.172 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:08:06.173 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:08:06.173 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:08:06.174 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 220.0945ms
2024-11-19 00:08:06.178 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:08:06.180 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:08:06.184 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 228.7634ms
2024-11-19 00:08:06.192 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.194 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:08:06.195 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 00:08:06.196 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:08:06.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 269.5816ms
2024-11-19 00:08:06.198 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:08:06.202 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-11-19 00:08:06.203 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 274.676ms
2024-11-19 00:08:07.012 +07:00 [DBG] Connection id "0HN87HVO5FAG0" received FIN.
2024-11-19 00:08:07.013 +07:00 [DBG] Connection id "0HN87HVO5FAG0" is closed. The last processed stream ID was 3.
2024-11-19 00:08:07.013 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG0 completed.
2024-11-19 00:08:07.014 +07:00 [DBG] Connection id "0HN87HVO5FAG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 00:08:07.029 +07:00 [DBG] Connection id "0HN87HVO5FAG0" stopped.
2024-11-19 00:54:57.651 +07:00 [DBG] Connection id "0HN87HVO5FAG1" accepted.
2024-11-19 00:54:57.658 +07:00 [DBG] Connection id "0HN87HVO5FAG1" started.
2024-11-19 00:54:57.674 +07:00 [DBG] Connection 0HN87HVO5FAG1 established using the following protocol: "Tls13"
2024-11-19 00:54:57.678 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 00:54:57.678 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 00:54:57.687 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:54:57.687 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:54:57.688 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:54:57.688 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:54:57.689 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:54:57.690 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:54:57.691 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:54:57.691 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:54:57.691 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:54:57.692 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:54:57.694 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:54:57.694 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:54:57.698 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:54:57.698 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:54:57.700 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:54:57.699 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:54:57.704 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:54:57.703 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:54:57.706 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:54:57.708 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:54:57.708 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:54:57.709 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:54:57.711 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:54:57.711 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:54:57.713 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:54:57.712 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:54:57.716 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:54:57.715 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:54:57.717 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:54:57.718 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:54:57.725 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:54:57.725 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:54:57.726 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:54:57.726 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:54:57.727 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:54:57.728 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:54:57.728 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:54:57.729 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:54:57.729 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:54:57.730 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:54:57.730 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:54:57.731 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:54:57.732 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:54:57.732 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:54:57.733 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:54:57.733 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:54:57.734 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:54:57.735 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:54:57.736 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.736 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.737 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.738 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.738 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.739 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.739 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:54:57.740 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:54:57.740 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.741 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:54:57.741 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:54:57.742 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:54:57.743 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:54:57.743 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:54:57.744 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:54:57.744 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:54:57.745 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:54:57.745 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:54:57.746 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:54:57.746 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:54:57.747 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:54:57.748 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:54:57.748 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:54:57.749 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:54:57.750 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:54:57.750 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:54:57.751 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:54:57.751 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:54:57.752 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:54:57.753 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:54:57.753 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:54:57.754 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:54:57.754 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:54:57.755 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:54:57.764 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:54:57.764 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:54:57.768 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:54:57.773 +07:00 [DBG] Created DbConnection. (4ms).
2024-11-19 00:54:57.773 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.789 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.789 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:54:57.791 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 00:54:57.792 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:54:57.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-11-19 00:54:57.795 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-19 00:54:57.797 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:54:57.800 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.801 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:54:57.801 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 00:54:57.802 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:54:57.803 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 00:54:57.819 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 00:54:57.820 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.820 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 00:54:57.821 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.821 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 00:54:57.823 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:54:57.823 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:54:57.824 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:54:57.824 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:54:57.825 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:54:57.826 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:54:57.829 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 111.7285ms
2024-11-19 00:54:57.829 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:54:57.830 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:54:57.835 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.836 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 00:54:57.837 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2 application/json; charset=utf-8 159.4963ms
2024-11-19 00:54:57.840 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:54:57.843 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.844 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 00:54:57.845 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.846 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 00:54:57.847 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:54:57.848 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:54:57.849 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:54:57.849 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:54:57.850 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:54:57.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:54:57.857 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 139.0714ms
2024-11-19 00:54:57.863 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:54:57.863 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:54:57.864 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:54:57.865 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 00:54:57.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 188.492ms
2024-11-19 00:55:00.494 +07:00 [DBG] Connection id "0HN87HVO5FAG1" received FIN.
2024-11-19 00:55:00.496 +07:00 [DBG] Connection id "0HN87HVO5FAG1" is closed. The last processed stream ID was 3.
2024-11-19 00:55:00.497 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG1 completed.
2024-11-19 00:55:00.498 +07:00 [DBG] Connection id "0HN87HVO5FAG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 00:55:00.507 +07:00 [DBG] Connection id "0HN87HVO5FAG1" stopped.
2024-11-19 00:55:00.983 +07:00 [DBG] Connection id "0HN87HVO5FAG2" accepted.
2024-11-19 00:55:00.983 +07:00 [DBG] Connection id "0HN87HVO5FAG2" started.
2024-11-19 00:55:00.987 +07:00 [DBG] Connection 0HN87HVO5FAG2 established using the following protocol: "Tls13"
2024-11-19 00:55:00.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 00:55:00.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 00:55:00.990 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:55:00.991 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:55:00.992 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:55:00.992 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:55:00.993 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:55:00.993 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:55:00.993 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:55:00.994 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:55:00.994 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:55:00.995 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:55:00.995 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:00.997 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:00.998 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:55:00.999 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:55:01.000 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:01.000 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:01.001 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:55:01.001 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:55:01.002 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:55:01.003 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:55:01.004 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:55:01.005 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:55:01.006 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:01.006 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:01.007 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:55:01.009 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:55:01.009 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:01.010 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:01.011 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:01.012 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:01.013 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:01.013 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:01.014 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:55:01.014 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:55:01.015 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:55:01.016 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:55:01.016 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:01.017 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:01.018 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:01.018 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:01.019 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:55:01.020 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:55:01.020 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:55:01.021 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:55:01.022 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:01.022 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:01.023 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:55:01.023 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:55:01.024 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.025 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.025 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.026 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.027 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.028 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.028 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:01.029 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:01.030 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.030 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:01.031 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:01.031 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:01.032 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:55:01.033 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:55:01.034 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:01.034 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:01.035 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:01.036 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:01.036 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:01.037 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:01.038 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:01.038 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:01.039 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:01.040 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:01.040 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:55:01.041 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:55:01.042 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:01.042 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:01.043 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:01.044 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:01.044 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:01.045 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:01.046 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:01.047 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:01.049 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:55:01.049 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:55:01.050 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:55:01.051 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:55:01.051 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 00:55:01.051 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 00:55:01.052 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.052 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.053 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.054 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:55:01.055 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:55:01.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:55:01.056 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 00:55:01.057 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 00:55:01.057 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 00:55:01.058 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 00:55:01.058 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:55:01.070 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:55:01.071 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.072 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 00:55:01.072 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 00:55:01.073 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.074 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.075 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 00:55:01.075 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 00:55:01.076 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.077 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:55:01.077 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 00:55:01.079 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:55:01.079 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:55:01.080 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:55:01.081 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:55:01.081 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:55:01.082 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:55:01.082 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:55:01.083 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:55:01.083 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:55:01.084 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:55:01.085 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:55:01.086 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 74.7326ms
2024-11-19 00:55:01.087 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.235ms
2024-11-19 00:55:01.087 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:01.088 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:01.089 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:55:01.089 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:55:01.090 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.090 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:01.091 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 00:55:01.091 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 00:55:01.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 103.5669ms
2024-11-19 00:55:01.093 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 104.3384ms
2024-11-19 00:55:03.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 00:55:03.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 00:55:03.227 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:55:03.229 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 00:55:03.229 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:55:03.230 +07:00 [INF] CORS policy execution successful.
2024-11-19 00:55:03.231 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:55:03.232 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 00:55:03.232 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:55:03.232 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 00:55:03.233 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:55:03.233 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 00:55:03.234 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:03.235 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:03.235 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:55:03.236 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 00:55:03.236 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:03.236 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:03.237 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:55:03.237 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 00:55:03.238 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:55:03.239 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 00:55:03.239 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:55:03.240 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 00:55:03.241 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:03.242 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:03.243 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:55:03.244 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 00:55:03.245 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:03.246 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 00:55:03.247 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:03.249 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:03.250 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:03.250 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 00:55:03.251 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:55:03.252 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 00:55:03.252 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:55:03.253 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 00:55:03.254 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:03.254 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:03.255 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:03.256 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 00:55:03.256 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:55:03.257 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 00:55:03.258 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:55:03.258 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 00:55:03.259 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:03.259 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:03.260 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:55:03.260 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 00:55:03.261 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.262 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.262 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.263 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.263 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.264 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.264 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:03.265 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 00:55:03.265 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.266 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 00:55:03.266 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:03.267 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:03.268 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:55:03.268 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 00:55:03.269 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:03.269 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:03.270 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:03.270 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:03.271 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:03.271 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 00:55:03.272 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:03.272 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 00:55:03.273 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:03.273 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:03.274 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:55:03.274 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 00:55:03.275 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:03.276 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:03.276 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:03.277 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:03.277 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:03.278 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 00:55:03.278 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:03.279 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 00:55:03.280 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:55:03.280 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 00:55:03.281 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:55:03.281 +07:00 [DBG] Creating DbConnection.
2024-11-19 00:55:03.282 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 00:55:03.282 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 00:55:03.283 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.283 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.284 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.284 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:55:03.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 00:55:03.286 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:55:03.286 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:55:03.287 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 00:55:03.287 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 00:55:03.288 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 00:55:03.288 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:55:03.296 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 00:55:03.297 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 00:55:03.298 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.299 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.299 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 00:55:03.300 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 00:55:03.300 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.301 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.302 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 00:55:03.302 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 00:55:03.303 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:55:03.304 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 00:55:03.305 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:55:03.306 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 00:55:03.307 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:55:03.307 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 00:55:03.308 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:55:03.308 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 00:55:03.308 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:55:03.309 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 00:55:03.309 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:55:03.310 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 00:55:03.312 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.925ms
2024-11-19 00:55:03.313 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.5226ms
2024-11-19 00:55:03.315 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:03.316 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 00:55:03.318 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:55:03.318 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 00:55:03.319 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.319 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 00:55:03.320 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 00:55:03.320 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 00:55:03.321 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 95.3114ms
2024-11-19 00:55:03.321 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.9067ms
2024-11-19 00:55:10.505 +07:00 [DBG] Connection id "0HN87HVO5FAG2" received FIN.
2024-11-19 00:55:10.506 +07:00 [DBG] Connection id "0HN87HVO5FAG2" is closed. The last processed stream ID was 7.
2024-11-19 00:55:10.506 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG2 completed.
2024-11-19 00:55:10.507 +07:00 [DBG] Connection id "0HN87HVO5FAG2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 00:55:10.509 +07:00 [DBG] Connection id "0HN87HVO5FAG2" stopped.
2024-11-19 01:00:31.024 +07:00 [DBG] Connection id "0HN87HVO5FAG3" accepted.
2024-11-19 01:00:31.030 +07:00 [DBG] Connection id "0HN87HVO5FAG3" started.
2024-11-19 01:00:31.037 +07:00 [DBG] Connection 0HN87HVO5FAG3 established using the following protocol: "Tls13"
2024-11-19 01:00:31.046 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:00:31.047 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:00:31.054 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:00:31.055 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:00:31.055 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:00:31.056 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:00:31.056 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:00:31.056 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:00:31.057 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:00:31.057 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:00:31.058 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:00:31.058 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:00:31.059 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:31.061 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:31.061 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:00:31.062 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:00:31.062 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:31.063 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:31.063 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:00:31.064 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:00:31.065 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:00:31.066 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:00:31.067 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:00:31.068 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:00:31.069 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:31.069 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:31.070 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:00:31.071 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:00:31.072 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:31.073 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:31.074 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:31.075 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:31.076 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:31.076 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:31.077 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:00:31.077 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:00:31.078 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:00:31.079 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:00:31.079 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:31.080 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:31.081 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:31.081 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:31.082 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:00:31.083 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:00:31.083 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:00:31.084 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:00:31.084 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:31.085 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:31.085 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:00:31.086 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:00:31.087 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.088 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.089 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.090 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.091 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.091 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.092 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:31.093 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:31.093 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.095 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:31.096 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:31.097 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:31.097 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:00:31.098 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:00:31.099 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:31.099 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:31.100 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:31.101 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:31.102 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:31.102 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:31.103 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:31.104 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:31.104 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:31.105 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:31.105 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:00:31.106 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:00:31.107 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:31.107 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:31.108 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:31.109 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:31.109 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:31.110 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:31.111 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:31.111 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:31.113 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:00:31.113 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:00:31.114 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:00:31.115 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:00:31.115 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:00:31.115 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:00:31.116 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.117 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.117 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.118 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:00:31.119 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:00:31.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:00:31.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:00:31.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:00:31.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:00:31.122 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:00:31.123 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:00:31.136 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:00:31.141 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.141 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:00:31.142 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:00:31.143 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.144 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.144 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:00:31.145 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:00:31.146 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.146 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:00:31.147 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:00:31.148 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:00:31.149 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:00:31.149 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:00:31.151 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:00:31.151 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:00:31.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:00:31.152 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:00:31.152 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:00:31.153 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:00:31.153 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:00:31.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:00:31.155 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 81.4162ms
2024-11-19 01:00:31.156 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 81.2345ms
2024-11-19 01:00:31.157 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:31.161 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:31.161 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:00:31.161 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:00:31.162 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.162 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:31.163 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:00:31.163 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:00:31.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 119.5398ms
2024-11-19 01:00:31.165 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 118.3005ms
2024-11-19 01:00:39.036 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:00:39.036 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:00:39.039 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:00:39.040 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:00:39.041 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:00:39.041 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:00:39.042 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:00:39.042 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:00:39.043 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:00:39.043 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:00:39.043 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:00:39.044 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:00:39.045 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:39.046 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:39.046 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:00:39.047 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:00:39.047 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:39.048 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:39.048 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:00:39.049 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:00:39.050 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:00:39.051 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:00:39.052 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:00:39.053 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:00:39.055 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:39.056 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:39.057 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:00:39.058 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:00:39.059 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:39.060 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:00:39.061 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:39.062 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:39.063 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:39.064 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:00:39.065 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:00:39.065 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:00:39.066 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:00:39.067 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:00:39.068 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:39.069 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:39.069 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:39.070 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:00:39.071 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:00:39.071 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:00:39.072 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:00:39.072 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:00:39.073 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:39.074 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:39.074 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:00:39.075 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:00:39.075 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.076 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.076 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.077 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.078 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.078 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.079 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:39.079 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:00:39.080 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.080 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:00:39.081 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:39.081 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:39.082 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:00:39.083 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:00:39.083 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:39.084 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:39.085 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:39.085 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:39.086 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:39.086 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:00:39.087 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:39.087 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:00:39.088 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:39.089 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:39.089 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:00:39.090 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:00:39.091 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:39.091 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:39.092 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:39.092 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:39.093 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:39.094 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:00:39.094 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:39.095 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:00:39.096 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:00:39.096 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:00:39.097 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:00:39.098 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:00:39.098 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:00:39.098 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:00:39.098 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.099 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.100 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.100 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.100 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:00:39.101 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:00:39.102 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:00:39.102 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:00:39.103 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:00:39.103 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:00:39.104 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:00:39.104 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:00:39.113 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:00:39.113 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:00:39.114 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.115 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.115 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:00:39.116 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:00:39.117 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.117 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.118 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:00:39.118 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:00:39.119 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:00:39.119 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:00:39.120 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:00:39.121 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:00:39.122 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:00:39.122 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:00:39.122 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:00:39.123 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:00:39.123 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:00:39.123 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:00:39.124 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:00:39.124 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:00:39.126 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.8841ms
2024-11-19 01:00:39.126 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.1787ms
2024-11-19 01:00:39.127 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:39.127 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:00:39.128 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:00:39.128 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:00:39.129 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.129 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:00:39.130 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:00:39.131 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:00:39.131 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 95.2842ms
2024-11-19 01:00:39.132 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.8623ms
2024-11-19 01:01:03.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:01:03.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:01:03.339 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:01:03.341 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:01:03.341 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:01:03.341 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:01:03.342 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:01:03.342 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:01:03.343 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:01:03.344 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:01:03.344 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:01:03.345 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:01:03.346 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:03.347 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:03.347 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:01:03.348 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:01:03.350 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:03.351 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:03.351 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:01:03.352 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:01:03.353 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:01:03.354 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:01:03.355 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:01:03.355 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:01:03.356 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:03.357 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:03.358 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:01:03.359 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:01:03.360 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:03.360 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:03.361 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:03.362 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:03.363 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:03.365 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:03.365 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:01:03.367 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:01:03.368 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:01:03.369 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:01:03.370 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:03.372 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:03.373 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:03.374 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:03.375 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:01:03.375 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:01:03.376 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:01:03.376 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:01:03.377 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:03.378 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:03.379 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:01:03.379 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:01:03.380 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.381 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.381 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.382 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.382 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.383 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.383 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:03.384 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:03.384 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.384 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:03.386 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:03.386 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:03.387 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:01:03.388 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:01:03.388 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:03.389 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:03.389 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:03.390 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:03.390 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:03.391 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:03.391 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:03.392 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:03.392 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:03.393 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:03.394 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:01:03.394 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:01:03.395 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:03.395 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:03.396 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:03.396 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:03.397 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:03.397 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:03.398 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:03.398 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:03.399 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:01:03.400 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:01:03.404 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:01:03.405 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:01:03.405 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:01:03.405 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:01:03.406 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.406 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.407 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.408 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:01:03.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:01:03.409 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:01:03.409 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:01:03.410 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:01:03.410 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:01:03.410 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:01:03.411 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:01:03.416 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:01:03.416 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:01:03.417 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.418 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.418 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:01:03.419 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:01:03.419 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.420 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.421 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:01:03.421 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:01:03.422 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:01:03.422 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:01:03.423 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:01:03.425 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:01:03.425 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:01:03.425 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:01:03.426 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:01:03.426 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:01:03.426 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:01:03.427 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:01:03.428 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:01:03.428 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:01:03.430 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.8362ms
2024-11-19 01:01:03.430 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.0369ms
2024-11-19 01:01:03.431 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:03.437 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:03.440 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:01:03.441 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:01:03.441 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.442 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:03.443 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:01:03.443 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:01:03.444 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 110.9196ms
2024-11-19 01:01:03.444 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 111.7607ms
2024-11-19 01:01:05.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:01:05.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:01:05.251 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:01:05.252 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:01:05.253 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:01:05.254 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:01:05.254 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:01:05.255 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:01:05.255 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:01:05.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:01:05.256 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:01:05.257 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:01:05.258 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:05.258 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:05.259 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:01:05.259 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:01:05.260 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:05.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:05.261 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:01:05.262 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:01:05.263 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:01:05.265 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:01:05.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:05.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:01:05.267 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:01:05.268 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:01:05.270 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:05.271 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:05.272 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:05.273 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:01:05.275 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:05.276 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:01:05.276 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:01:05.278 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:05.279 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:01:05.280 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:01:05.280 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:05.281 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:01:05.282 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:05.283 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:01:05.283 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:01:05.284 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:05.285 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:01:05.285 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:01:05.286 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:05.287 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:01:05.287 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:01:05.288 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:01:05.289 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.289 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:05.290 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.291 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:01:05.291 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.292 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.293 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:05.293 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.294 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.295 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.295 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:05.296 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:01:05.297 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:01:05.297 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:01:05.298 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:05.299 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:05.299 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:05.300 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:01:05.300 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:05.301 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:05.302 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:05.303 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:05.303 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:05.304 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:01:05.304 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:01:05.305 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:01:05.306 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:05.306 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:05.307 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:05.307 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:01:05.308 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:05.309 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:05.310 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:05.311 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:05.312 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:01:05.312 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:01:05.313 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:01:05.313 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:01:05.314 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:01:05.315 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.316 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:01:05.316 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.317 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:01:05.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:01:05.318 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:01:05.318 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:01:05.319 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.319 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:01:05.320 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.320 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:01:05.321 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:01:05.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:01:05.324 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:01:05.324 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:01:05.326 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:01:05.327 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.327 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:01:05.327 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:01:05.329 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.329 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.330 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:01:05.331 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:01:05.332 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.333 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:01:05.333 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 01:01:05.334 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:01:05.335 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:01:05.336 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:01:05.337 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:01:05.337 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:01:05.338 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:01:05.338 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:01:05.338 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:01:05.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:01:05.339 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:01:05.340 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 67.7763ms
2024-11-19 01:01:05.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:01:05.341 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:05.342 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:01:05.343 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.1905ms
2024-11-19 01:01:05.344 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.344 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:01:05.345 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:01:05.345 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:01:05.346 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 97.5711ms
2024-11-19 01:01:05.346 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:01:05.348 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:01:05.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 100.6833ms
2024-11-19 01:01:45.887 +07:00 [DBG] Connection id "0HN87HVO5FAG3" received FIN.
2024-11-19 01:01:45.888 +07:00 [DBG] Connection id "0HN87HVO5FAG3" is closed. The last processed stream ID was 15.
2024-11-19 01:01:45.889 +07:00 [DBG] Connection id "0HN87HVO5FAG3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 01:01:45.889 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG3 completed.
2024-11-19 01:01:45.896 +07:00 [DBG] Connection id "0HN87HVO5FAG3" stopped.
2024-11-19 01:03:49.534 +07:00 [DBG] Connection id "0HN87HVO5FAG4" accepted.
2024-11-19 01:03:49.536 +07:00 [DBG] Connection id "0HN87HVO5FAG4" started.
2024-11-19 01:03:49.539 +07:00 [DBG] Connection 0HN87HVO5FAG4 established using the following protocol: "Tls13"
2024-11-19 01:03:49.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:03:49.544 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:03:49.546 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:03:49.547 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:03:49.548 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:03:49.548 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:03:49.549 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:03:49.549 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:03:49.550 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:03:49.550 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:03:49.550 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:03:49.551 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:03:49.551 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:49.552 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:49.553 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:03:49.553 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:03:49.554 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:49.554 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:49.555 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:03:49.555 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:03:49.556 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:03:49.557 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:03:49.558 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:03:49.558 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:03:49.559 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:49.560 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:49.561 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:03:49.562 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:03:49.562 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:49.563 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:49.564 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:49.565 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:49.566 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:49.566 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:49.567 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:03:49.567 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:03:49.568 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:03:49.569 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:03:49.569 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:49.570 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:49.571 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:49.571 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:49.572 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:03:49.572 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:03:49.573 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:03:49.574 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:03:49.574 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:49.575 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:49.575 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:03:49.576 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:03:49.577 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.577 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.578 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.579 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.579 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.580 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.581 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:49.581 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:49.582 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.583 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:49.583 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:49.584 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:49.584 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:03:49.585 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:03:49.585 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:49.586 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:49.587 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:49.587 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:49.588 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:49.588 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:49.589 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:49.590 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:49.591 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:49.591 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:49.592 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:03:49.593 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:49.593 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:03:49.594 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:49.595 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:49.595 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:49.596 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:49.597 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:49.597 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:49.598 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:49.598 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:03:49.599 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:03:49.600 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:03:49.601 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:03:49.601 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:03:49.601 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:03:49.602 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:49.602 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:49.603 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:49.603 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:49.604 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:03:49.604 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:03:49.605 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:03:49.605 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:03:49.606 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:03:49.606 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:03:49.607 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:03:49.607 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:03:55.012 +07:00 [DBG] Connection id "0HN87HVO5FAG5" accepted.
2024-11-19 01:03:55.031 +07:00 [DBG] Connection id "0HN87HVO5FAG5" started.
2024-11-19 01:03:55.071 +07:00 [DBG] Connection 0HN87HVO5FAG5 established using the following protocol: "Tls13"
2024-11-19 01:03:55.114 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 01:03:55.160 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 45.9553ms
2024-11-19 01:03:57.284 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:03:57.286 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:03:57.287 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:03:57.288 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:03:57.288 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:03:57.288 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:03:57.289 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:03:57.289 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:03:57.289 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:03:57.290 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:03:57.291 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:03:57.291 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:03:57.292 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:57.293 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:57.293 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:03:57.294 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:03:57.294 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:57.294 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:03:57.295 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:03:57.295 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:03:57.296 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:03:57.298 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:03:57.299 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:03:57.299 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:03:57.300 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:57.301 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:57.302 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:03:57.303 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:03:57.304 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:57.305 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:03:57.305 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:57.306 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:57.307 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:57.308 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:03:57.308 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:03:57.308 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:03:57.309 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:03:57.309 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:03:57.310 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:57.310 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:57.311 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:57.312 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:03:57.312 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:03:57.313 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:03:57.313 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:03:57.314 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:03:57.314 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:57.315 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:57.315 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:03:57.316 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:03:57.316 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.317 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.317 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.318 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.319 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.319 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.320 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:57.320 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:03:57.320 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.321 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:03:57.322 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:57.322 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:57.323 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:03:57.323 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:03:57.324 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:57.324 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:57.325 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:57.325 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:57.326 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:57.326 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:03:57.327 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:57.327 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:03:57.328 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:57.329 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:57.329 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:03:57.330 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:03:57.330 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:57.331 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:57.332 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:57.332 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:57.333 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:57.333 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:03:57.334 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:57.334 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:03:57.335 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:03:57.336 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:03:57.336 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:03:57.337 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:03:57.337 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:03:57.338 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:03:57.338 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:57.338 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:57.348 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:57.349 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:03:57.349 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:03:57.350 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:03:57.351 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:03:57.351 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:03:57.352 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:03:57.352 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:03:57.353 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:03:57.354 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:00.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-19 01:04:00.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-19 01:04:00.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:00.431 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:00.432 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:00.433 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:00.433 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:00.434 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:00.434 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:00.435 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:00.435 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:00.435 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:00.436 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-19 01:04:00.438 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-19 01:04:00.438 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:00.438 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:00.439 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:00.439 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:00.440 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:00.440 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:00.441 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:00.441 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:00.442 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:00.442 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:00.443 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:00.443 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:00.444 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:00.444 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:00.445 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:00.446 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:00.446 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:00.447 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:00.447 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:00.448 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:00.449 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.450 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:00.451 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:00.452 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:00.453 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.453 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.454 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.455 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:00.456 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:00.457 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:00.458 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.458 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.460 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:00.460 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:00.460 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:00.461 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:00.462 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:00.462 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:00.463 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:00.464 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:00.464 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:00.465 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-19 01:04:00.466 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:00.466 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:00.467 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:00.468 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.469 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.469 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:00.470 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.470 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.471 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:00.472 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:00.472 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:00.473 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:00.473 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.474 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.474 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:00.476 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:00.477 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:00.477 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:00.478 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:00.479 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:00.479 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:00.479 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:00.481 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:00.481 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:00.482 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:00.482 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:00.483 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:00.483 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:00.484 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:00.484 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.484 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:00.485 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:00.486 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:00.486 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:00.487 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.488 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:00.489 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:00.489 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:00.489 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.490 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:00.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.491 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:00.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:00.491 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.492 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:00.493 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:00.493 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.494 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:00.495 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:00.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:00.498 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-19 01:04:00.498 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:00.498 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:00.499 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:00.500 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.501 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:00.504 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.505 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.505 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:00.507 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:00.515 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.517 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.518 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.519 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.520 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.520 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.521 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.521 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.522 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.523 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.523 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.524 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.524 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.525 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.526 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.528 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.529 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.530 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.530 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.531 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.531 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.532 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.532 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.533 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.533 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.534 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.535 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.535 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.536 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.537 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.538 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.538 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.539 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.539 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.540 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.540 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.541 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.542 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.542 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.543 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.543 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.544 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.544 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.545 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.545 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 42ms reading results.
2024-11-19 01:04:00.546 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.547 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:00.548 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.548 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.549 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.549 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.550 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:00.553 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:00.554 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.554 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.555 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.556 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.556 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.557 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.557 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.558 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:00.558 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.559 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:00.561 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.562 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.563 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:00.564 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:00.567 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:00.568 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.568 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:00.569 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.570 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:00.570 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.571 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.572 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.572 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.572 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.573 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:00.574 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 114.5893ms
2024-11-19 01:04:00.576 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:00.578 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:00.579 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.580 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:00.583 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.584 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:00.585 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:04:00.585 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:00.586 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 161.6057ms
2024-11-19 01:04:00.586 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:00.587 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:00.588 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:00.589 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:00.589 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:00.590 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:00.591 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:00.591 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:00.592 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.593 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:00.594 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:00.594 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:00.595 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:00.595 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:00.596 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:00.597 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.598 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.598 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:00.599 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:00.600 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:00.601 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:00.601 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:00.602 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.602 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.603 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.603 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.604 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:00.604 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:00.606 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:00.607 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.607 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.608 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.608 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.609 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.609 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.610 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.611 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.611 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.612 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.612 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.613 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.613 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.614 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.614 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.615 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.615 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.616 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.616 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.617 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.618 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.618 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.619 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.619 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.620 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.620 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.621 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.621 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.622 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.622 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.623 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.623 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.624 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.624 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.625 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.625 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.626 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.626 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.627 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.627 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.628 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.628 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.629 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.629 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.630 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 22ms reading results.
2024-11-19 01:04:00.630 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.631 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:00.632 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.632 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.633 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.634 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.634 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:00.635 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:00.636 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:00.637 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.637 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.638 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.639 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.639 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.640 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:00.640 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.641 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:00.641 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.642 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:00.642 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.643 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.644 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:00.644 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:00.645 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:00.646 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:00.647 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.648 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:00.648 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.649 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:00.649 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.650 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.650 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.651 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.651 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.652 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:00.652 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 58.0775ms
2024-11-19 01:04:00.653 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:00.653 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.654 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.655 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:00.655 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 76.8518ms
2024-11-19 01:04:00.813 +07:00 [INF] Executed DbCommand (11,206ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:00.813 +07:00 [INF] Executed DbCommand (3,462ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:00.813 +07:00 [INF] Executed DbCommand (3,460ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:00.814 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.815 +07:00 [INF] Executed DbCommand (316ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:00.815 +07:00 [INF] Executed DbCommand (308ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:00.815 +07:00 [INF] Executed DbCommand (11,208ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:00.816 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.816 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.817 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 01:04:00.818 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.819 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.821 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.822 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-19 01:04:00.822 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-19 01:04:00.823 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.824 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 5ms reading results.
2024-11-19 01:04:00.824 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:00.825 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:00.826 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.827 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.827 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (4ms).
2024-11-19 01:04:00.828 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.829 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.829 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.830 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (4ms).
2024-11-19 01:04:00.830 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (3ms).
2024-11-19 01:04:00.831 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.832 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (3ms).
2024-11-19 01:04:00.833 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (3ms).
2024-11-19 01:04:00.833 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (3ms).
2024-11-19 01:04:00.834 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.835 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.836 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.837 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.838 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.839 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:00.840 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.841 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.841 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.843 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.845 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.846 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:00.846 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.847 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.847 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.847 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.848 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.848 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:00.848 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.849 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.849 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.849 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.850 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.850 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:00.850 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.851 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.851 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:00.852 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.852 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.852 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:00.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:00.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:00.855 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 11291.1359ms
2024-11-19 01:04:00.855 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:00.859 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:00.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:00.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:00.859 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 3553.8035ms
2024-11-19 01:04:00.904 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.904 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 443.1254ms
2024-11-19 01:04:00.905 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 11339.9737ms
2024-11-19 01:04:00.907 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:00.858 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 3551.7378ms
2024-11-19 01:04:00.908 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 450.6593ms
2024-11-19 01:04:00.908 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.908 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:00.909 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:00.910 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.910 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:00.911 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:00.912 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-19 01:04:00.912 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.913 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.913 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.914 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.917 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 11371.5484ms
2024-11-19 01:04:00.915 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.916 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.917 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-11-19 01:04:00.914 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:00.918 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:00.920 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-19 01:04:00.921 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-19 01:04:00.921 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 3637.2181ms
2024-11-19 01:04:00.922 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:00.923 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 3637.4471ms
2024-11-19 01:04:00.924 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 499.4738ms
2024-11-19 01:04:00.925 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 11381.4238ms
2024-11-19 01:04:00.927 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-19 01:04:00.934 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 510.8223ms
2024-11-19 01:04:01.050 +07:00 [DBG] Connection id "0HN87HVO5FAG4" received FIN.
2024-11-19 01:04:01.050 +07:00 [DBG] Connection id "0HN87HVO5FAG5" received FIN.
2024-11-19 01:04:01.051 +07:00 [DBG] Connection id "0HN87HVO5FAG4" is closed. The last processed stream ID was 15.
2024-11-19 01:04:01.052 +07:00 [DBG] Connection id "0HN87HVO5FAG5" is closed. The last processed stream ID was 1.
2024-11-19 01:04:01.052 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG5 completed.
2024-11-19 01:04:01.053 +07:00 [DBG] Connection id "0HN87HVO5FAG4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 01:04:01.054 +07:00 [DBG] Connection id "0HN87HVO5FAG5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 01:04:01.070 +07:00 [DBG] Connection id "0HN87HVO5FAG5" stopped.
2024-11-19 01:04:01.077 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG4 completed.
2024-11-19 01:04:01.078 +07:00 [DBG] Connection id "0HN87HVO5FAG4" stopped.
2024-11-19 01:04:04.116 +07:00 [DBG] Connection id "0HN87HVO5FAG6" accepted.
2024-11-19 01:04:04.117 +07:00 [DBG] Connection id "0HN87HVO5FAG6" started.
2024-11-19 01:04:04.122 +07:00 [DBG] Connection 0HN87HVO5FAG6 established using the following protocol: "Tls13"
2024-11-19 01:04:04.123 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:04:04.123 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:04:04.125 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:04.127 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:04.127 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:04.128 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:04.128 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:04.128 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:04.129 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:04:04.129 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:04:04.130 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:04:04.131 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:04:04.132 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:04.133 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:04.133 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:04.134 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:04.134 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:04.134 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:04.135 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:04.136 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:04.136 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:04.137 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:04.139 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:04.138 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:04.139 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:04.141 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:04.142 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:04.143 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:04.140 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:04.144 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:04.145 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:04.145 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:04.146 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:04.147 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:04:04.147 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:04.148 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:04.149 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:04.150 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:04.150 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:04.151 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:04.152 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:04:04.152 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:04.153 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:04.154 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:04.154 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:04.155 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:04.155 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:04.156 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.157 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:04.157 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.158 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:04.159 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.159 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:04.160 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:04.160 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.161 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.162 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.162 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:04.163 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.163 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:04.164 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:04.165 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:04.165 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:04.166 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:04.167 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:04.167 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:04.168 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:04.169 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:04.169 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:04.170 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:04.170 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:04.171 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:04.172 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:04.172 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:04.173 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:04.174 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:04.174 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:04.175 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:04.176 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:04.176 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:04.177 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:04.178 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:04.178 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:04.180 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:04.180 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:04.180 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:04.181 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:04.181 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:04.182 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:04.183 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:04.183 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:04.184 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:04.184 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:04.185 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:04.185 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:04.186 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:04.187 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:04.187 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:04.188 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:04.189 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:04.190 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:04.190 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:05.310 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-19 01:04:05.310 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:05.310 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-19 01:04:05.312 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:05.313 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:05.314 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:05.315 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:05.315 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:05.316 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:05.316 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:05.317 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:05.317 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:05.318 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-19 01:04:05.319 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:05.320 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:05.321 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-19 01:04:05.321 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:05.322 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:05.322 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:05.323 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:05.325 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:05.326 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:05.324 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:05.325 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:05.327 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:05.327 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:05.328 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:05.329 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:05.329 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:05.330 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:05.332 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:05.333 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:05.335 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:05.336 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:05.337 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.338 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:05.338 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.334 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.334 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:05.339 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:05.340 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:05.341 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:05.342 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:05.342 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.343 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.344 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:05.344 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:05.345 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:05.346 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:05.347 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:05.347 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.348 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.349 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:05.350 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:05.350 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.351 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:05.351 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:05.352 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:05.353 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.353 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:05.354 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.354 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.355 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:05.356 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:05.356 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:05.357 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-19 01:04:05.358 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:05.358 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.359 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:05.359 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:05.360 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:05.361 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:05.361 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.362 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:05.363 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:05.363 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.364 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:05.364 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:05.365 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.366 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.366 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:05.367 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.367 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.368 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:05.368 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 01:04:05.369 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.370 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:05.370 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:05.371 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.372 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:05.373 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-19 01:04:05.374 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:05.374 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:05.375 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:05.376 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:05.377 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:05.378 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:05.378 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:05.379 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.379 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:05.380 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.381 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:05.381 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.382 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:05.383 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.383 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:05.384 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.384 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:05.385 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.385 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:05.386 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.387 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:05.388 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.388 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:05.389 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.389 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:05.390 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.391 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:05.391 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.392 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:05.392 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.394 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:05.394 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.394 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:05.395 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.396 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.397 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.398 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.398 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.399 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.400 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.400 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.401 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.401 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:05.402 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.403 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:05.403 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.405 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.406 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.406 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.407 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.407 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.408 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.409 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.409 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.410 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.411 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.412 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.412 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.413 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.414 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.414 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.415 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.416 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.416 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.417 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.418 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.418 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.419 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.419 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.420 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.421 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 42ms reading results.
2024-11-19 01:04:05.421 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.422 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:05.423 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.424 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.424 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.425 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:05.425 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.426 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:05.429 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:05.430 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.431 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.432 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.432 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.433 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.433 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.434 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.435 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:05.435 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.436 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:05.437 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.438 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:05.439 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.440 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:05.442 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:05.443 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.444 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:05.444 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.445 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:05.446 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:05.447 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:05.447 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:05.448 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:05.448 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:05.449 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:05.450 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 105.5754ms
2024-11-19 01:04:05.451 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:05.451 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:05.451 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:05.453 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:05.454 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.455 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:05.455 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:04:05.456 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:05.456 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 146.7091ms
2024-11-19 01:04:05.457 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:05.459 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:05.460 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:05.460 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:05.461 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:05.461 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:05.462 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:05.463 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:05.464 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.465 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:05.465 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:05.466 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:05.467 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:05.468 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:05.468 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:05.469 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.470 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.470 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:05.471 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:05.472 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:05.473 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:05.473 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:05.474 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.475 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.475 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.476 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:05.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.477 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:05.480 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:05.481 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.482 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.483 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.484 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.484 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.485 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.486 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.486 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.487 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.488 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.488 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.489 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.489 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.490 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.491 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.492 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.493 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.493 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.494 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.495 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.495 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.496 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.496 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.497 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.497 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.498 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.498 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.499 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.500 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.500 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.501 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.502 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.502 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.503 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.503 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.504 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.504 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.505 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.505 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.506 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.507 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.508 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.509 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.509 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.510 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 28ms reading results.
2024-11-19 01:04:05.511 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.511 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:05.512 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.513 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.514 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:05.515 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:05.516 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:05.519 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:05.520 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.520 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.521 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.522 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.522 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.523 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:05.523 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.524 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:05.524 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.525 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:05.526 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.526 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.527 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:05.527 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:05.528 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:05.528 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:05.530 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:05.531 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.532 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:05.532 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.533 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:05.534 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:05.535 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:05.535 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:05.535 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:05.536 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:05.536 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:05.537 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 70.463ms
2024-11-19 01:04:05.537 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:05.538 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:05.538 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:05.539 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:05.540 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 88.6508ms
2024-11-19 01:04:06.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-19 01:04:06.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-19 01:04:06.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:06.561 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:06.560 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:06.559 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:06.562 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:06.562 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:06.563 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:06.563 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:06.564 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:06.564 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:06.565 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:06.565 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:06.565 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-19 01:04:06.566 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:06.567 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:06.567 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-19 01:04:06.568 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:06.569 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:06.570 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:06.571 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:06.571 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:06.573 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:06.573 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:06.572 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:06.574 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:06.576 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:06.577 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:06.578 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:06.579 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:06.580 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:06.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:06.582 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:06.581 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:06.587 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:06.593 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.594 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.596 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.599 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:06.600 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:06.602 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.602 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.601 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:06.603 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:06.604 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:06.605 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.605 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:06.606 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:06.607 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:06.607 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:06.608 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:06.608 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:06.609 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:06.609 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:06.610 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:06.611 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.611 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.612 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:06.612 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.613 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.613 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-19 01:04:06.614 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:06.614 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:06.615 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:06.616 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.616 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.617 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:06.618 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:06.618 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:06.618 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:06.619 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:06.620 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:06.620 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:06.621 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:06.621 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:06.622 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:06.622 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.622 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.623 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:06.623 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.624 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.625 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:06.625 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.626 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.626 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:06.627 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:06.627 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:06.628 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:06.628 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:06.629 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:06.629 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:06.630 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:06.630 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:06.631 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:06.633 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:06.634 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:06.634 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:06.634 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:06.635 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:06.636 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.636 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:06.637 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.637 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:06.638 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.638 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:06.639 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.639 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:06.640 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.640 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:06.641 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.641 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:06.642 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.642 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:06.643 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.643 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:06.644 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.645 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:06.645 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.646 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:06.646 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.647 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:06.647 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.648 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.648 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.649 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.649 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.650 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.650 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.651 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.651 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.652 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:06.653 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.653 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:06.654 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.655 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.655 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.656 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.656 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.657 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.657 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.658 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.659 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.659 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.660 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.660 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.661 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.661 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.662 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.662 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.663 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.663 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.664 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.664 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.665 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.666 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.666 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.667 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.668 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.668 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.669 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.669 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 33ms reading results.
2024-11-19 01:04:06.670 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.670 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:06.671 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.672 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.673 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:06.674 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:06.677 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:06.677 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.678 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.678 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.679 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.680 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.680 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.681 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.681 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:06.682 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.683 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:06.683 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.684 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.684 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.685 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.685 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.686 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:06.688 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:06.689 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.689 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:06.690 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.691 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:06.691 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:06.692 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:06.693 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:06.693 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:06.694 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:06.694 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:06.696 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 91.4107ms
2024-11-19 01:04:06.696 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:06.697 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:06.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:06.698 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.699 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:06.699 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:04:06.700 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:06.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 143.2741ms
2024-11-19 01:04:06.701 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:06.703 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:06.703 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:06.704 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:06.705 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:06.705 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:06.705 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:06.706 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:06.707 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:06.708 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.709 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:06.710 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:06.711 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:06.711 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:06.712 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:06.712 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:06.713 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.713 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.714 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:06.715 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:06.716 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:06.717 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:06.717 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:06.718 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.718 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.719 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.720 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:06.722 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:06.723 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.724 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.724 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.725 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.725 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.726 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.726 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.727 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.727 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.728 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.729 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.730 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.730 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.731 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.732 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.732 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.733 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.733 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.734 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.734 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.735 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.736 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.736 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.737 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.738 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.738 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.739 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.740 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.740 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.741 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.742 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.743 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.743 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.744 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.745 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.745 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.746 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.746 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.747 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.748 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.748 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.749 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.750 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.750 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.751 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 28ms reading results.
2024-11-19 01:04:06.752 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.752 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:06.753 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.754 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.754 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.755 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.755 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.756 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:06.758 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:06.759 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.760 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.760 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.761 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.761 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.762 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:06.763 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.764 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:06.765 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.766 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:06.766 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.767 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:06.768 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.768 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:06.769 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:06.771 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:06.772 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.772 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:06.773 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.774 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:06.774 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:06.775 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:06.776 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:06.776 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:06.777 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:06.778 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:06.779 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 68.1353ms
2024-11-19 01:04:06.780 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:06.780 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:06.781 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:06.782 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:06.782 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 85.0779ms
2024-11-19 01:04:09.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2021 - null null
2024-11-19 01:04:09.640 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:09.641 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:09.641 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:09.642 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2021'
2024-11-19 01:04:09.642 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2021'
2024-11-19 01:04:09.643 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:09.644 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:09.644 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:09.645 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:09.646 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:09.647 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:09.648 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:09.649 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:09.649 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:09.650 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:09.651 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:09.652 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:09.652 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:09.653 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:09.654 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:09.655 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:09.655 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:09.656 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:09.657 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:09.658 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:09.658 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.659 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.660 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:09.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:09.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:09.661 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:09.665 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:09.666 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.666 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.667 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.668 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.668 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.669 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.669 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.670 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.671 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.671 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.672 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.672 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-19 01:04:09.673 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.674 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:09.675 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.675 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.676 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:09.676 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:09.677 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:09.677 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:09.680 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:09.682 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.682 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.683 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.683 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.684 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.685 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.685 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.686 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.686 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.687 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.688 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:09.688 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.689 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 7ms reading results.
2024-11-19 01:04:09.690 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.690 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:09.691 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.692 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.692 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:09.693 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:09.693 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:09.694 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:09.696 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:09.697 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.698 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:09.698 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.699 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:09.700 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:09.701 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:09.701 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:09.702 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:09.702 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:09.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:09.703 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 53.2141ms
2024-11-19 01:04:09.704 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:09.705 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:09.705 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:09.706 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:09.707 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2021 - 200 85 application/json; charset=utf-8 68.3111ms
2024-11-19 01:04:10.672 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2022 - null null
2024-11-19 01:04:10.674 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:10.674 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:10.675 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:10.675 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2022'
2024-11-19 01:04:10.676 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2022'
2024-11-19 01:04:10.677 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:10.677 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:10.678 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:10.678 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:10.679 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:10.680 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:10.680 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:10.681 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:10.682 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:10.682 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:10.683 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:10.683 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:10.684 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:10.684 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:10.685 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:10.685 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:10.686 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:10.687 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:10.688 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:10.688 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:10.689 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.689 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.690 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:10.690 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:10.691 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:10.691 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:10.694 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:10.695 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.696 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.696 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.697 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.697 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.698 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.698 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.699 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.699 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.700 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.700 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.701 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.701 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.702 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.702 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.703 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.703 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.704 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.704 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.705 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.705 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.706 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.706 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 11ms reading results.
2024-11-19 01:04:10.707 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.707 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:10.708 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.709 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.709 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:10.710 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:10.710 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:10.711 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:10.713 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:10.714 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.714 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.715 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.715 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.716 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.716 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.717 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.717 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.718 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.718 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.719 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.719 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:10.720 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.720 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-19 01:04:10.721 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.721 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:10.722 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.723 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.723 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:10.724 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:10.724 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:10.725 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:10.726 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:10.727 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.728 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:10.728 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.729 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:10.730 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:10.730 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:10.731 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:10.731 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:10.731 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:10.732 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:10.733 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 50.2096ms
2024-11-19 01:04:10.733 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:10.734 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:10.734 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:10.735 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:10.735 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2022 - 200 85 application/json; charset=utf-8 64.1946ms
2024-11-19 01:04:12.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-19 01:04:12.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-19 01:04:12.088 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:12.089 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:12.090 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:12.091 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:12.092 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:12.092 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:12.093 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:12.093 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:12.094 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:12.094 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:12.094 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:12.095 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-19 01:04:12.095 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:12.096 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:12.097 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-19 01:04:12.097 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:12.098 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:12.099 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:12.099 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:12.100 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:12.100 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:12.101 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:12.102 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:12.102 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:12.103 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:12.104 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:12.104 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:12.105 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:12.106 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:12.107 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:12.108 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:12.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:12.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:12.110 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:12.111 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.112 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.112 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:12.114 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:12.115 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:12.116 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.116 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.117 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.118 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:12.119 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:12.120 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:12.120 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:12.121 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:12.121 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:12.122 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:12.122 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:12.123 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:12.123 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:12.124 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:12.125 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:12.125 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.126 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-19 01:04:12.127 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.127 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.128 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:12.128 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.129 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:12.129 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:12.130 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:12.131 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.131 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:12.132 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.133 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:12.133 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:12.134 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:12.135 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:12.135 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:12.136 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:12.136 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:12.136 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:12.137 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:12.137 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:12.138 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.139 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.139 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:12.140 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.141 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:12.142 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.142 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:12.143 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:12.143 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:12.144 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.144 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:12.145 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:12.145 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.146 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:12.146 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:12.147 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:12.148 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:12.149 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 01:04:12.149 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:12.150 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:12.150 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:12.152 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:12.153 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:12.153 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:12.153 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:12.154 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:12.155 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.155 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:12.156 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.156 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:12.157 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.157 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:12.158 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.159 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:12.159 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.160 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:12.160 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.161 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:12.161 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.162 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.162 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.163 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.164 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.164 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.165 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.165 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.166 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.167 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.167 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.168 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.168 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:12.169 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.169 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:12.170 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.171 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.172 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.173 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.173 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.174 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.174 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.175 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.175 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.176 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.177 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.177 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.178 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.178 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.179 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.179 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.180 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.181 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.181 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.182 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.182 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.183 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.183 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.184 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.184 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.185 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.185 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.186 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.187 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 31ms reading results.
2024-11-19 01:04:12.187 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.188 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:12.189 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.189 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.190 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.190 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.191 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.191 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:12.194 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:12.195 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.196 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.196 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.197 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.197 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.198 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.198 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.199 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:12.199 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.200 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:12.201 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.202 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.202 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.203 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.204 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:12.205 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:12.206 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.206 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:12.207 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.208 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:12.209 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:12.210 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:12.210 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:12.210 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:12.211 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:12.211 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:12.212 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 91.9986ms
2024-11-19 01:04:12.212 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:12.213 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:12.216 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:12.218 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:12.218 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.218 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:12.219 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:12.219 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:12.220 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 132.5114ms
2024-11-19 01:04:12.220 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:12.223 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:12.223 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:12.224 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:12.224 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:12.225 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:12.226 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:12.226 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:12.227 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.228 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:12.229 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:12.230 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:12.231 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:12.231 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:12.232 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:12.232 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.233 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.233 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:12.234 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:12.234 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:12.236 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:12.236 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:12.236 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.237 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.238 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.238 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.239 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:12.240 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:12.241 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.242 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.242 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.243 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.244 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.244 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.245 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.245 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.246 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.246 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.247 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.247 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.248 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.249 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.249 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.250 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.251 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.251 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.252 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.253 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.253 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.254 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.254 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.255 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.256 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.256 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.257 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.258 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.258 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.259 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.260 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.260 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.261 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.261 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.262 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.263 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.264 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.264 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.265 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.266 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.266 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.267 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.268 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.268 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.269 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 27ms reading results.
2024-11-19 01:04:12.270 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.271 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:12.272 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.273 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.273 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.274 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.274 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:12.275 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:12.276 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:12.277 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.278 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.278 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.279 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.279 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.280 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:12.280 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.281 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:12.282 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.282 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:12.283 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.283 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.284 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:12.284 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.285 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:12.285 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:12.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:12.287 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.288 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:12.288 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.289 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:12.289 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:12.291 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:12.291 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:12.291 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:12.292 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:12.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:12.293 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 62.8471ms
2024-11-19 01:04:12.293 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:12.294 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:12.294 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:12.295 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:12.295 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 82.1591ms
2024-11-19 01:04:13.895 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2021 - null null
2024-11-19 01:04:13.898 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:13.898 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:13.898 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:13.899 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2021'
2024-11-19 01:04:13.899 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2021'
2024-11-19 01:04:13.900 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:13.900 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:13.901 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:13.902 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:13.902 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:13.903 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:13.904 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:13.905 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:13.905 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:13.906 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:13.907 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:13.907 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:13.908 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:13.908 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:13.909 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:13.909 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:13.910 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:13.911 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:13.912 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:13.912 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:13.913 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.913 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:13.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:13.915 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:13.915 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:13.918 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:13.919 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.920 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.920 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.921 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.921 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.922 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.923 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.923 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.924 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.924 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.925 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.925 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 5ms reading results.
2024-11-19 01:04:13.926 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.926 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:13.928 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.928 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.929 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:13.929 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:13.930 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:13.930 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:13.933 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:13.933 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.934 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.934 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.935 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.935 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.936 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.936 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.937 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.938 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.938 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.939 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:13.940 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.940 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-19 01:04:13.941 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.941 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:13.942 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.942 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.943 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:13.944 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:13.944 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:13.945 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:13.946 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:13.947 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.948 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:13.949 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.949 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:13.950 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:13.951 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:13.952 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:13.952 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:13.952 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:13.953 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:13.954 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 47.983ms
2024-11-19 01:04:13.954 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:13.955 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:13.956 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:13.956 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:13.957 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2021 - 200 85 application/json; charset=utf-8 61.8453ms
2024-11-19 01:04:15.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2020 - null null
2024-11-19 01:04:15.175 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:15.176 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:15.176 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:15.177 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2020'
2024-11-19 01:04:15.177 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2020'
2024-11-19 01:04:15.178 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:15.178 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:15.179 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:15.179 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:15.180 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:15.181 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:15.182 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:15.182 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:15.183 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:15.184 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:15.184 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:15.185 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:15.185 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:15.186 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:15.187 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:15.187 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:15.188 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:15.189 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:15.190 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:15.190 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:15.190 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.191 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.191 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:15.192 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:15.192 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:15.193 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:15.196 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:15.196 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.197 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:15.198 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.198 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:15.199 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.199 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.200 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:15.201 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:15.201 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:15.202 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:15.204 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:15.205 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.205 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.206 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.206 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.207 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.207 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.208 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.208 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.209 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.209 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:15.210 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.210 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 6ms reading results.
2024-11-19 01:04:15.211 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.212 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:15.212 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.213 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.213 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:15.214 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:15.215 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:15.215 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:15.217 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:15.218 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.219 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:15.219 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.220 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:15.220 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:15.222 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:15.222 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:15.223 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:15.223 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:15.223 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:15.224 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 40.4429ms
2024-11-19 01:04:15.225 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:15.225 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:15.226 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:15.227 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:15.227 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2020 - 200 84 application/json; charset=utf-8 53.4188ms
2024-11-19 01:04:18.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:18.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-19 01:04:18.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-19 01:04:18.613 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:18.618 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:18.620 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:18.620 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:18.621 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:18.622 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:18.623 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:18.623 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:18.624 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:18.625 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:18.626 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-19 01:04:18.627 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:18.627 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:18.628 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-19 01:04:18.629 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:18.629 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:18.630 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:18.631 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:18.632 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:18.632 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:18.633 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:18.634 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:18.634 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:18.635 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:18.635 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:18.636 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:18.636 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:18.637 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:18.638 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:18.639 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:18.639 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:18.640 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:18.640 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:18.641 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.642 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.642 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.643 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:18.644 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:18.645 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:18.646 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.646 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.647 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.647 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:18.648 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:18.649 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:18.650 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:18.650 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:18.651 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:18.651 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:18.652 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:18.652 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:18.653 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:18.653 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:18.654 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:18.655 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.655 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-19 01:04:18.656 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.656 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.657 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:18.658 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.658 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:18.659 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:18.659 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:18.660 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.660 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:18.661 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.662 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:18.662 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:18.663 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:18.663 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:18.664 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:18.665 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:18.665 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:18.666 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:18.666 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.666 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:18.667 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:18.668 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.668 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.669 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:18.669 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.670 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:18.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:18.671 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:18.672 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:18.673 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:18.673 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.673 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:18.674 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:18.674 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.676 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:18.676 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:18.677 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:18.677 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:18.677 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:18.678 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:18.678 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.679 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:18.680 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:18.680 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.682 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:18.682 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.683 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:18.683 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.684 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:18.684 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.685 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:18.685 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.686 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:18.687 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.687 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:18.688 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.688 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:18.689 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.690 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:18.690 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.691 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.691 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:18.692 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.692 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:18.692 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.693 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.694 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.695 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.695 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.696 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.697 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.697 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.698 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.698 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.698 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.699 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.699 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:18.700 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.701 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:18.701 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.702 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:18.702 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.704 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.704 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.705 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.705 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.706 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.706 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.707 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.708 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.708 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.709 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.709 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.710 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.710 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.711 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.711 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.712 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.712 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.713 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.714 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.714 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.715 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 36ms reading results.
2024-11-19 01:04:18.716 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.716 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:18.717 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.718 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.719 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.719 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.720 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:18.723 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:18.724 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.724 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.725 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.726 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.726 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.727 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.728 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.728 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:18.729 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.729 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:18.730 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.731 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.731 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.732 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.732 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.733 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:18.734 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:18.736 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.737 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 01:04:18.737 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.738 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:18.738 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:18.740 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:18.740 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:18.740 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:18.741 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:18.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:18.742 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 94.5565ms
2024-11-19 01:04:18.743 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:18.746 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:18.746 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:18.747 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.752 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:18.753 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-19 01:04:18.753 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:18.754 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 142.1433ms
2024-11-19 01:04:18.754 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:18.756 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:18.757 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:18.758 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:18.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:18.758 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:18.759 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:18.760 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:18.760 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:18.761 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.762 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:18.763 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:18.763 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:18.764 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:18.765 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:18.765 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:18.766 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.766 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.767 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:18.768 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:18.769 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:18.770 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:18.770 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:18.771 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.771 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.772 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.772 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.773 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.773 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:18.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:18.775 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.776 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.777 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.778 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.779 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.779 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.780 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.780 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.781 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.781 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.782 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.782 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.783 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.784 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.784 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.785 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.786 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.786 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.787 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.787 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.788 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.788 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.789 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.789 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.790 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.791 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.792 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.793 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.793 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.794 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.794 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.795 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.796 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.796 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.797 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.797 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.798 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.799 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.800 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.800 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.801 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.801 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.802 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.803 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.803 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 27ms reading results.
2024-11-19 01:04:18.804 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.805 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:18.806 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.807 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.807 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.808 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.808 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.809 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:18.810 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:18.811 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.812 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.813 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.813 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.814 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.815 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:18.815 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.816 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:18.816 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.817 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:18.818 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.819 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.820 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:18.820 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:18.821 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:18.822 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:18.823 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:18.824 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.825 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:18.826 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.826 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:18.827 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:18.828 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:18.828 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:18.829 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:18.829 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:18.830 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:18.830 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 66.7691ms
2024-11-19 01:04:18.831 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:18.831 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:18.832 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:18.833 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:18.833 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 86.8883ms
2024-11-19 01:04:20.110 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - null null
2024-11-19 01:04:20.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - null null
2024-11-19 01:04:20.110 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:20.112 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:20.113 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:20.114 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:20.115 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:20.115 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:20.116 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:20.116 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:20.116 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:20.117 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:20.117 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment'
2024-11-19 01:04:20.118 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:20.119 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:20.119 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)' with route pattern 'api/Appointment' is valid for the request path '/api/Appointment'
2024-11-19 01:04:20.120 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)' with route pattern 'api/Appointment/RecentPatient/{n}' is valid for the request path '/api/Appointment/RecentPatient/4'
2024-11-19 01:04:20.120 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:20.121 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:20.121 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:20.122 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:20.123 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:20.127 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:20.123 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:20.127 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:20.128 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:20.128 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:20.129 +07:00 [INF] Route matched with {action = "GetAllAppointment", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllAppointment(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:20.129 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:20.130 +07:00 [INF] Route matched with {action = "RecentPatient", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RecentPatient(Int32) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 01:04:20.131 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:20.132 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:20.133 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:20.134 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:20.135 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:20.135 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:20.136 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.137 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.138 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.139 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:20.139 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:20.140 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:20.141 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.141 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.142 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.143 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:20.144 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:20.144 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:20.145 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:20.146 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:20.146 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 01:04:20.147 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:20.147 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:20.148 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:20.148 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:20.149 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:20.150 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:20.150 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2024-11-19 01:04:20.151 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.152 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.152 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:20.153 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.153 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.154 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:20.154 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:20.155 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:20.156 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:20.156 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.156 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.157 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:20.158 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:20.159 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:20.159 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:20.160 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:20.160 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:20.161 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:20.162 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:20.162 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:20.163 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.163 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 01:04:20.163 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:20.164 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.164 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.165 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:20.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.167 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:20.167 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:20.168 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:20.168 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:20.169 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:20.169 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:20.170 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:20.171 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:20.172 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:20.173 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:20.174 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:20.174 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:20.174 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.175 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.176 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:20.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.177 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.177 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:20.178 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:20.178 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.179 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:20.179 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 01:04:20.180 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.181 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:20.181 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:20.182 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.182 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:20.184 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.184 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:20.185 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.186 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:20.186 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.187 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.188 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:20.188 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.188 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:20.189 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.189 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.190 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.191 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.192 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.193 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.193 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.194 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.194 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.195 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.195 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.196 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.196 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.197 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 01:04:20.197 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.198 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:20.198 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.200 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.201 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.201 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.202 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.202 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.203 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.203 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.204 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.205 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.205 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.206 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.206 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.207 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.208 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.209 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.209 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.210 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.210 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.211 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.211 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.212 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.212 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.213 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.213 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 38ms reading results.
2024-11-19 01:04:20.214 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.215 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:20.216 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.217 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.217 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.218 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.218 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.219 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:20.221 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:20.222 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.223 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.224 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.224 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.225 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.225 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.226 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.226 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 01:04:20.227 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.227 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:20.228 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.229 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.229 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.230 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.231 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:20.231 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:20.233 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:20.233 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.234 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:20.235 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.235 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:20.236 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:20.237 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:20.238 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:20.238 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:20.238 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:20.239 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:20.240 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 96.0857ms
2024-11-19 01:04:20.240 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:20.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - null null
2024-11-19 01:04:20.244 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:20.246 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:20.247 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:20.247 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.248 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:20.248 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 01:04:20.249 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/year/2024'
2024-11-19 01:04:20.249 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 139.2414ms
2024-11-19 01:04:20.250 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)' with route pattern 'api/Patient/year/{n}' is valid for the request path '/api/Patient/year/2024'
2024-11-19 01:04:20.252 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:20.252 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:20.253 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:20.253 +07:00 [INF] Route matched with {action = "PatientChart", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PatientChart(Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:20.254 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:20.255 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:20.256 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.257 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:20.257 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:20.258 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:20.259 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:20.259 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:20.260 +07:00 [DBG] Attempting to bind parameter 'n' of type 'System.Int32' using the name 'n' in request data ...
2024-11-19 01:04:20.260 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.261 +07:00 [DBG] Done attempting to bind parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.261 +07:00 [DBG] Attempting to validate the bound parameter 'n' of type 'System.Int32' ...
2024-11-19 01:04:20.262 +07:00 [DBG] Done attempting to validate the bound parameter 'n' of type 'System.Int32'.
2024-11-19 01:04:20.264 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:20.265 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:20.265 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:20.265 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.266 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.266 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.267 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.267 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.268 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:20.269 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) < @__n_0
2024-11-19 01:04:20.271 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.271 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.272 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.272 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.273 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.273 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.274 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.274 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.275 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.275 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.276 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.277 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.278 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.278 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.279 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.279 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.280 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.280 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.281 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.281 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.282 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.282 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.283 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.284 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.284 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.285 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.286 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.286 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.287 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.287 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.288 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.288 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.289 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.289 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.290 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.291 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.292 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.292 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.293 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.294 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.294 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.296 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.297 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.298 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.299 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 28ms reading results.
2024-11-19 01:04:20.299 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.300 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:20.301 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.302 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.302 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:20.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:20.306 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__n_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Avatar], [p].[Date], [p].[Diseases], [p].[Email], [p].[FullName], [p].[Gender], [p].[Location], [p].[PaymentId], [p].[PhoneNumber], [p].[Status], [p].[Time]
FROM [Patient] AS [p]
WHERE DATEPART(year, [p].[Time]) = @__n_0
2024-11-19 01:04:20.307 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.308 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.309 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.310 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.310 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.311 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 01:04:20.312 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.312 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 4ms reading results.
2024-11-19 01:04:20.313 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.313 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:20.314 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.315 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:20.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:20.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:20.317 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:20.318 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patient] AS [p]
2024-11-19 01:04:20.319 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.319 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 01:04:20.320 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.320 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 01:04:20.321 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:20.322 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:20.322 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:20.323 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:20.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:20.323 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-19 01:04:20.325 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API) in 66.7887ms
2024-11-19 01:04:20.325 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.PatientChart (CityInfo.API)'
2024-11-19 01:04:20.326 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:20.327 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:20.327 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 01:04:20.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient/year/2024 - 200 84 application/json; charset=utf-8 86.647ms
2024-11-19 01:04:24.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:04:24.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:04:24.834 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:24.835 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:24.837 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:24.836 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:24.837 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:24.837 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:24.838 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:04:24.838 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:04:24.839 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:04:24.839 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:04:24.840 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:24.841 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:24.841 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:24.842 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:24.842 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:24.842 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:24.843 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:24.843 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:24.844 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:24.845 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:24.846 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:24.846 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:24.847 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:24.847 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:24.848 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:24.849 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:24.850 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:24.850 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:24.851 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:24.852 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:24.852 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:24.853 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:24.853 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:24.854 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:24.854 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:04:24.855 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:04:24.855 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:24.856 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:24.856 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:24.857 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:24.857 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:24.858 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:24.858 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:24.859 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:24.860 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:24.860 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:24.861 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:24.861 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:24.862 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.862 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.863 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.863 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.864 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.864 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.865 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:24.865 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:24.866 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.866 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:24.867 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:24.867 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:24.868 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:24.868 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:24.869 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:24.870 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:24.870 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:24.871 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:24.871 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:24.872 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:24.872 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:24.873 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:24.873 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:24.874 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:24.874 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:24.875 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:24.875 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:24.876 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:24.876 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:24.877 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:24.877 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:24.878 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:24.878 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:24.879 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:24.880 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:24.880 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:24.881 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:24.882 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:24.882 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:24.882 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:24.883 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:24.882 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:24.884 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:24.885 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:24.885 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:24.886 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:24.887 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:24.887 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:24.888 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:24.889 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:24.889 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:24.890 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:26.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 01:04:26.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 01:04:26.980 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:26.983 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 01:04:26.983 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:26.984 +07:00 [INF] CORS policy execution successful.
2024-11-19 01:04:26.986 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:26.986 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 01:04:26.987 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:04:26.987 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 01:04:26.989 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:04:26.989 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 01:04:26.991 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:26.994 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:26.995 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:26.996 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 01:04:26.997 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:26.997 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:26.998 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:26.998 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 01:04:27.000 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:27.001 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 01:04:27.006 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:27.007 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 01:04:27.007 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:27.008 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:27.010 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:27.011 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 01:04:27.012 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:27.013 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 01:04:27.014 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:27.014 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:27.015 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:27.016 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:27.016 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:04:27.016 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 01:04:27.017 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:27.017 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 01:04:27.018 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:27.019 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 01:04:27.019 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:27.020 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:27.021 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:27.021 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 01:04:27.022 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:27.023 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 01:04:27.023 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:27.024 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 01:04:27.024 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.025 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:27.026 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.027 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 01:04:27.027 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.028 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.028 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:27.029 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.029 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.030 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.030 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:27.031 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 01:04:27.032 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:27.032 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 01:04:27.033 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:27.034 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:27.034 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:27.035 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 01:04:27.035 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:27.036 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:27.036 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:27.037 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:27.038 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:27.038 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 01:04:27.038 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:27.039 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 01:04:27.040 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:27.040 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:27.041 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:27.042 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 01:04:27.042 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:27.043 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:27.043 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:27.044 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:27.045 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:27.045 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 01:04:27.046 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:27.046 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 01:04:27.046 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:27.048 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:27.048 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 01:04:27.049 +07:00 [DBG] Creating DbConnection.
2024-11-19 01:04:27.050 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 01:04:27.051 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:27.051 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:27.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:27.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 01:04:27.053 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:27.053 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:27.054 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:27.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 01:04:27.056 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:27.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 01:04:27.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (22,218ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (23,468ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (16,701ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:28.875 +07:00 [INF] Executed DbCommand (1,818ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (10,192ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (24,681ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (22,242ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (23,501ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:28.872 +07:00 [INF] Executed DbCommand (8,674ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:28.872 +07:00 [INF] Executed DbCommand (8,691ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:28.872 +07:00 [INF] Executed DbCommand (10,170ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    ORDER BY [a].[AppointmentTime]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime]
2024-11-19 01:04:28.872 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.872 +07:00 [INF] Executed DbCommand (3,983ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:28.873 +07:00 [INF] Executed DbCommand (3,986ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:28.873 +07:00 [INF] Executed DbCommand (1,819ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 01:04:28.874 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.875 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.871 +07:00 [INF] Executed DbCommand (16,725ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AppointmentId], [t].[AppointmentTime], [t].[AppointmentStatus], [t].[AppointmentComment], [t].[AppointmentConfirmed], [p].[Status] AS [PatientStatus], [t].[PatientId], [t].[DoctorId], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Diseases], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM (
    SELECT TOP(@__p_0) [a].[AppointmentId], [a].[AppointmentComment], [a].[AppointmentConfirmed], [a].[AppointmentStatus], [a].[AppointmentTime], [a].[DoctorId], [a].[PatientId]
    FROM [Appointment] AS [a]
    WHERE [a].[AppointmentConfirmed] = N'Finished'
    ORDER BY [a].[AppointmentTime] DESC
) AS [t]
INNER JOIN [Patient] AS [p] ON [t].[PatientId] = [p].[PatientId]
ORDER BY [t].[AppointmentTime] DESC
2024-11-19 01:04:28.875 +07:00 [INF] Executed DbCommand (24,688ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 01:04:28.876 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.877 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.878 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.879 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.880 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.882 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.883 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.884 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.884 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 11ms reading results.
2024-11-19 01:04:28.885 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.886 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.887 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.888 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 14ms reading results.
2024-11-19 01:04:28.888 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 13ms reading results.
2024-11-19 01:04:28.890 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.891 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.891 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 15ms reading results.
2024-11-19 01:04:28.892 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 14ms reading results.
2024-11-19 01:04:28.892 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 14ms reading results.
2024-11-19 01:04:28.893 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 14ms reading results.
2024-11-19 01:04:28.894 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 13ms reading results.
2024-11-19 01:04:28.894 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 12ms reading results.
2024-11-19 01:04:28.895 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 12ms reading results.
2024-11-19 01:04:28.895 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 11ms reading results.
2024-11-19 01:04:28.896 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.897 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 11ms reading results.
2024-11-19 01:04:28.897 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 11ms reading results.
2024-11-19 01:04:28.898 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 10ms reading results.
2024-11-19 01:04:28.899 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.900 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.900 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 10ms reading results.
2024-11-19 01:04:28.901 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 10ms reading results.
2024-11-19 01:04:28.902 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.902 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.903 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.903 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.904 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.905 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.905 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.906 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.907 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.908 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.908 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.909 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.910 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.910 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.911 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.912 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.912 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.913 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.913 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.914 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (10ms).
2024-11-19 01:04:28.914 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (9ms).
2024-11-19 01:04:28.915 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (9ms).
2024-11-19 01:04:28.915 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (9ms).
2024-11-19 01:04:28.916 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (9ms).
2024-11-19 01:04:28.916 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.917 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (9ms).
2024-11-19 01:04:28.917 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (8ms).
2024-11-19 01:04:28.918 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (8ms).
2024-11-19 01:04:28.918 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.919 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.919 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (8ms).
2024-11-19 01:04:28.920 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (8ms).
2024-11-19 01:04:28.921 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.921 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.922 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.923 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.924 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.924 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.925 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.926 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.927 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.927 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.928 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.928 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.929 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.930 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.931 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.932 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 01:04:28.933 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.934 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.934 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.936 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.947 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.938 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.939 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.948 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.948 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.941 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.942 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.943 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.944 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.944 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.945 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.946 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.946 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.946 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.947 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.952 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.947 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.948 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.953 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.940 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.949 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.949 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.949 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.950 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.950 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.950 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.951 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.951 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.951 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.952 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.937 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.952 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.953 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.940 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 01:04:28.953 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.954 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.954 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.955 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.955 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.955 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.956 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.956 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.956 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.957 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.957 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.957 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.958 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.958 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.959 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 01:04:28.960 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.960 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.961 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 8816.1545ms
2024-11-19 01:04:28.961 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.961 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.962 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.963 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.971 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 23621.3296ms
2024-11-19 01:04:28.963 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.964 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.971 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 16852.2344ms
2024-11-19 01:04:28.966 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 22362.9479ms
2024-11-19 01:04:28.977 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:28.973 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 10324.2695ms
2024-11-19 01:04:28.973 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 1958.307ms
2024-11-19 01:04:28.963 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.965 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.969 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.968 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.971 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:28.966 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 24818.8851ms
2024-11-19 01:04:28.967 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 01:04:28.969 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.967 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 8824.4347ms
2024-11-19 01:04:28.968 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:28.970 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.978 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:28.979 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.987 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.987 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.991 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.979 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:28.980 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:28.980 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.981 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.981 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 4130.2095ms
2024-11-19 01:04:28.982 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 22375.0803ms
2024-11-19 01:04:28.982 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 24839.3995ms
2024-11-19 01:04:28.983 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.983 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:28.983 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 01:04:28.984 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 4132.3594ms
2024-11-19 01:04:28.985 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:28.985 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.992 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 1978.6153ms
2024-11-19 01:04:28.992 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-19 01:04:28.993 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 01:04:28.993 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.994 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.994 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 16876.4224ms
2024-11-19 01:04:28.995 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.995 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:28.996 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:28.997 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:28.997 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:28.998 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:28.998 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.AppointmentModel, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 01:04:28.999 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:29.000 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.000 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.001 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 01:04:29.001 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 16914.0671ms
2024-11-19 01:04:29.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 22445.3559ms
2024-11-19 01:04:29.003 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.003 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.004 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:29.005 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API) in 23665.3762ms
2024-11-19 01:04:29.005 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.006 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.007 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.007 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-11-19 01:04:29.008 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.009 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API) in 10360.639ms
2024-11-19 01:04:29.009 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.010 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.011 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-11-19 01:04:29.011 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.016 +07:00 [DBG] Disposed connection to database '' on server '' (13ms).
2024-11-19 01:04:29.016 +07:00 [DBG] Disposed connection to database '' on server '' (13ms).
2024-11-19 01:04:29.018 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.019 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.RecentPatient (CityInfo.API)'
2024-11-19 01:04:29.020 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.021 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.021 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.022 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 23712.7236ms
2024-11-19 01:04:29.023 +07:00 [DBG] Disposed connection to database '' on server '' (15ms).
2024-11-19 01:04:29.024 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetAllAppointment (CityInfo.API)'
2024-11-19 01:04:29.025 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.026 +07:00 [DBG] Disposed connection to database '' on server '' (15ms).
2024-11-19 01:04:29.028 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 8917.9624ms
2024-11-19 01:04:29.032 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 10423.6896ms
2024-11-19 01:04:29.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 2063.2695ms
2024-11-19 01:04:29.038 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.039 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.039 +07:00 [DBG] Disposed connection to database '' on server '' (18ms).
2024-11-19 01:04:29.042 +07:00 [DBG] Disposed connection to database '' on server '' (21ms).
2024-11-19 01:04:29.043 +07:00 [DBG] Disposed connection to database '' on server '' (21ms).
2024-11-19 01:04:29.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 24925.7426ms
2024-11-19 01:04:29.049 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 01:04:29.051 +07:00 [DBG] Disposed connection to database '' on server '' (26ms).
2024-11-19 01:04:29.052 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 8941.7912ms
2024-11-19 01:04:29.056 +07:00 [DBG] Disposed connection to database '' on server '' (23ms).
2024-11-19 01:04:29.063 +07:00 [DBG] Disposed connection to database '' on server '' (25ms).
2024-11-19 01:04:29.063 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.064 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 4231.872ms
2024-11-19 01:04:29.065 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 22508.173ms
2024-11-19 01:04:29.066 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 24943.2425ms
2024-11-19 01:04:29.069 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 01:04:29.070 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 4238.0099ms
2024-11-19 01:04:29.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 2101.2821ms
2024-11-19 01:04:29.074 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 16986.3478ms
2024-11-19 01:04:29.074 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-11-19 01:04:29.080 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-11-19 01:04:29.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/RecentPatient/4 - 200 2478 application/json; charset=utf-8 23776.6176ms
2024-11-19 01:04:29.087 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment?page=1&page_size=7 - 200 4322 application/json; charset=utf-8 10475.2045ms
2024-11-19 01:04:31.063 +07:00 [DBG] Connection id "0HN87HVO5FAG6" received FIN.
2024-11-19 01:04:31.064 +07:00 [DBG] Connection id "0HN87HVO5FAG6" is closed. The last processed stream ID was 59.
2024-11-19 01:04:31.064 +07:00 [DBG] Connection id "0HN87HVO5FAG6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 01:04:31.065 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG6 completed.
2024-11-19 01:04:31.066 +07:00 [DBG] Connection id "0HN87HVO5FAG6" stopped.
2024-11-19 11:16:22.906 +07:00 [DBG] Connection id "0HN87HVO5FAG7" accepted.
2024-11-19 11:16:22.936 +07:00 [DBG] Connection id "0HN87HVO5FAG7" started.
2024-11-19 11:16:22.955 +07:00 [DBG] Connection 0HN87HVO5FAG7 established using the following protocol: "Tls13"
2024-11-19 11:16:22.961 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:16:22.961 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:16:22.973 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:16:22.976 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:16:22.976 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:16:22.977 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:16:22.978 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:16:22.979 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:16:22.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:16:22.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:16:22.982 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:16:22.982 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:16:22.984 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:22.985 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:22.986 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:16:22.986 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:16:22.988 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:22.988 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:22.991 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:16:22.992 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:16:22.993 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:16:22.994 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:16:22.995 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:16:22.996 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:16:22.997 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:22.998 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:22.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:16:23.000 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:16:23.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:23.002 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:23.003 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:23.004 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:23.006 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:23.007 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:23.008 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:16:23.008 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:16:23.010 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:16:23.011 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:16:23.012 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:23.013 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:23.014 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:23.015 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:23.016 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:16:23.016 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:16:23.017 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:16:23.018 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:16:23.019 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:23.020 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:23.020 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:16:23.021 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:16:23.022 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.022 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.023 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.024 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.026 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.026 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.027 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:23.028 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:23.029 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.029 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:23.030 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:23.031 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:23.031 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:16:23.032 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:16:23.033 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:23.034 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:23.035 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:23.036 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:23.037 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:23.038 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:23.039 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:23.040 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:23.041 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:23.042 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:23.043 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:16:23.044 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:16:23.045 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:23.046 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:23.047 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:23.048 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:23.049 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:23.050 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:23.050 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:23.051 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:23.055 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:16:23.055 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:16:23.058 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:16:23.058 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:16:23.062 +07:00 [DBG] Created DbConnection. (4ms).
2024-11-19 11:16:23.062 +07:00 [DBG] Created DbConnection. (4ms).
2024-11-19 11:16:23.063 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.063 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.087 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:16:23.090 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:16:23.091 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:16:23.092 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:16:23.100 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.101 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:16:23.102 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:16:23.103 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:16:23.104 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:16:23.106 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:16:23.108 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:16:23.108 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.110 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.111 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:16:23.111 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:16:23.112 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.114 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.114 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:16:23.115 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:16:23.117 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:16:23.118 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:16:23.119 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:16:23.123 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:16:23.123 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:16:23.124 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:16:23.124 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:16:23.125 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:16:23.125 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:16:23.125 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:16:23.126 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:16:23.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:16:23.128 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 123.7061ms
2024-11-19 11:16:23.131 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:23.136 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 133.2767ms
2024-11-19 11:16:23.136 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:16:23.138 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:23.139 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.140 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:16:23.140 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:16:23.141 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:23.142 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 180.5863ms
2024-11-19 11:16:23.143 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:16:23.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 185.5437ms
2024-11-19 11:16:44.870 +07:00 [DBG] Connection id "0HN87HVO5FAG7" received FIN.
2024-11-19 11:16:44.875 +07:00 [DBG] Connection id "0HN87HVO5FAG7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:16:44.875 +07:00 [DBG] Connection id "0HN87HVO5FAG7" is closed. The last processed stream ID was 3.
2024-11-19 11:16:44.879 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG7 completed.
2024-11-19 11:16:44.882 +07:00 [DBG] Connection id "0HN87HVO5FAG7" stopped.
2024-11-19 11:16:53.236 +07:00 [DBG] Connection id "0HN87HVO5FAG8" accepted.
2024-11-19 11:16:53.240 +07:00 [DBG] Connection id "0HN87HVO5FAG8" started.
2024-11-19 11:16:53.251 +07:00 [DBG] Connection 0HN87HVO5FAG8 established using the following protocol: "Tls13"
2024-11-19 11:16:53.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:16:53.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:16:53.268 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:16:53.273 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:16:53.274 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:16:53.276 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:16:53.277 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:16:53.281 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:16:53.284 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:16:53.286 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:16:53.288 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:16:53.290 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:16:53.298 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:53.302 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:53.303 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:16:53.305 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:16:53.306 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:53.307 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:53.308 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:16:53.309 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:16:53.311 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:16:53.314 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:16:53.317 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:16:53.318 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:16:53.318 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:53.319 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:53.320 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:16:53.321 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:16:53.323 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:53.324 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:16:53.326 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:53.328 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:53.329 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:53.330 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:16:53.332 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:16:53.332 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:16:53.333 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:16:53.334 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:16:53.335 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:53.336 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:53.337 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:53.338 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:16:53.339 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:16:53.339 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:16:53.340 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:16:53.341 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:16:53.342 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:53.342 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:53.343 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:16:53.344 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:16:53.345 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.347 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.348 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.348 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.349 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.350 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.351 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:53.352 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:16:53.353 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.354 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:16:53.355 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:53.356 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:53.356 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:16:53.357 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:16:53.358 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:53.359 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:53.360 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:53.360 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:53.361 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:53.361 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:16:53.362 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:53.363 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:16:53.363 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:53.364 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:53.364 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:16:53.366 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:16:53.367 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:53.368 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:53.368 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:53.369 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:53.370 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:53.370 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:16:53.371 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:53.372 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:16:53.374 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:16:53.374 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:16:53.375 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:16:53.376 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:16:53.377 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:16:53.378 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:16:53.378 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.379 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.380 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.381 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.381 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:16:53.382 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:16:53.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:16:53.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:16:53.384 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:16:53.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:16:53.386 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:16:53.387 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:16:53.396 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:16:53.397 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:16:53.399 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.399 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.400 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:16:53.401 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:16:53.402 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.403 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.403 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:16:53.404 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:16:53.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:16:53.406 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:16:53.408 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:16:53.409 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:16:53.410 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:16:53.410 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:16:53.411 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:16:53.411 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:16:53.411 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:16:53.412 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:16:53.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:16:53.413 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:16:53.416 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 88.3454ms
2024-11-19 11:16:53.417 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 91.2039ms
2024-11-19 11:16:53.418 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:53.422 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:16:53.423 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:16:53.424 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:16:53.424 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.425 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:16:53.425 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:16:53.426 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:16:53.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 167.5202ms
2024-11-19 11:16:53.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 170.2365ms
2024-11-19 11:16:54.882 +07:00 [DBG] Connection id "0HN87HVO5FAG8" received FIN.
2024-11-19 11:16:54.883 +07:00 [DBG] Connection id "0HN87HVO5FAG8" is closed. The last processed stream ID was 3.
2024-11-19 11:16:54.883 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG8 completed.
2024-11-19 11:16:54.884 +07:00 [DBG] Connection id "0HN87HVO5FAG8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:16:54.896 +07:00 [DBG] Connection id "0HN87HVO5FAG8" stopped.
2024-11-19 11:19:17.738 +07:00 [DBG] Connection id "0HN87HVO5FAG9" accepted.
2024-11-19 11:19:17.740 +07:00 [DBG] Connection id "0HN87HVO5FAG9" started.
2024-11-19 11:19:17.753 +07:00 [DBG] Connection 0HN87HVO5FAG9 established using the following protocol: "Tls13"
2024-11-19 11:19:17.762 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:19:17.762 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:19:17.791 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:19:17.793 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:19:17.794 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:19:17.795 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:19:17.795 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:19:17.796 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:19:17.796 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:19:17.797 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:19:17.798 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:19:17.799 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:19:17.801 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:17.802 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:17.803 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:19:17.803 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:19:17.804 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:17.805 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:17.805 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:19:17.806 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:19:17.808 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:19:17.809 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:19:17.810 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:19:17.811 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:19:17.811 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:17.812 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:17.814 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:19:17.816 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:19:17.817 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:17.818 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:17.819 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:17.820 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:17.822 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:17.823 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:17.823 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:19:17.824 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:19:17.825 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:19:17.826 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:19:17.827 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:17.828 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:17.829 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:17.830 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:17.831 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:19:17.832 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:19:17.832 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:19:17.833 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:19:17.835 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:17.836 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:17.837 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:19:17.838 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:19:17.839 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.840 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.841 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.842 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.843 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.844 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.845 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:17.845 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:17.846 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.847 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:17.848 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:17.849 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:17.850 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:19:17.851 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:19:17.852 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:17.853 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:17.854 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:17.855 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:17.856 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:17.857 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:17.858 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:17.859 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:17.860 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:17.860 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:17.861 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:19:17.862 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:19:17.864 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:17.865 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:17.866 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:17.867 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:17.868 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:17.869 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:17.870 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:17.871 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:17.873 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:19:17.877 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:19:17.879 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:19:17.881 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:19:17.881 +07:00 [DBG] Created DbConnection. (2ms).
2024-11-19 11:19:17.882 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:19:17.883 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.884 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.886 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.887 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.888 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:19:17.889 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:19:17.890 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:19:17.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:19:17.891 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:19:17.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-19 11:19:17.894 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:19:17.896 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:19:17.907 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:19:17.907 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:19:17.909 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.910 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.911 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:19:17.912 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:19:17.913 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.914 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.915 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:19:17.916 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:19:17.918 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:19:17.919 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:19:17.920 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:19:17.922 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:19:17.922 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:19:17.922 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:19:17.923 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:19:17.923 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:19:17.925 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:19:17.925 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:19:17.927 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:19:17.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:19:17.930 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 109.6089ms
2024-11-19 11:19:17.933 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 113.9543ms
2024-11-19 11:19:17.934 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:17.939 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:17.940 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:19:17.941 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:19:17.941 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.942 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:17.943 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:19:17.944 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:19:17.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 208.7257ms
2024-11-19 11:19:17.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 183.192ms
2024-11-19 11:19:21.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:19:21.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:19:21.432 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:19:21.439 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:19:21.441 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:19:21.441 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:19:21.442 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:19:21.443 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:19:21.444 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:19:21.445 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:19:21.446 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:19:21.447 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:19:21.448 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:21.450 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:21.451 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:19:21.452 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:19:21.453 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:21.454 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:21.457 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:19:21.458 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:19:21.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:19:21.462 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:19:21.463 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:19:21.464 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:19:21.465 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:21.466 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:21.468 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:19:21.470 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:19:21.470 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:21.471 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:21.473 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:21.475 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:21.476 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:21.477 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:21.477 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:19:21.478 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:19:21.479 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:19:21.480 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:19:21.481 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:21.483 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:21.485 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:21.486 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:21.488 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:19:21.489 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:19:21.490 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:19:21.490 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:19:21.491 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:21.492 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:21.493 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:19:21.494 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:19:21.495 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.496 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.497 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.498 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.498 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.499 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.500 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:21.501 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:21.502 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.503 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:21.503 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:21.504 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:21.505 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:19:21.507 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:21.506 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:19:21.508 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:21.509 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:21.509 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:21.510 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:21.511 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:21.511 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:21.512 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:21.513 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:21.513 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:19:21.514 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:21.515 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:21.516 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:19:21.517 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:21.517 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:21.518 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:21.519 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:21.520 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:21.520 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:21.522 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:19:21.522 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:21.524 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:19:21.524 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:19:21.525 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:19:21.525 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.527 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:19:21.527 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.527 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:19:21.528 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:19:21.529 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.529 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:19:21.530 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.531 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:19:21.531 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:19:21.532 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:19:21.533 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:19:21.535 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:19:21.536 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:19:21.538 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:19:21.539 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:19:21.540 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.541 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.541 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:19:21.542 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:19:21.543 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.544 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.545 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:19:21.546 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:19:21.547 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:19:21.548 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:19:21.550 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:19:21.551 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:19:21.552 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:19:21.552 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:19:21.553 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:19:21.553 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:19:21.554 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:19:21.554 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:19:21.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:19:21.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:19:21.559 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 84.3733ms
2024-11-19 11:19:21.560 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.3113ms
2024-11-19 11:19:21.560 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:21.561 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:21.562 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:19:21.563 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:19:21.563 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.564 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:21.565 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:19:21.565 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:19:21.566 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 145.7359ms
2024-11-19 11:19:21.567 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 146.5271ms
2024-11-19 11:19:25.092 +07:00 [DBG] Connection id "0HN87HVO5FAG9" received FIN.
2024-11-19 11:19:25.094 +07:00 [DBG] Connection id "0HN87HVO5FAG9" is closed. The last processed stream ID was 7.
2024-11-19 11:19:25.094 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAG9 completed.
2024-11-19 11:19:25.096 +07:00 [DBG] Connection id "0HN87HVO5FAG9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:19:25.107 +07:00 [DBG] Connection id "0HN87HVO5FAG9" stopped.
2024-11-19 11:19:45.102 +07:00 [DBG] Connection id "0HN87HVO5FAGA" accepted.
2024-11-19 11:19:45.111 +07:00 [DBG] Connection id "0HN87HVO5FAGA" started.
2024-11-19 11:19:45.120 +07:00 [DBG] Connection 0HN87HVO5FAGA established using the following protocol: "Tls13"
2024-11-19 11:19:45.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:19:45.129 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:19:45.135 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:19:45.136 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:19:45.137 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:19:45.137 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:19:45.138 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:19:45.139 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:19:45.140 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:19:45.140 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:19:45.141 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:19:45.141 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:19:45.142 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:45.143 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:45.143 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:19:45.144 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:19:45.144 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:45.145 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:45.145 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:19:45.146 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:19:45.147 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:19:45.148 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:19:45.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:19:45.150 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:19:45.150 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:45.151 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:45.152 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:19:45.153 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:19:45.154 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:45.155 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:19:45.156 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:45.157 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:45.158 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:45.158 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:19:45.159 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:19:45.160 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:19:45.160 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:19:45.161 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:19:45.162 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:45.163 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:45.164 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:45.164 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:19:45.165 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:19:45.166 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:19:45.167 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:19:45.167 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:19:45.168 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:45.169 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:45.170 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:19:45.170 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:19:45.171 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.172 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.172 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.173 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.174 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.175 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.176 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:45.176 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:19:45.177 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.178 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:19:45.178 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:45.179 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:45.179 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:19:45.180 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:19:45.181 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:45.182 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:45.182 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:45.183 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:45.183 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:45.184 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:19:45.185 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:45.186 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:19:45.187 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:45.188 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:45.188 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:19:45.189 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:19:45.190 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:45.190 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:45.191 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:45.191 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:45.192 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:45.192 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:19:45.193 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:45.193 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:19:45.195 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:19:45.195 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:19:45.196 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:19:45.197 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:19:45.198 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:19:45.198 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:19:45.198 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.199 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.200 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.200 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.201 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:19:45.202 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:19:45.202 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:19:45.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:19:45.204 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:19:45.205 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:19:45.206 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:19:45.206 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:19:45.211 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:19:45.211 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:19:45.213 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.213 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.214 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:19:45.215 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:19:45.216 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.217 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.218 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:19:45.219 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:19:45.219 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:19:45.220 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:19:45.222 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:19:45.223 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:19:45.224 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:19:45.225 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:19:45.225 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:19:45.226 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:19:45.226 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:19:45.227 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:19:45.228 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:19:45.228 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:19:45.232 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 75.5907ms
2024-11-19 11:19:45.233 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.3338ms
2024-11-19 11:19:45.236 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:45.237 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:19:45.238 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:19:45.239 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:19:45.239 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.240 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:19:45.241 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:19:45.242 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:19:45.243 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 115.6264ms
2024-11-19 11:19:45.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 116.7893ms
2024-11-19 11:19:50.143 +07:00 [DBG] Connection id "0HN87HVO5FAGA" received FIN.
2024-11-19 11:19:50.145 +07:00 [DBG] Connection id "0HN87HVO5FAGA" is closed. The last processed stream ID was 3.
2024-11-19 11:19:50.145 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGA completed.
2024-11-19 11:19:50.149 +07:00 [DBG] Connection id "0HN87HVO5FAGA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:19:50.156 +07:00 [DBG] Connection id "0HN87HVO5FAGA" stopped.
2024-11-19 11:42:05.824 +07:00 [DBG] Connection id "0HN87HVO5FAGB" accepted.
2024-11-19 11:42:05.828 +07:00 [DBG] Connection id "0HN87HVO5FAGB" started.
2024-11-19 11:42:05.859 +07:00 [DBG] Connection 0HN87HVO5FAGB established using the following protocol: "Tls13"
2024-11-19 11:42:05.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:42:05.865 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:42:05.867 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:42:05.869 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:42:05.870 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:42:05.904 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:42:05.904 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:42:05.905 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:42:05.906 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:42:05.907 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:42:05.908 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:42:05.908 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:42:05.910 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:42:05.910 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:42:05.911 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:42:05.911 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:42:05.912 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:42:05.913 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:42:05.915 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:42:05.915 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:42:05.916 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:42:05.917 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:42:05.918 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:42:05.921 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:42:05.923 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:42:05.923 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:42:05.924 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:42:05.925 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:42:05.927 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:42:05.928 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:42:05.929 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:42:05.930 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:42:05.931 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:42:05.931 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:42:05.932 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:42:05.935 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:42:05.936 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:42:05.937 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:42:05.938 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:42:05.939 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:42:05.939 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:42:05.940 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:42:05.941 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:42:05.941 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:42:05.942 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:42:05.943 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:42:05.944 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:42:05.944 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:42:05.945 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:42:05.945 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:42:05.946 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.948 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.947 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.949 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.950 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.951 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:42:05.951 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.952 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.953 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:42:05.954 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:42:05.955 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:42:05.955 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:42:05.956 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:42:05.957 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:42:05.958 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:42:05.958 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:42:05.959 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:42:05.959 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:42:05.960 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:42:05.961 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:42:05.962 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:42:05.962 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:42:05.964 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:42:05.964 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:42:05.966 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:42:05.967 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:42:05.967 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:42:05.968 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:42:05.969 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:42:05.970 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:42:05.971 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:42:05.972 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:42:05.973 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:42:05.974 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:42:05.978 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:42:05.978 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:42:05.983 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:42:05.988 +07:00 [DBG] Created DbConnection. (4ms).
2024-11-19 11:42:05.988 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:05.989 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:42:05.990 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:42:05.990 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.010 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.011 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:42:06.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:42:06.012 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:42:06.013 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:42:06.014 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:42:06.018 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:42:06.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:42:06.019 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 11:42:06.031 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 11:42:06.033 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.033 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:42:06.035 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.035 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:42:06.037 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:42:06.039 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:42:06.039 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:42:06.040 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:42:06.040 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:42:06.040 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:42:06.042 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:42:06.042 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.043 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 114.5852ms
2024-11-19 11:42:06.044 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:42:06.045 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:42:06.045 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.046 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:42:06.047 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:42:06.047 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.048 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:42:06.049 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:42:06.050 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:42:06.051 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2 application/json; charset=utf-8 186.4165ms
2024-11-19 11:42:06.051 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:42:06.053 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:42:06.054 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:42:06.054 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:42:06.058 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 128.3638ms
2024-11-19 11:42:06.059 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:42:06.060 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:42:06.061 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:42:06.062 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:42:06.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 199.2142ms
2024-11-19 11:42:06.739 +07:00 [DBG] Connection id "0HN87HVO5FAGB" received FIN.
2024-11-19 11:42:06.740 +07:00 [DBG] Connection id "0HN87HVO5FAGB" is closed. The last processed stream ID was 3.
2024-11-19 11:42:06.740 +07:00 [DBG] Connection id "0HN87HVO5FAGB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:42:06.744 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGB completed.
2024-11-19 11:42:06.746 +07:00 [DBG] Connection id "0HN87HVO5FAGB" stopped.
2024-11-19 11:45:14.485 +07:00 [DBG] Connection id "0HN87HVO5FAGC" accepted.
2024-11-19 11:45:14.487 +07:00 [DBG] Connection id "0HN87HVO5FAGC" started.
2024-11-19 11:45:14.500 +07:00 [DBG] Connection 0HN87HVO5FAGC established using the following protocol: "Tls13"
2024-11-19 11:45:14.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:45:14.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:45:14.526 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:45:14.528 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:45:14.529 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:45:14.529 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:45:14.529 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:45:14.530 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:45:14.530 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:45:14.531 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:45:14.531 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:45:14.532 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:45:14.532 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:45:14.533 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:45:14.534 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:45:14.535 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:45:14.537 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:45:14.538 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:45:14.541 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:45:14.542 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:45:14.543 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:45:14.544 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:45:14.545 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:45:14.546 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:45:14.546 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:45:14.548 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:45:14.550 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:45:14.552 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:45:14.553 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:45:14.554 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:45:14.556 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:45:14.558 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:45:14.560 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:45:14.561 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:45:14.562 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:45:14.564 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:45:14.566 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:45:14.568 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:45:14.571 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:45:14.572 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:45:14.573 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:45:14.573 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:45:14.574 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:45:14.575 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:45:14.575 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:45:14.576 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:45:14.576 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:45:14.577 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:45:14.578 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:45:14.578 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:45:14.579 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.579 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.580 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.581 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.582 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.582 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.583 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:45:14.583 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:45:14.585 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.586 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:45:14.586 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:45:14.587 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:45:14.588 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:45:14.588 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:45:14.585 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:45:14.589 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:45:14.591 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:45:14.591 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:45:14.592 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:45:14.592 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:45:14.593 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:45:14.594 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:45:14.594 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:45:14.595 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:45:14.596 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:45:14.597 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:45:14.597 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:45:14.598 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:45:14.599 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:45:14.600 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:45:14.600 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:45:14.601 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:45:14.601 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:45:14.602 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:45:14.602 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:45:14.603 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.603 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:45:14.604 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.605 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:45:14.605 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:45:14.606 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:45:14.606 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:45:14.607 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:45:14.608 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:45:14.608 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:45:14.609 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.610 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.611 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:45:14.611 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:45:14.611 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:45:14.612 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:45:14.614 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:45:14.623 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:45:14.625 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.626 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:45:14.627 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.627 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:45:14.628 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:45:14.628 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:45:14.629 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.630 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:45:14.631 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:45:14.631 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:45:14.632 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.633 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:45:14.633 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:45:14.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:45:14.634 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:45:14.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:45:14.636 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:45:14.637 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:45:14.638 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:45:14.640 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:45:14.640 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 83.6146ms
2024-11-19 11:45:14.643 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:45:14.643 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:45:14.644 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 86.7431ms
2024-11-19 11:45:14.645 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:45:14.645 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:45:14.646 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.646 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:45:14.647 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:45:14.648 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:45:14.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 133.2212ms
2024-11-19 11:45:14.649 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:45:14.651 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 134.8791ms
2024-11-19 11:46:19.914 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:46:19.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:46:19.925 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:46:19.930 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:46:19.934 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:46:19.937 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:46:19.940 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:46:19.943 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:46:19.945 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:46:19.948 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:46:19.951 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:46:19.953 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:46:19.952 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:46:19.954 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:46:19.956 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:46:19.956 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:46:19.957 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:46:19.957 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:46:19.957 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:46:19.958 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:46:19.959 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:46:19.959 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:46:19.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:46:19.961 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:46:19.962 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:46:19.963 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:46:19.964 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:46:19.965 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:46:19.965 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:46:19.966 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:46:19.967 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:46:19.968 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:46:19.968 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:46:19.969 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:46:19.969 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:46:19.970 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:46:19.971 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:46:19.971 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:46:19.972 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:46:19.972 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:46:19.973 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:46:19.974 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:46:19.974 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:46:19.975 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:46:19.976 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:46:19.977 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:46:19.977 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:46:19.978 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:46:19.978 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:46:19.979 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.979 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:46:19.980 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.981 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.981 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.982 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.983 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:46:19.984 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.985 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:46:19.985 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:46:19.986 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:46:19.986 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:46:19.987 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:46:19.987 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:46:19.984 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.988 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:46:19.989 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:46:19.989 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:46:19.990 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:46:19.990 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:46:19.991 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:46:19.992 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:46:19.992 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:46:19.994 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:46:19.994 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:46:19.995 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:46:19.995 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:46:19.997 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:46:19.997 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:46:19.999 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:46:20.009 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:46:20.009 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:46:20.010 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:46:20.010 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:46:20.011 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.012 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:46:20.013 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:46:20.013 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.014 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:46:20.015 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:46:20.015 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:46:20.016 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:46:20.016 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:46:20.017 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:46:20.018 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:46:20.019 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:46:20.020 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:46:20.020 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.022 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.022 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:46:20.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:46:20.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:46:20.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:46:20.027 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:46:20.027 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:46:20.028 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.029 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.030 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:46:20.030 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:46:20.031 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.032 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.033 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:46:20.033 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:46:20.034 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:46:20.035 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:46:20.036 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:46:20.037 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:46:20.037 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:46:20.038 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:46:20.039 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:46:20.039 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:46:20.040 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:46:20.040 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:46:20.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:46:20.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:46:20.044 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 75.5103ms
2024-11-19 11:46:20.048 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 81.7258ms
2024-11-19 11:46:20.049 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:46:20.049 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:46:20.050 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:46:20.051 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:46:20.051 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.052 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:46:20.052 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:46:20.053 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:46:20.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 138.9747ms
2024-11-19 11:46:20.055 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 141.6988ms
2024-11-19 11:52:07.443 +07:00 [DBG] Connection id "0HN87HVO5FAGC" received FIN.
2024-11-19 11:52:07.446 +07:00 [DBG] Connection id "0HN87HVO5FAGC" is closed. The last processed stream ID was 7.
2024-11-19 11:52:07.449 +07:00 [DBG] Connection id "0HN87HVO5FAGC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:52:07.454 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGC completed.
2024-11-19 11:52:07.456 +07:00 [DBG] Connection id "0HN87HVO5FAGC" stopped.
2024-11-19 11:52:47.124 +07:00 [DBG] Connection id "0HN87HVO5FAGD" accepted.
2024-11-19 11:52:47.130 +07:00 [DBG] Connection id "0HN87HVO5FAGD" started.
2024-11-19 11:52:47.140 +07:00 [DBG] Connection 0HN87HVO5FAGD established using the following protocol: "Tls13"
2024-11-19 11:52:47.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:52:47.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 11:52:47.164 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:52:47.166 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:52:47.166 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:52:47.168 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:52:47.169 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:52:47.169 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:52:47.170 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:52:47.171 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:52:47.172 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:52:47.172 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:52:47.173 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:52:47.174 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:52:47.174 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:52:47.175 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:52:47.176 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:52:47.177 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:52:47.177 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:52:47.178 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:52:47.180 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:52:47.182 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:52:47.183 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:52:47.184 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:52:47.185 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:52:47.185 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:52:47.186 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:52:47.187 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:52:47.188 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:52:47.188 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:52:47.190 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:52:47.191 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:52:47.192 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:52:47.192 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:52:47.193 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:52:47.193 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:52:47.194 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:52:47.194 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:52:47.195 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:52:47.196 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:52:47.196 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:52:47.197 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:52:47.198 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:52:47.198 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:52:47.199 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:52:47.200 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:52:47.200 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:52:47.201 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:52:47.201 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:52:47.202 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:52:47.203 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.204 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.205 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.206 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.206 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.207 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.207 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:52:47.208 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:52:47.209 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.209 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:52:47.210 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:52:47.211 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:52:47.212 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:52:47.212 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:52:47.213 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:52:47.213 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:52:47.214 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:52:47.215 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:52:47.215 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:52:47.216 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:52:47.217 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:52:47.217 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:52:47.218 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:52:47.219 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:52:47.219 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:52:47.220 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:52:47.221 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:52:47.221 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:52:47.223 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:52:47.224 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:52:47.225 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:52:47.225 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:52:47.226 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:52:47.228 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:52:47.228 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:52:47.229 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:52:47.230 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:52:47.230 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:52:47.232 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:52:47.232 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.232 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:52:47.233 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.233 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.234 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:52:47.235 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.235 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:52:47.236 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:52:47.236 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:52:47.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:52:47.237 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:52:47.238 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:52:47.239 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:52:47.247 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:52:47.247 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:52:47.249 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.250 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.250 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:52:47.251 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:52:47.252 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.252 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.253 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:52:47.253 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:52:47.254 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:52:47.255 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:52:47.256 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:52:47.257 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:52:47.257 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:52:47.258 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:52:47.258 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:52:47.259 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:52:47.259 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:52:47.260 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:52:47.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:52:47.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:52:47.263 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.8804ms
2024-11-19 11:52:47.264 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:52:47.268 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:52:47.268 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 78.4949ms
2024-11-19 11:52:47.269 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.269 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:52:47.270 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:52:47.270 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:52:47.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 119.0536ms
2024-11-19 11:52:47.272 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:52:47.274 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:52:47.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 122.4621ms
2024-11-19 11:53:21.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:21.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-19 11:53:21.230 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:21.233 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:21.234 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:21.235 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:21.235 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:21.236 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:21.237 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:21.238 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:21.239 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:21.240 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:21.241 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:21.242 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:21.244 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:21.245 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:21.247 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:21.249 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:21.252 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:21.255 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:21.260 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:21.263 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:21.264 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:21.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:21.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:21.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:21.270 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:21.270 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:21.271 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:21.275 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:21.276 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:21.276 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:21.277 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:21.278 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:21.280 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:21.281 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:21.282 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:21.282 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:21.283 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:21.283 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:21.284 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:21.285 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:21.286 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:21.287 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:21.287 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:21.288 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:21.290 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.290 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.291 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.292 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:21.289 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:21.292 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.294 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:21.293 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:21.295 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:21.297 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:21.297 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:21.296 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:21.299 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:21.300 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:21.300 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:21.301 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.302 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:21.303 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.303 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:21.304 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.304 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:21.306 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:21.305 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:21.307 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:21.307 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:21.308 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:21.309 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:21.310 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:21.311 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:21.312 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:21.312 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:21.313 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:21.314 +07:00 [DBG] Created DbConnection. (2ms).
2024-11-19 11:53:21.315 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:21.316 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.317 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:21.318 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.318 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:21.319 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:21.320 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:21.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:21.321 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:21.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:53:21.323 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:21.325 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:21.325 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:21.324 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:21.328 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:21.331 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:21.332 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:21.333 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.333 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.335 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:21.337 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:21.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:53:21.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-19 11:53:21.338 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:21.341 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.342 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:21.343 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.344 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:21.344 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-19 11:53:21.344 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:21.346 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.347 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:21.348 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:21.348 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:21.349 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.350 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:21.351 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:21.351 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:21.352 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:21.352 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:21.353 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:21.355 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:21.356 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:21.357 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:21.360 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 88.1278ms
2024-11-19 11:53:21.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:21.364 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:21.365 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.2583ms
2024-11-19 11:53:21.365 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:21.366 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:21.366 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.367 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:21.367 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:21.368 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:21.368 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 145.3193ms
2024-11-19 11:53:21.369 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:21.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 147.3932ms
2024-11-19 11:53:25.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:25.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - null null
2024-11-19 11:53:25.011 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:25.013 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:25.013 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:25.014 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:25.014 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:25.015 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:25.015 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:25.016 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:25.016 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:25.017 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:25.018 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:25.019 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:25.019 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:25.020 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:25.020 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:25.021 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:25.022 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:25.022 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:25.023 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:25.024 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:25.025 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:25.025 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:25.026 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:25.027 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:25.028 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:25.030 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:25.030 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:25.031 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:25.032 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:25.033 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:25.034 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:25.035 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:25.035 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:25.036 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:25.036 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:25.037 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:25.038 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:25.038 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:25.039 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:25.040 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:25.041 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:25.042 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:25.042 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:25.043 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:25.043 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:25.044 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:25.045 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:25.045 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:25.046 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.047 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.048 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.049 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.049 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.050 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.051 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:25.051 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:25.052 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.053 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:25.053 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:25.054 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:25.054 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:25.055 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:25.056 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:25.057 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:25.057 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:25.058 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:25.059 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:25.059 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:25.060 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:25.061 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:25.061 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:25.062 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:25.063 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:25.064 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:25.065 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:25.066 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:25.066 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:25.067 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:25.068 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:25.068 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:25.069 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:25.070 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:25.071 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:25.071 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:25.072 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:25.073 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:25.073 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:25.074 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:25.074 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.075 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.075 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.076 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.077 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:25.077 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:25.078 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:25.078 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:25.079 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:25.080 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:25.080 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:25.081 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:25.085 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:25.085 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:25.086 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.088 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.088 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:25.089 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:25.090 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.091 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.091 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:25.092 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:25.093 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:25.094 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:25.095 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:25.096 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:25.096 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:25.097 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:25.097 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:25.098 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:25.098 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:25.099 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:25.099 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:25.100 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:25.101 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.2196ms
2024-11-19 11:53:25.103 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:25.104 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:25.104 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.4403ms
2024-11-19 11:53:25.104 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.105 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:25.106 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:25.106 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:25.107 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - 200 2123 application/json; charset=utf-8 97.4848ms
2024-11-19 11:53:25.108 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:25.110 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:25.112 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 102.3969ms
2024-11-19 11:53:27.728 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:27.729 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - null null
2024-11-19 11:53:27.732 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:27.736 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:27.736 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:27.737 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:27.739 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:27.739 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:27.741 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:27.741 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:27.743 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:27.744 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:27.746 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:27.748 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:27.747 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:27.748 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:27.749 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:27.750 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:27.750 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:27.752 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:27.753 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:27.753 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:27.754 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:27.755 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:27.756 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:27.757 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:27.757 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:27.758 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:27.759 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:27.760 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:27.761 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:27.761 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:27.762 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:27.763 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:27.763 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:27.764 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:27.764 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:27.765 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:27.766 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:27.766 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:27.767 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:27.768 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:27.768 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:27.769 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:27.769 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:27.770 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:27.770 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:27.771 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:27.772 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:27.772 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.773 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:27.774 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.774 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.775 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.776 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.776 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:27.777 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.777 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.778 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:27.779 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:27.780 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:27.780 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:27.782 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:27.783 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:27.783 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:27.784 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:27.784 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:27.785 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:27.785 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:27.786 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:27.787 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:27.787 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:27.788 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:27.788 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:27.789 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:27.790 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:27.790 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:27.791 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:27.791 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:27.792 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:27.793 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:27.793 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:27.794 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:27.795 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:27.795 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:27.797 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:27.797 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:27.797 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:27.798 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.799 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:27.799 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.800 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:27.800 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:27.801 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.801 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:27.802 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.802 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:27.802 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:27.803 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:27.803 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:27.805 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:27.805 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:27.807 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:27.808 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:27.808 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.809 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.810 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:27.811 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:27.811 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.812 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.813 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:27.814 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:27.816 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:27.816 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:27.816 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:27.817 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:27.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:27.813 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:27.820 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:27.821 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.6456ms
2024-11-19 11:53:27.825 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:27.825 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:27.825 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:27.826 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:27.826 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:27.827 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.828 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:27.829 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:27.829 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:27.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 102.0464ms
2024-11-19 11:53:27.831 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.76ms
2024-11-19 11:53:27.833 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:27.833 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:27.834 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:27.835 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:27.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - 200 2100 application/json; charset=utf-8 106.801ms
2024-11-19 11:53:28.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:28.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:28.991 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:28.992 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:28.993 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:28.994 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:28.994 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:28.995 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:28.995 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:28.996 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:28.996 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:28.997 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:28.998 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:28.999 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:29.000 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:29.001 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:29.001 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:29.001 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:29.002 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:29.003 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:29.004 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:29.005 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:29.006 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:29.006 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:29.007 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:29.008 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:29.009 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:29.010 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:29.011 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:29.012 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:29.013 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:29.014 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:29.015 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:29.015 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:29.016 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:29.017 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:29.018 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:29.019 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:29.019 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:29.020 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:29.020 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:29.021 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:29.022 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:29.022 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:29.023 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:29.024 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:29.024 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:29.025 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:29.025 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:29.026 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:29.027 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.027 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.028 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.029 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.030 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.031 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.031 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:29.032 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:29.033 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.033 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:29.034 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:29.034 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:29.035 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:29.037 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:29.038 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:29.039 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:29.039 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:29.040 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:29.040 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:29.041 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:29.041 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:29.042 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:29.043 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:29.044 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:29.045 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:29.043 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:29.045 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:29.046 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:29.047 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:29.047 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:29.048 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:29.048 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:29.050 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:29.050 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:29.051 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:29.051 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:29.052 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:29.053 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:29.053 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.055 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:29.055 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.055 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:29.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:29.056 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.057 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:29.057 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.058 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:29.059 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:29.059 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:29.060 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:29.061 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:29.062 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:29.063 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:29.065 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:29.065 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.066 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.067 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:29.067 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:29.068 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.069 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.069 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:29.070 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:29.071 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:29.071 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:29.073 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:29.074 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:29.074 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:29.074 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:29.075 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:29.075 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:29.076 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:29.076 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:29.077 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:29.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:29.079 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.7038ms
2024-11-19 11:53:29.080 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.5532ms
2024-11-19 11:53:29.081 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:29.081 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:29.082 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:29.082 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:29.083 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.083 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:29.084 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:29.084 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:29.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 96.5685ms
2024-11-19 11:53:29.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 97.3789ms
2024-11-19 11:53:32.539 +07:00 [DBG] Connection id "0HN87HVO5FAGD" received FIN.
2024-11-19 11:53:32.543 +07:00 [DBG] Connection id "0HN87HVO5FAGD" is closed. The last processed stream ID was 19.
2024-11-19 11:53:32.543 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGD completed.
2024-11-19 11:53:32.546 +07:00 [DBG] Connection id "0HN87HVO5FAGD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:53:32.553 +07:00 [DBG] Connection id "0HN87HVO5FAGD" stopped.
2024-11-19 11:53:36.351 +07:00 [DBG] Connection id "0HN87HVO5FAGE" accepted.
2024-11-19 11:53:36.351 +07:00 [DBG] Connection id "0HN87HVO5FAGE" started.
2024-11-19 11:53:36.356 +07:00 [DBG] Connection 0HN87HVO5FAGE established using the following protocol: "Tls13"
2024-11-19 11:53:36.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=M - null null
2024-11-19 11:53:36.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=M - null null
2024-11-19 11:53:36.359 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:36.360 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:36.360 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:36.361 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:36.361 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:36.361 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:36.362 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:36.362 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:36.363 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:36.363 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:36.364 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.365 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.365 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:36.366 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:36.366 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.366 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.367 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:36.368 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:36.368 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:36.369 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:36.370 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:36.370 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:36.371 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.372 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.372 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:36.373 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:36.374 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.374 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.375 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.376 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.377 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.377 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.378 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.378 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.379 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:36.380 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:36.380 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.381 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.381 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.382 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.382 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.383 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.386 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.386 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.387 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.387 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.388 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:36.388 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:36.389 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.390 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.390 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.391 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.392 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.392 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.393 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.393 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.394 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.394 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.395 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.395 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.396 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:36.397 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:36.397 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.398 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.398 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.399 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.400 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.400 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.401 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.401 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.402 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.402 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.403 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:36.403 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:36.404 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.404 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.405 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.405 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.406 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.406 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.407 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.408 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.413 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:36.413 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:36.426 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(pt => pt.FullName.Contains(__search_0) || pt.PatientId.ToString().Contains(__search_0))
    .OrderBy(pt => pt.FullName)
    .Select(pt => new PatientVM{ 
        PatientId = pt.PatientId, 
        Status = pt.Status, 
        Gender = pt.Gender, 
        Avatar = pt.Avatar, 
        FullName = pt.FullName, 
        Date = pt.Date, 
        Time = pt.Time, 
        Location = pt.Location, 
        Email = pt.Email, 
        PhoneNumber = pt.PhoneNumber, 
        Diseases = pt.Diseases, 
        PaymentId = pt.PaymentId, 
        Age = DateTime.Now.Year - pt.Date.Year - DateTime.Now < pt.Date.AddYears(DateTime.Now.Year - pt.Date.Year) ? 1 : 0 
    }
    )'
2024-11-19 11:53:36.426 +07:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(pt => pt.FullName.Contains(__search_0) || pt.PatientId.ToString().Contains(__search_0))
    .OrderBy(pt => pt.FullName)
    .Skip(__p_1)
    .Take(__p_2)
    .Select(pt => new PatientVM{ 
        PatientId = pt.PatientId, 
        Status = pt.Status, 
        Gender = pt.Gender, 
        Avatar = pt.Avatar, 
        FullName = pt.FullName, 
        Date = pt.Date, 
        Time = pt.Time, 
        Location = pt.Location, 
        Email = pt.Email, 
        PhoneNumber = pt.PhoneNumber, 
        Diseases = pt.Diseases, 
        PaymentId = pt.PaymentId, 
        Age = DateTime.Now.Year - pt.Date.Year - DateTime.Now < pt.Date.AddYears(DateTime.Now.Year - pt.Date.Year) ? 1 : 0 
    }
    )'
2024-11-19 11:53:36.498 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ma - null null
2024-11-19 11:53:36.499 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Ma - null null
2024-11-19 11:53:36.502 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:36.504 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:36.504 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:36.505 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:36.505 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:36.505 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:36.506 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:36.507 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:36.508 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:36.508 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:36.510 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.510 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.511 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:36.511 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:36.512 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.514 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.520 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:36.515 +07:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__search_0_contains", 
        value: (object)Invoke(queryContext => SqlServerSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__search_0", 
            methodType: Contains), queryContext));
    return new SingleQueryingEnumerable<PatientVM>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                PatientId -> 0
                Status -> 1
                Gender -> 2
                Avatar -> 3
                FullName -> 4
                Date -> 5
                Time -> 6
                Location -> 7
                Email -> 8
                PhoneNumber -> 9
                Diseases -> 10
                PaymentId -> 11
                Age -> 12
            SELECT p.PatientId, p.Status, p.Gender, p.Avatar, p.FullName, p.Date, p.Time, p.Location, p.Email, p.PhoneNumber, p.Diseases, p.PaymentId, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
                WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
                ELSE 0
            END AS Age
            FROM Patient AS p
            WHERE (p.FullName LIKE @__search_0_contains ESCAPE N'\') || (CONVERT(varchar(36), p.PatientId) LIKE @__search_0_contains ESCAPE N'\')
            ORDER BY p.FullName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientVM>, 
        CityInfo.API.DbContexts.DoctorManagementContext, 
        False, 
        False, 
        True
    );
}'
2024-11-19 11:53:36.517 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:36.525 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:36.526 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:36.515 +07:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__search_0_contains", 
        value: (object)Invoke(queryContext => SqlServerSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__search_0", 
            methodType: Contains), queryContext));
    return new SingleQueryingEnumerable<PatientVM>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                PatientId -> 0
                Status -> 1
                Gender -> 2
                Avatar -> 3
                FullName -> 4
                Date -> 5
                Time -> 6
                Location -> 7
                Email -> 8
                PhoneNumber -> 9
                Diseases -> 10
                PaymentId -> 11
                Age -> 12
            SELECT p.PatientId, p.Status, p.Gender, p.Avatar, p.FullName, p.Date, p.Time, p.Location, p.Email, p.PhoneNumber, p.Diseases, p.PaymentId, (DATEPART(year, GETDATE()) - DATEPART(year, p.Date)) - CASE
                WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, p.Date) AS int), p.Date) THEN 1
                ELSE 0
            END AS Age
            FROM Patient AS p
            WHERE (p.FullName LIKE @__search_0_contains ESCAPE N'\') || (CONVERT(varchar(36), p.PatientId) LIKE @__search_0_contains ESCAPE N'\')
            ORDER BY p.FullName ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientVM>, 
        CityInfo.API.DbContexts.DoctorManagementContext, 
        False, 
        False, 
        True
    );
}'
2024-11-19 11:53:36.521 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:36.527 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.530 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:36.531 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:36.533 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.534 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:36.533 +07:00 [DBG] Created DbConnection. (2ms).
2024-11-19 11:53:36.537 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:36.541 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.531 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:36.538 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.543 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:36.542 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.542 +07:00 [DBG] Created DbConnection. (10ms).
2024-11-19 11:53:36.545 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.543 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:36.544 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.546 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.547 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:36.537 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.545 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.548 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.550 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.551 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:36.551 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.552 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.552 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:36.552 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-11-19 11:53:36.553 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.553 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.554 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:53:36.554 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:36.555 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.555 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:36.556 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:36.558 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.558 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.560 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:36.560 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.561 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.562 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.562 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.563 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.564 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.564 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.565 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.565 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:36.566 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.567 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.567 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.568 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.569 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:36.570 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.570 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.571 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.571 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.572 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.572 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.573 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.573 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.574 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:36.575 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.575 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.576 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:36.576 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.577 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.578 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.578 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:36.578 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.579 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:36.579 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.580 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.583 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 11:53:36.582 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.583 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.581 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.584 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.585 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:36.585 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:36.586 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.586 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:53:36.587 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.588 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.589 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:36.589 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:36.590 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:53:36.590 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.591 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:36.592 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:36.593 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:36.594 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.594 +07:00 [DBG] Created DbConnection. (2ms).
2024-11-19 11:53:36.594 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:36.596 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:36.596 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.597 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.597 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:36.597 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:36.599 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:36.599 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.599 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:36.599 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:36.601 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:36.601 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:36.601 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:36.602 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:36.603 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:36.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:36.606 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-11-19 11:53:36.605 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 228.8289ms
2024-11-19 11:53:36.602 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:36.609 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 233.9122ms
2024-11-19 11:53:36.610 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:36.610 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.611 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.611 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.613 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:36.613 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.614 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:36.614 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:36.615 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.616 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:36.617 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.617 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.618 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:36.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:36.619 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:36.620 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:36.621 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=M - 200 13225 application/json; charset=utf-8 263.6022ms
2024-11-19 11:53:36.621 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-11-19 11:53:36.622 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.623 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=M - 200 2131 application/json; charset=utf-8 265.6676ms
2024-11-19 11:53:36.625 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:36.626 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (3ms).
2024-11-19 11:53:36.630 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:36.630 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:36.631 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:36.632 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:36.633 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:36.634 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:36.634 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.635 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:36.635 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:36.636 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:36.636 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:36.637 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 95.0707ms
2024-11-19 11:53:36.638 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:36.639 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.639 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:36.640 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:36.640 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:36.641 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.641 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:36.642 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:36.643 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:36.643 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ma - 200 3707 application/json; charset=utf-8 145.6732ms
2024-11-19 11:53:36.644 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 94.0291ms
2024-11-19 11:53:36.646 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.647 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:36.647 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.648 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:36.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Ma - 200 2 application/json; charset=utf-8 150.4321ms
2024-11-19 11:53:36.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mar - null null
2024-11-19 11:53:36.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mar - null null
2024-11-19 11:53:36.742 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:36.744 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:36.745 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:36.744 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:36.745 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:36.745 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:36.746 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:36.747 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:36.747 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:36.748 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:36.749 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.750 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.751 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:36.752 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:36.752 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.753 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.753 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:36.754 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:36.755 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:36.756 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:36.757 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:36.758 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:36.759 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.760 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.761 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:36.762 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:36.764 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.763 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:36.765 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.766 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.767 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.768 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:36.769 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.769 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.770 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:36.771 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:36.772 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.773 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.774 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.775 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.776 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.776 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:36.777 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.778 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:36.778 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.779 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.780 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:36.781 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:36.781 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.782 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.783 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.784 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.784 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.785 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.786 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.786 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:36.787 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.787 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:36.788 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.789 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.789 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:36.790 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:36.791 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.791 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.792 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.793 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.794 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.794 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:36.795 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.796 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:36.797 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.798 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.800 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:36.800 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:36.801 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.802 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.802 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.803 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.804 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.805 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:36.805 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.806 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:36.807 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:36.807 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:36.808 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:36.810 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:36.810 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:36.810 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:36.811 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.811 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.812 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.813 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.813 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:36.814 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:36.815 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:36.815 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:36.816 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:36.817 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:36.817 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:36.818 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:36.832 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:36.833 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.832 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:36.833 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 11:53:36.835 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.836 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.836 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:36.837 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:36.837 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.838 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:36.839 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:36.841 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:36.842 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:36.842 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:36.844 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:36.844 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:36.845 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:36.846 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:36.846 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:36.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:36.847 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:36.849 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:36.848 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 82.6478ms
2024-11-19 11:53:36.849 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 83.1964ms
2024-11-19 11:53:36.850 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.851 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:36.852 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:36.852 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:36.853 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.853 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:36.854 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:36.855 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:36.855 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mar - 200 2 application/json; charset=utf-8 114.692ms
2024-11-19 11:53:36.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mar - 200 2132 application/json; charset=utf-8 116.2642ms
2024-11-19 11:53:37.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mart - null null
2024-11-19 11:53:37.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mart - null null
2024-11-19 11:53:37.231 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:37.233 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:37.234 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:37.234 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:37.235 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:37.236 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:37.237 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:37.238 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:37.238 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:37.239 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:37.240 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.240 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.242 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:37.243 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:37.244 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.244 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.245 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:37.245 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:37.246 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:37.247 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:37.247 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:37.248 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:37.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.252 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:37.252 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.251 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:37.253 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.254 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.254 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.255 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.256 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.256 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.257 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:37.258 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.258 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.259 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:37.259 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.260 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.261 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.261 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.262 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.262 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.263 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.263 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.264 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:37.265 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.265 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.266 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:37.267 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.267 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.268 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.269 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.269 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.270 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.271 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.271 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.272 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.272 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.273 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:37.274 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.274 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.275 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:37.276 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.276 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.277 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.277 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.278 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.278 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.279 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.280 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.280 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:37.281 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.281 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.282 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:37.283 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.283 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.284 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.284 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.285 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.286 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.287 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.287 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:37.288 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:37.289 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:37.289 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:37.289 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:37.290 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:37.290 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.291 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.292 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.292 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.293 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:37.293 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:37.294 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:37.294 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:37.295 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:37.295 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:37.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:37.297 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:37.309 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:37.309 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:37.310 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.311 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.312 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:37.312 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:37.313 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.314 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.315 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:37.315 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:37.316 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:37.316 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:37.318 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:37.319 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:37.319 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:37.320 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:37.320 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:37.321 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:37.321 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:37.322 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:37.322 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:37.323 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.7406ms
2024-11-19 11:53:37.324 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.324 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:37.326 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:37.327 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.5995ms
2024-11-19 11:53:37.327 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.328 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.328 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:37.329 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:37.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mart - 200 2 application/json; charset=utf-8 103.8188ms
2024-11-19 11:53:37.330 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.332 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:37.333 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mart - 200 2132 application/json; charset=utf-8 107.0497ms
2024-11-19 11:53:37.568 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mar - null null
2024-11-19 11:53:37.568 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mar - null null
2024-11-19 11:53:37.570 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:37.571 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:37.571 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:37.572 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:37.572 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:37.572 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:37.573 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:37.573 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:37.574 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:37.574 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:37.575 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.575 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.576 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:37.576 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:37.577 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.577 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.579 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:37.580 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:37.581 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:37.582 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:37.582 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:37.583 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:37.584 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.585 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.586 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:37.587 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:37.589 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.590 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:37.591 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.592 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.593 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.594 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:37.595 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.596 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.598 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:37.597 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:37.600 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.600 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.601 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.602 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.602 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.603 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:37.604 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.604 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:37.605 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.606 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.606 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:37.607 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:37.608 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.608 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.609 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.610 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.610 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.611 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.612 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.612 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:37.613 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.614 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:37.614 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.615 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.615 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:37.616 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:37.617 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.617 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.618 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.619 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.619 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.620 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:37.621 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.621 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:37.622 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.622 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.623 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:37.624 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:37.624 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.625 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.626 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.626 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.627 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.627 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:37.628 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.628 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:37.630 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:37.630 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:37.631 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:37.632 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:37.632 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:37.632 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:37.633 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.633 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.634 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.634 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.635 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:37.635 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:37.636 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:37.636 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:37.637 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:37.637 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:37.638 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:37.639 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:37.648 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:37.648 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:37.650 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.651 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.652 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:37.652 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:37.653 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.654 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.655 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:37.655 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:37.656 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:37.657 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:37.658 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:37.659 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:37.659 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:37.659 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:37.660 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:37.660 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:37.661 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:37.661 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:37.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:37.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:37.663 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.6071ms
2024-11-19 11:53:37.665 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.664 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.7279ms
2024-11-19 11:53:37.665 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:37.666 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:37.666 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.667 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:37.668 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:37.669 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:37.671 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mar - 200 2 application/json; charset=utf-8 103.6191ms
2024-11-19 11:53:37.672 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:37.673 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mar - 200 2132 application/json; charset=utf-8 105.9374ms
2024-11-19 11:53:37.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mart - null null
2024-11-19 11:53:37.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mart - null null
2024-11-19 11:53:37.997 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:37.999 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:37.999 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.000 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.000 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.001 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.001 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.001 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.002 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.002 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.003 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.004 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.004 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.005 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.005 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.005 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.006 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.006 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.007 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.008 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.008 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.009 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.010 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.010 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.011 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.012 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.013 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.013 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.014 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.015 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.016 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.016 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.017 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.017 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.018 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.018 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.019 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.019 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.020 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.021 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.021 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.022 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.022 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.023 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.023 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.024 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.024 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.025 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.025 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.026 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.027 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.027 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.028 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.028 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.029 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.030 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.030 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.031 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.031 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.032 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.032 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.033 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.033 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.034 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.035 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.036 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.036 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.037 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.037 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.038 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.038 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.039 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.039 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.040 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.041 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.041 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.042 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.043 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.043 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.044 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.044 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.045 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.047 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.047 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.048 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.049 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:38.049 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.049 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.050 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:38.050 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.051 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.051 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.052 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:38.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.053 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:38.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:38.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.054 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.059 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.059 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.060 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.061 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.062 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.062 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.063 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.064 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.064 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.065 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.066 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.066 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.067 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.068 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.068 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.069 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.069 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.070 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.070 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.070 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.072 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.0196ms
2024-11-19 11:53:38.073 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.1632ms
2024-11-19 11:53:38.073 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.074 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.074 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.075 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.075 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.076 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.076 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:38.077 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mart - 200 2132 application/json; charset=utf-8 85.3441ms
2024-11-19 11:53:38.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mart - 200 2 application/json; charset=utf-8 86.0621ms
2024-11-19 11:53:38.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mar - null null
2024-11-19 11:53:38.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mar - null null
2024-11-19 11:53:38.390 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:38.395 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:38.395 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.396 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.397 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.397 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.397 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.398 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.399 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.399 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.400 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.402 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.402 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.403 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.404 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.404 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.405 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.405 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.406 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.407 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.408 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.408 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.409 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.411 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.411 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.412 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.410 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.413 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.414 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.415 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.416 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.416 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.417 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.418 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.419 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.419 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.420 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.420 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.421 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.421 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.422 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.422 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.424 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.423 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.424 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.425 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.425 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.426 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.427 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.427 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.428 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.428 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.429 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.429 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.430 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.431 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.432 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.432 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.433 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.433 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.434 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.434 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.435 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.435 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.436 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.436 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.437 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.437 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.438 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.439 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.440 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.440 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.441 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.441 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.442 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.442 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.443 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.443 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.444 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.445 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.446 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.446 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.447 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:38.449 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.449 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.450 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.451 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.452 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.452 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.453 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.453 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.453 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:38.454 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:38.454 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.455 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.456 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.459 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.459 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.460 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.462 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.463 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.464 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.464 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.465 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.466 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:53:38.466 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.467 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.468 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.469 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.470 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.470 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.471 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.471 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.472 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.473 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.473 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.474 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.474 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.475 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.8201ms
2024-11-19 11:53:38.476 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.476 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.477 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.477 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.478 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.9367ms
2024-11-19 11:53:38.479 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.479 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.480 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.480 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Mar - 200 2132 application/json; charset=utf-8 93.4936ms
2024-11-19 11:53:38.481 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.484 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.484 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Mar - 200 2 application/json; charset=utf-8 96.0428ms
2024-11-19 11:53:38.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Ma - null null
2024-11-19 11:53:38.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ma - null null
2024-11-19 11:53:38.625 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:38.626 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:38.626 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.627 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.627 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.628 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.628 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.629 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.629 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.630 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.631 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.632 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.631 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.632 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.633 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.633 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.634 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.635 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.635 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.636 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.636 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.637 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.638 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.639 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.640 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.640 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.641 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.642 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.643 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.644 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.644 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.646 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.647 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.648 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.648 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.649 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.651 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.652 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.653 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.653 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.654 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.655 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.655 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.656 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.657 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.657 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.658 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.659 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.659 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.660 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.661 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.663 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.664 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.665 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.665 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.666 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.666 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.667 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.668 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.668 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.669 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.670 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.670 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.671 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.672 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.672 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.673 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.674 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.674 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.675 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.675 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.676 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.677 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.677 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.678 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.679 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.679 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.680 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.680 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.681 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.682 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.682 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.684 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.685 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.686 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.686 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:38.686 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.687 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.687 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:38.688 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.689 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.690 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.690 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.691 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.691 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.692 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:38.693 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.693 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.694 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:38.696 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.696 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.697 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.698 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.699 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.700 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.700 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.701 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.702 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.703 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.703 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.704 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.705 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.706 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.707 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.708 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.708 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.709 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.709 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.710 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.710 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.711 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.711 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.712 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.0137ms
2024-11-19 11:53:38.713 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 68.3328ms
2024-11-19 11:53:38.713 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.714 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.714 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.715 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.715 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.716 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.716 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.717 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Ma - 200 2 application/json; charset=utf-8 95.541ms
2024-11-19 11:53:38.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ma - 200 3707 application/json; charset=utf-8 96.1676ms
2024-11-19 11:53:38.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=M - null null
2024-11-19 11:53:38.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=M - null null
2024-11-19 11:53:38.846 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:38.847 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:38.847 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.848 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:38.848 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.849 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:38.849 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.850 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:38.850 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.851 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:38.851 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.852 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.852 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.853 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:38.853 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.854 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.854 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.855 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:38.856 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.857 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:38.857 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.858 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:38.858 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.859 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.860 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.861 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:38.862 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.862 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:38.863 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.864 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.865 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.865 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:38.866 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.866 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.867 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.867 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:38.868 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.869 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.870 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.870 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.871 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.871 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:38.872 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.872 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:38.873 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.873 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.874 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.875 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:38.875 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.876 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.876 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.877 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.878 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.878 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.879 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.879 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:38.880 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.880 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:38.881 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.881 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.882 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.883 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:38.883 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.884 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.884 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.885 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.886 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.886 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:38.887 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.887 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:38.888 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.888 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.889 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.889 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:38.890 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.891 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.891 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.892 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.892 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.893 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:38.893 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.894 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:38.895 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.896 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:38.897 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.898 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:38.898 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:38.898 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.899 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:38.899 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.900 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.900 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.901 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.902 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.902 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:38.903 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:38.904 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:38.904 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.905 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:38.906 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.906 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:38.908 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:38.908 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.910 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.910 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.911 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:38.911 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.912 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.913 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.913 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:38.914 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.914 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:38.916 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.917 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:38.917 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.917 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:38.918 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.918 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:38.918 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.919 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:38.920 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.920 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:38.922 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.0985ms
2024-11-19 11:53:38.922 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.9931ms
2024-11-19 11:53:38.923 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.923 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:38.924 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.925 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:38.925 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.926 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:38.926 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.927 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:38.927 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=M - 200 13225 application/json; charset=utf-8 84.7316ms
2024-11-19 11:53:38.928 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=M - 200 2131 application/json; charset=utf-8 85.4254ms
2024-11-19 11:53:39.053 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:39.053 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:39.055 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:39.055 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:39.056 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:39.057 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:39.057 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:39.058 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:39.059 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:39.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:39.060 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:39.061 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:39.061 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:39.062 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:39.062 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:39.063 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:39.063 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:39.064 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:39.064 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:39.065 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:39.066 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:39.066 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:39.067 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:39.068 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:39.068 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:39.069 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:39.070 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:39.071 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:39.072 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:39.072 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:39.073 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:39.074 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:39.075 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:39.075 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:39.076 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:39.077 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:39.077 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:39.078 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:39.078 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:39.079 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:39.080 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:39.081 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:39.082 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:39.083 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:39.083 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:39.084 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:39.084 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:39.085 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:39.086 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:39.086 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:39.087 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.088 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.088 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.089 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.090 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.091 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.092 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:39.092 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:39.093 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.095 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:39.096 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:39.096 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:39.097 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:39.097 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:39.098 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:39.099 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:39.099 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:39.100 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:39.101 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:39.101 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:39.102 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:39.102 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:39.103 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:39.103 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:39.104 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:39.105 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:39.106 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:39.106 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:39.107 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:39.108 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:39.108 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:39.109 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:39.109 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:39.110 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:39.111 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:39.112 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:39.113 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:39.114 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:39.114 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:39.114 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:39.114 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.115 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.115 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.116 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.117 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:39.117 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:39.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:39.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:39.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:39.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:39.120 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:39.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:39.124 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:39.124 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:39.126 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.127 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.128 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:39.129 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:39.130 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.131 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:39.131 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.133 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:39.133 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:53:39.134 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:39.135 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:39.135 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:39.138 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:39.138 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:39.139 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:39.139 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:39.139 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:39.140 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:39.140 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:39.142 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:39.143 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.2828ms
2024-11-19 11:53:39.143 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.6499ms
2024-11-19 11:53:39.144 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:39.145 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:39.145 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:39.146 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:39.146 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.147 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:39.148 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:39.148 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:39.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 95.5894ms
2024-11-19 11:53:39.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 96.3893ms
2024-11-19 11:53:40.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=J - null null
2024-11-19 11:53:40.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=J - null null
2024-11-19 11:53:40.072 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:40.073 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:40.073 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:40.074 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:40.074 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:40.075 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:40.075 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:40.076 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:40.076 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:40.077 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:40.077 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.078 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.079 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:40.079 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:40.080 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.080 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.080 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:40.081 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:40.082 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:40.082 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:40.083 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:40.084 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:40.085 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.086 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:40.085 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.088 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:40.087 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.089 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.090 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.091 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.091 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.092 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.092 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.093 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.094 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:40.094 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:40.095 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.096 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.096 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.097 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.098 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.099 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.100 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.100 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.101 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.101 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.102 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:40.103 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:40.103 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.104 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.105 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.105 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.106 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.106 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.107 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.107 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.108 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.109 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.109 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.110 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.110 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:40.111 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:40.112 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.112 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.113 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.114 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.114 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.115 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.115 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.116 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.117 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.117 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.118 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:40.118 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:40.119 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.120 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.120 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.121 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.121 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.122 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.123 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.124 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.124 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:40.125 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:40.126 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:40.126 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:40.127 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:40.127 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:40.127 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.128 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.128 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.129 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.130 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:40.130 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:40.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:40.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:40.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:40.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:40.133 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:40.134 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:40.135 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:40.136 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:40.136 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.137 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.138 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:40.138 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:40.139 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.140 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.140 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:40.141 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:40.142 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:40.142 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:40.143 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:40.145 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:40.145 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:40.145 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:40.146 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:40.146 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:40.147 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:40.147 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:40.147 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:40.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:40.149 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.4476ms
2024-11-19 11:53:40.150 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.0091ms
2024-11-19 11:53:40.150 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.151 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.151 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:40.152 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:40.152 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.153 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.154 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:40.154 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:40.155 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=J - 200 6829 application/json; charset=utf-8 84.4288ms
2024-11-19 11:53:40.155 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=J - 200 2 application/json; charset=utf-8 85.1467ms
2024-11-19 11:53:40.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Jh - null null
2024-11-19 11:53:40.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Jh - null null
2024-11-19 11:53:40.471 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:40.474 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:40.475 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:40.476 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:40.477 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:40.478 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:40.480 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:40.480 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:40.482 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:40.483 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:40.483 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.484 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.484 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:40.485 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:40.485 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.486 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:40.485 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.487 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:40.488 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:40.488 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:40.489 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:40.490 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.490 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:40.491 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:40.492 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.493 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.494 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:40.495 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.495 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.496 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.497 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.497 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.498 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.499 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:40.500 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.499 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.501 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.501 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:40.502 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.502 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.504 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.503 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.505 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.505 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.506 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.507 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:40.507 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.508 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.509 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:40.509 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.510 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.511 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.511 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.512 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.512 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.513 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.513 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.514 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.515 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.516 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:40.516 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.517 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.517 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:40.518 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.518 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.519 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.520 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.520 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.521 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.521 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.522 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.522 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:40.523 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.524 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.524 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:40.525 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.526 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.526 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.527 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.527 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.528 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.529 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.530 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:40.530 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:40.531 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:40.532 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:40.532 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:40.532 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:40.533 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.533 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.534 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.534 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.535 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:40.535 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:40.536 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:40.536 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:40.537 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:40.537 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:40.538 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:40.538 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:40.540 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:40.541 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:40.541 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.542 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.543 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:40.544 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:40.544 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.545 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.545 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:40.546 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:40.547 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:40.547 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:40.548 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:40.549 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:40.550 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:40.550 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:40.550 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:40.551 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:40.551 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:40.551 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:40.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:40.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:40.553 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.3128ms
2024-11-19 11:53:40.554 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.8688ms
2024-11-19 11:53:40.554 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.555 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.556 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:40.555 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:40.557 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.557 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.558 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:40.558 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:40.560 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Jh - 200 2 application/json; charset=utf-8 90.2663ms
2024-11-19 11:53:40.559 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=Jh - 200 2 application/json; charset=utf-8 89.4736ms
2024-11-19 11:53:40.941 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=J - null null
2024-11-19 11:53:40.941 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=J - null null
2024-11-19 11:53:40.943 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:40.944 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:40.945 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:40.945 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:40.946 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:40.946 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:40.946 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:40.947 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:40.947 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:40.948 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:40.949 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.949 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.950 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:40.950 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:40.951 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.952 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:40.952 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:40.953 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:40.953 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:40.954 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:40.955 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:40.955 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:40.956 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.957 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.957 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:40.959 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:40.959 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.960 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:40.961 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.961 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.962 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.962 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:40.963 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.963 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.964 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:40.964 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:40.965 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.966 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.966 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.967 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.968 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.968 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:40.969 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.970 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:40.970 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.971 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.971 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:40.972 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:40.973 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.973 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.974 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.975 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.975 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.976 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.976 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.977 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:40.978 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.978 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:40.979 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.979 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.980 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:40.980 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:40.981 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.982 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.982 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.983 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.984 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.984 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:40.985 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.985 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:40.986 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.987 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.987 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:40.988 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:40.989 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.989 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.990 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.990 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.991 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.992 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:40.992 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.993 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:40.994 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:40.995 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:40.995 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:40.996 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:40.997 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:40.997 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.997 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:40.998 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.998 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:40.999 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.000 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:41.000 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:41.001 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:41.001 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:41.002 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:41.002 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:41.003 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:41.003 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:41.005 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:41.005 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:41.006 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.007 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.008 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:41.008 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:41.009 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.010 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.010 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:41.011 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:41.011 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:41.012 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:41.013 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:41.014 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:41.015 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:41.015 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:41.015 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:41.016 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:41.016 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:41.017 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:41.017 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:41.018 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:41.019 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.8097ms
2024-11-19 11:53:41.020 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.5261ms
2024-11-19 11:53:41.020 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.021 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.022 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:41.022 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:41.023 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.023 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.024 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:41.024 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:41.025 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=J - 200 6829 application/json; charset=utf-8 84.1722ms
2024-11-19 11:53:41.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=J - 200 2 application/json; charset=utf-8 84.8848ms
2024-11-19 11:53:41.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:41.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:41.136 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:41.139 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:41.139 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:41.140 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:41.140 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:41.140 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:41.141 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:41.141 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:41.142 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:41.142 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:41.143 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.144 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.144 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:41.145 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:41.145 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.146 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.146 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:41.147 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:41.147 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:41.148 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:41.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:41.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:41.150 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:41.151 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:41.151 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:41.152 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:41.153 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:41.154 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:41.155 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:41.155 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:41.156 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:41.156 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:41.157 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:41.157 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:41.158 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:41.159 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:41.159 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:41.160 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:41.161 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:41.161 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:41.162 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:41.162 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:41.163 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:41.163 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:41.164 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:41.164 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:41.165 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:41.166 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:41.166 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.167 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.168 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.168 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.169 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.170 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.170 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:41.171 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:41.171 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.172 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:41.172 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:41.173 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:41.174 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:41.174 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:41.175 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:41.176 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:41.176 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:41.177 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:41.177 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:41.178 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:41.178 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:41.179 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:41.179 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:41.180 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:41.180 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:41.181 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:41.182 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:41.182 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:41.183 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:41.183 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:41.184 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:41.185 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:41.185 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:41.186 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:41.187 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:41.187 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:41.188 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:41.189 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:41.189 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:41.189 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:41.190 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.190 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.191 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.191 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.192 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:41.192 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:41.193 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:41.193 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:41.194 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:41.194 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:41.195 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:41.196 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:41.197 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:41.198 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:41.198 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.200 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.200 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:41.200 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:41.201 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.202 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.202 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:41.203 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:41.204 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:41.204 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:41.205 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:41.206 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:41.207 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:41.207 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:41.207 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:41.208 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:41.208 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:41.209 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:41.209 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:41.210 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:41.211 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.2882ms
2024-11-19 11:53:41.212 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.213 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.4287ms
2024-11-19 11:53:41.213 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:41.214 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:41.214 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.214 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:41.215 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:41.216 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:41.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 82.8953ms
2024-11-19 11:53:41.217 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:41.219 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 85.584ms
2024-11-19 11:53:43.201 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=J - null null
2024-11-19 11:53:43.201 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=J - null null
2024-11-19 11:53:43.203 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:43.206 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:43.206 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:43.206 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:43.207 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:43.207 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:43.208 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:43.208 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:43.209 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:43.210 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:43.211 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.212 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.212 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:43.212 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:43.213 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.213 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.214 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:43.214 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:43.215 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:43.216 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:43.216 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:43.217 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:43.218 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.218 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.219 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:43.220 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:43.221 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.221 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.222 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.223 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.223 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.224 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.224 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.225 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.225 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:43.226 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:43.226 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.227 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.228 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.228 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.229 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.230 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.230 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.231 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.231 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.232 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.232 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:43.233 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:43.234 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.233 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.235 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.236 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.235 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.236 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.237 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.237 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.238 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.238 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.239 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.240 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:43.240 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.241 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.241 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:43.242 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.242 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.243 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.244 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.244 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.245 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.245 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.246 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.246 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:43.247 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.247 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.248 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:43.248 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.249 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.249 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.250 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.251 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.251 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.252 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.252 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:43.253 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:43.254 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:43.254 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:43.255 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:43.255 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:43.255 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.256 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.256 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.257 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:43.258 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:43.259 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:43.259 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:43.260 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:43.260 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:43.261 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:43.261 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:43.263 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:43.264 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.263 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:43.265 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 11:53:43.266 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.266 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.267 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:43.267 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:43.268 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.268 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:43.269 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:43.270 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:43.270 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:43.271 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:43.272 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:43.272 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:43.272 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:43.273 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:43.274 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:43.274 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:43.275 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:43.275 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 52.4265ms
2024-11-19 11:53:43.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:43.276 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.278 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.1349ms
2024-11-19 11:53:43.279 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:43.280 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.280 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.281 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:43.281 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:43.282 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=J - 200 2 application/json; charset=utf-8 80.9426ms
2024-11-19 11:53:43.283 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:43.285 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=J - 200 6829 application/json; charset=utf-8 84.4503ms
2024-11-19 11:53:43.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:43.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:43.800 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:43.802 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:43.804 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:43.804 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:43.805 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:43.805 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:43.805 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:43.806 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:43.807 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:43.807 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:43.808 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.808 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.809 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:43.809 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:43.810 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.810 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.811 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:43.811 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:43.812 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:43.813 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:43.813 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:43.814 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:43.815 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.815 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.816 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:43.817 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:43.818 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.818 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:43.819 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.820 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.821 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.821 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:43.822 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.822 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.823 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:43.823 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:43.824 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.824 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.825 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.825 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.826 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.827 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:43.827 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.828 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:43.828 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.829 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.829 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:43.830 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:43.831 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.831 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.832 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.833 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.834 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.832 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.834 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.835 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.835 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.836 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:43.836 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:43.837 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:43.838 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.838 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.839 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.839 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:43.840 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.841 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.841 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.842 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.842 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.843 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:43.843 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:43.844 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:43.844 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.845 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.845 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.846 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:43.847 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.847 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.848 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.848 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.850 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:43.850 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:43.850 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:43.851 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:43.852 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:43.852 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:43.852 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.854 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:43.854 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.854 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:43.855 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:43.855 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.856 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:43.856 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.857 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:43.857 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:43.858 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:43.858 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:43.859 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:43.860 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:43.861 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:43.861 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.863 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:43.863 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:43.864 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.864 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.865 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:43.865 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:43.866 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.867 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:43.867 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:43.868 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:43.869 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:43.869 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:43.870 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:43.871 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:43.871 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:43.871 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:43.872 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:43.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:43.873 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:43.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:43.875 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.6904ms
2024-11-19 11:53:43.875 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.2145ms
2024-11-19 11:53:43.876 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.876 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:43.877 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:43.877 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:43.878 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.878 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:43.879 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:43.879 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:43.880 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.827ms
2024-11-19 11:53:43.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 84.5482ms
2024-11-19 11:53:44.589 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=S - null null
2024-11-19 11:53:44.589 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=S - null null
2024-11-19 11:53:44.592 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:44.593 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:44.593 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:44.593 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:44.594 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:44.594 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:44.594 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:44.595 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:44.595 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:44.596 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:44.597 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:44.597 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:44.598 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:44.598 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:44.599 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:44.599 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:44.600 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:44.600 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:44.601 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:44.602 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:44.603 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:44.603 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:44.604 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:44.605 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:44.605 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:44.606 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:44.607 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:44.608 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:44.608 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:44.609 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:44.611 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:44.611 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:44.612 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:44.612 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:44.613 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:44.613 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:44.614 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:44.615 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:44.615 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:44.616 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:44.616 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:44.617 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:44.617 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:44.618 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:44.619 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:44.619 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:44.620 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:44.620 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:44.621 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.622 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.622 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.623 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.624 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.624 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.625 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:44.625 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:44.626 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.626 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:44.627 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:44.628 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:44.628 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:44.629 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:44.630 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:44.630 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:44.631 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:44.632 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:44.633 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:44.633 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:44.634 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:44.634 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:44.635 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:44.635 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:44.636 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:44.636 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:44.637 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:44.638 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:44.638 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:44.639 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:44.640 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:44.640 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:44.641 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:44.641 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:44.642 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:44.643 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:44.643 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:44.644 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:44.644 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:44.645 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.645 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:44.646 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.646 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:44.647 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.648 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:44.649 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:44.649 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:44.650 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:44.650 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:44.651 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:44.652 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:44.652 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:44.654 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:44.654 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.655 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.656 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:44.656 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:44.657 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.658 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.658 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:44.659 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:44.660 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:44.660 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:44.661 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:44.662 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:44.663 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:44.663 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:44.663 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:44.664 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:44.664 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:44.665 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:44.665 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:44.666 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:44.666 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.0488ms
2024-11-19 11:53:44.668 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.2141ms
2024-11-19 11:53:44.668 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:44.669 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:44.670 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:44.670 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:44.671 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.671 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:44.672 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:44.673 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:44.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=S - 200 2125 application/json; charset=utf-8 84.3597ms
2024-11-19 11:53:44.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=S - 200 12700 application/json; charset=utf-8 85.2223ms
2024-11-19 11:53:45.149 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:45.149 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:45.150 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:45.155 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:45.157 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:45.157 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:45.158 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:45.158 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:45.159 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:45.159 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:45.160 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:45.161 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:45.162 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.162 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.163 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:45.163 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:45.164 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.164 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.165 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:45.165 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:45.166 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:45.167 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:45.167 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:45.168 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:45.169 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.169 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.170 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:45.172 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:45.172 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.173 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.174 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.175 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.175 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.176 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.176 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.177 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.177 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:45.178 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:45.178 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.179 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.179 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.180 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.181 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.181 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.182 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.182 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.183 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.184 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.184 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:45.185 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:45.185 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.186 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.187 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.188 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.188 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.189 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.189 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.190 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.191 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.191 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.192 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.192 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.193 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:45.193 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:45.194 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.195 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.195 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.196 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.196 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.197 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.197 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.198 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.198 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.199 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.199 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:45.200 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:45.200 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.201 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.202 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.203 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.203 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.204 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.204 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.205 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.206 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:45.207 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:45.207 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:45.208 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:45.208 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:45.208 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:45.209 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.209 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.210 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.210 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.211 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:45.211 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:45.212 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:45.212 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:45.213 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:45.213 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:45.214 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:45.214 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:45.216 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:45.217 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:45.218 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.219 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.219 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:45.220 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:45.220 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.221 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.221 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:45.222 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:45.223 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:45.223 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:45.224 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:45.225 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:45.226 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:45.226 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:45.226 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:45.227 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:45.227 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:45.228 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:45.228 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:45.230 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:45.230 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.4076ms
2024-11-19 11:53:45.231 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.3195ms
2024-11-19 11:53:45.231 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.232 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.232 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:45.233 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:45.234 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.234 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.235 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:45.236 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:45.236 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 87.5975ms
2024-11-19 11:53:45.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 88.217ms
2024-11-19 11:53:45.369 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:45.369 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:45.373 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:45.375 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:45.375 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:45.376 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:45.376 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:45.376 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:45.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:45.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:45.378 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:45.378 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:45.379 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.380 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.380 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:45.381 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:45.381 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.381 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.382 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:45.382 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:45.383 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:45.384 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:45.385 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:45.385 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:45.386 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.386 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.387 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:45.388 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:45.389 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.389 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:45.390 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.391 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.392 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.392 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:45.393 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.393 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.394 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:45.394 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:45.395 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.396 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.396 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.397 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.397 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.398 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:45.398 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.399 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:45.399 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.400 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.400 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:45.401 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:45.402 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.402 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.403 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.403 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.404 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.404 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.405 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.406 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:45.406 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.407 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:45.407 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.408 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.408 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:45.409 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:45.410 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.410 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.411 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.411 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.412 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.412 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:45.413 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.414 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:45.414 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.415 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.415 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:45.416 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:45.416 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.417 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.418 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.418 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.419 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.419 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:45.420 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.420 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:45.422 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:45.422 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:45.423 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:45.424 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:45.424 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:45.424 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:45.425 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.425 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.426 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.426 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.427 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:45.427 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:45.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:45.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:45.429 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:45.429 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:45.430 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:45.431 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:45.432 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:45.433 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:45.434 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.435 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.435 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:45.436 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:45.436 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.437 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.438 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:45.438 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:45.439 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:45.440 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:45.441 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:45.442 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:45.442 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:45.442 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:45.443 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:45.443 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:45.443 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:45.444 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:45.444 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:45.445 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:45.446 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 54.4208ms
2024-11-19 11:53:45.447 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.448 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.9029ms
2024-11-19 11:53:45.448 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:45.449 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:45.449 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.450 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:45.451 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:45.451 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:45.452 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:45.453 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 84.4073ms
2024-11-19 11:53:45.453 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 84.9918ms
2024-11-19 11:53:46.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aS - null null
2024-11-19 11:53:46.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aS - null null
2024-11-19 11:53:46.018 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:46.019 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:46.020 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:46.020 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:46.020 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:46.021 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:46.021 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:46.022 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:46.022 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:46.023 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:46.023 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.024 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.025 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:46.025 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:46.025 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.026 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.026 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:46.027 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:46.027 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:46.028 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:46.029 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:46.030 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:46.030 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.031 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.032 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:46.033 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:46.033 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.034 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.035 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.036 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.036 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.037 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.037 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.038 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.038 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:46.039 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:46.040 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.040 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.041 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.041 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.042 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.043 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.043 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.044 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.044 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.045 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.045 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:46.046 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:46.046 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.047 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.047 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.048 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.049 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.049 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.050 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.051 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.051 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.052 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.052 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.053 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.053 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:46.054 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:46.055 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.055 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.056 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.057 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.057 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.058 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.058 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.059 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.060 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.060 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.061 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:46.061 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:46.062 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.063 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.063 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.064 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.064 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.065 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.065 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.066 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.067 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:46.067 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:46.068 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:46.069 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:46.069 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:46.069 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.070 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:46.070 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.071 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.071 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:46.072 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.072 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:46.073 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:46.073 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:46.074 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:46.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:46.075 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:46.076 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:46.076 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:46.078 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:46.078 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.079 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.080 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:46.080 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:46.081 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.082 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.082 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:46.083 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:46.084 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:46.084 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:46.085 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:46.087 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:46.087 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:46.087 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:46.087 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:46.088 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:46.088 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:46.089 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:46.089 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:46.090 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:46.090 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.6084ms
2024-11-19 11:53:46.091 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.4174ms
2024-11-19 11:53:46.092 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.092 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.093 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:46.093 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:46.094 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.094 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.095 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:46.095 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:46.096 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aS - 200 528 application/json; charset=utf-8 80.0548ms
2024-11-19 11:53:46.097 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aS - 200 2 application/json; charset=utf-8 80.8719ms
2024-11-19 11:53:46.554 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:46.554 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:46.559 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:46.560 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:46.560 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:46.561 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:46.561 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:46.561 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:46.562 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:46.563 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:46.563 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:46.564 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:46.564 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.565 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.565 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:46.566 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:46.566 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.567 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.567 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:46.567 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:46.568 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:46.569 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:46.570 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:46.570 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:46.571 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.572 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.572 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:46.573 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:46.574 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.574 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.575 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.576 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.577 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.577 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.578 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.578 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.579 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:46.579 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:46.580 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.581 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.581 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.582 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.582 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.583 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:46.583 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.584 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:46.585 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.585 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.586 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:46.586 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:46.587 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.588 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.588 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.589 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.590 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.589 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.591 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.592 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:46.592 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.593 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:46.593 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.594 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.594 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:46.595 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:46.595 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.596 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.596 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.597 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.598 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.598 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:46.599 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.599 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:46.600 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.600 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.601 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:46.601 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:46.602 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.603 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.603 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.604 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.604 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.605 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:46.606 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.606 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:46.607 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:46.607 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:46.608 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:46.609 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:46.609 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:46.610 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.610 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:46.610 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.611 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.611 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:46.612 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:46.612 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:46.613 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:46.614 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:46.614 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:46.615 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:46.615 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:46.617 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:46.618 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:46.619 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.619 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.620 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:46.620 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:46.621 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.622 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.622 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:46.623 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:46.623 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:46.624 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:46.625 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:46.626 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:46.626 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:46.627 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:46.627 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:46.627 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:46.628 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:46.628 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:46.628 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:46.629 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:46.631 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.9165ms
2024-11-19 11:53:46.631 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.2742ms
2024-11-19 11:53:46.632 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.633 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.633 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:46.634 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:46.634 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.635 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:46.636 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:46.636 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:46.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 83.9023ms
2024-11-19 11:53:46.638 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 84.5976ms
2024-11-19 11:53:46.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:46.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:46.979 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:46.980 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:46.981 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:46.981 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:46.982 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:46.982 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:46.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:46.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:46.984 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:46.984 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:46.985 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.986 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.986 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:46.987 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:46.987 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.988 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:46.988 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:46.989 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:46.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:46.990 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:46.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:46.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:46.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.993 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:46.995 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:46.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.996 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:46.997 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.997 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.999 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.999 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:46.999 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.000 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.000 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:47.001 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:47.002 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.002 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.003 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.003 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.004 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.004 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.005 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.005 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.006 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.007 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.007 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:47.008 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:47.008 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.009 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.010 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.010 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.011 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.012 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.012 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.013 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.013 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.014 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.014 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.015 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.016 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:47.016 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:47.017 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.017 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.018 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.019 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.019 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.020 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.020 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.021 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.021 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.022 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.023 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:47.023 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:47.024 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.024 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.025 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.025 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.026 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.027 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.027 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.028 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.029 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:47.034 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:47.030 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:47.043 +07:00 [DBG] Created DbConnection. (8ms).
2024-11-19 11:53:47.044 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.045 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:47.045 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:47.046 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:47.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:47.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:53:47.051 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:47.048 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.055 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:47.057 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.063 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:47.064 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.064 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:47.065 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:47.067 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 11:53:47.067 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.069 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:47.068 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:47.071 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:47.074 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:47.074 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:47.076 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.076 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:47.078 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:47.079 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:47.080 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.080 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:47.081 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:47.082 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:47.084 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:47.089 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 91.5041ms
2024-11-19 11:53:47.091 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:47.093 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.095 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:47.098 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:47.099 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:47.100 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.100 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:47.101 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:47.102 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:47.103 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 125.4255ms
2024-11-19 11:53:47.104 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 106.8664ms
2024-11-19 11:53:47.106 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.107 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:47.108 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.109 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:47.111 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 133.3459ms
2024-11-19 11:53:47.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:47.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:47.228 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:47.232 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:47.232 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:47.232 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:47.233 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:47.233 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:47.234 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:47.234 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:47.235 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:47.235 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:47.236 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.237 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.238 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:47.238 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:47.239 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.239 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.240 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:47.240 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:47.241 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:47.242 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:47.243 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:47.244 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:47.245 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.245 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.247 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:47.248 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:47.249 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.250 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.250 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.251 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.252 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.253 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.253 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.254 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.255 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:47.256 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:47.256 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.257 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.258 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.259 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.259 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.260 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.261 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.261 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.262 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.263 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.263 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:47.264 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:47.265 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.266 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.267 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.267 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.268 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.269 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.269 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.270 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.271 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.272 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.272 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.273 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.274 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:47.274 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:47.275 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.276 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.277 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.278 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.278 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.279 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.280 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.280 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.281 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.282 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.282 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:47.283 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:47.284 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.285 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.285 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.286 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.287 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.288 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.288 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.289 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.290 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:47.291 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:47.292 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:47.293 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:47.293 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:47.294 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.294 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:47.295 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.295 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.296 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:47.297 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.297 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:47.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:47.299 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:47.299 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:47.300 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:47.301 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:47.302 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:47.302 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:47.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:47.305 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.306 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.307 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:47.308 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:47.308 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.309 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.310 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:47.310 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:47.311 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:47.312 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:47.313 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:47.315 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:47.315 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:47.316 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:47.316 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:47.316 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:47.317 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:47.317 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:47.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:47.319 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:47.321 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.9866ms
2024-11-19 11:53:47.322 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 71.8099ms
2024-11-19 11:53:47.322 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.323 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.323 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:47.324 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:47.324 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.325 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.326 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:47.326 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:47.327 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 100.943ms
2024-11-19 11:53:47.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 101.6979ms
2024-11-19 11:53:47.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=as - null null
2024-11-19 11:53:47.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=as - null null
2024-11-19 11:53:47.407 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:47.408 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:47.409 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:47.409 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:47.410 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:47.410 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:47.411 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:47.411 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:47.412 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:47.412 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:47.413 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.414 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.415 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:47.415 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:47.416 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.416 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.417 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:47.417 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:47.418 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:47.419 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:47.420 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:47.421 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:47.421 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.422 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.423 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:47.425 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:47.425 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.426 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:47.427 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.428 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.429 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.429 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:47.430 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.431 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.431 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:47.432 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:47.433 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.433 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.434 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.435 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.435 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.436 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:47.437 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.437 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:47.438 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.439 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.439 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:47.440 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:47.441 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.441 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.442 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.443 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.444 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.444 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.445 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.446 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:47.446 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.447 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:47.447 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.448 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.449 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:47.449 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:47.450 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.451 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.452 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.452 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.453 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.454 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:47.454 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.455 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:47.455 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.456 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.457 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:47.457 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:47.458 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.459 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.460 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.461 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.461 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.462 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:47.462 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.463 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:47.464 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:47.465 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:47.466 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:47.467 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:47.467 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:47.468 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.468 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:47.469 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.469 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.470 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:47.471 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.471 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:47.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:47.472 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:47.473 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:47.474 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:47.474 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:47.476 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:47.476 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:47.478 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:47.479 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.480 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.480 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:47.481 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:47.482 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.483 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.483 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:47.484 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:47.485 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:47.486 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:47.487 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:47.488 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:47.489 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:47.489 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:47.490 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:47.490 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:47.490 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:47.491 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:47.492 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:47.492 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:47.493 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.1253ms
2024-11-19 11:53:47.494 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 65.9755ms
2024-11-19 11:53:47.494 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.495 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:47.496 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:47.496 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:47.497 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.497 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:47.498 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:47.499 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:47.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=as - 200 2 application/json; charset=utf-8 95.1272ms
2024-11-19 11:53:47.501 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=as - 200 528 application/json; charset=utf-8 96.1276ms
2024-11-19 11:53:48.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:48.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:48.091 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.095 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.096 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.096 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.097 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.097 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.098 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.099 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.100 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.101 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.102 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.103 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.103 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.104 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.105 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.105 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.106 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.106 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.108 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.109 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.110 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.110 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.111 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.112 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.114 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.115 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.116 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.117 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.118 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.119 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.120 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.120 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.121 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.122 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.123 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.124 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.125 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.126 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.127 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.127 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.128 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.129 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.130 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.131 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.131 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.133 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.133 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.134 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.135 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.136 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.137 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.138 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.138 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.140 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.140 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.141 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.142 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.143 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.143 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.144 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.145 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.146 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.146 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.147 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.148 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.148 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.149 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.150 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.150 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.151 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.152 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.153 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.154 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.154 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.155 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.156 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.157 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.157 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.158 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.158 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.159 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.161 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.161 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.162 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.163 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.163 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.163 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.164 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.164 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.165 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.165 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.165 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.167 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:48.167 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:48.168 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.168 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.169 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.169 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.171 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.171 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.172 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.173 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.174 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:48.175 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:48.175 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.176 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.177 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.177 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.178 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.179 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.180 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.182 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.182 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.182 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.183 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.183 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.184 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.184 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.185 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.186 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.188 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 69.8608ms
2024-11-19 11:53:48.202 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 85.3544ms
2024-11-19 11:53:48.206 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.206 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.207 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.210 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.212 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:48.208 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 126.0083ms
2024-11-19 11:53:48.214 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.221 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-11-19 11:53:48.222 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 135.5788ms
2024-11-19 11:53:48.284 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=as - null null
2024-11-19 11:53:48.284 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=as - null null
2024-11-19 11:53:48.286 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.288 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.288 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.289 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.289 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.289 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.290 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.290 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.291 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.292 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.293 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.293 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.294 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.295 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.295 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.295 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.296 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.296 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.297 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.298 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.299 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.300 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.300 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.301 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.302 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.303 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.304 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.305 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.306 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.307 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.308 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.308 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.309 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.309 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.310 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.311 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.311 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.312 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.313 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.313 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.314 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.315 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.315 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.316 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.316 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.317 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.318 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.318 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.319 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.320 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.321 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.322 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.322 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.323 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.323 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.324 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.325 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.325 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.326 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.327 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.327 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.328 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.328 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.329 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.330 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.331 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.331 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.332 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.333 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.334 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.334 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.335 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.336 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.336 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.337 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.338 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.338 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.339 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.340 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.340 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.341 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.342 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.343 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.343 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.344 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.345 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.345 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:48.346 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.346 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.347 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.348 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.348 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.349 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.350 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:48.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:48.351 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.352 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.352 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.353 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.355 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.356 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.356 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.358 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.358 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:48.359 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:48.360 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.361 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.361 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.362 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.363 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.363 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.365 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.366 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.366 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.367 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.367 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.367 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.368 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.368 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.369 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.370 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.370 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.564ms
2024-11-19 11:53:48.371 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.2858ms
2024-11-19 11:53:48.372 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.372 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.373 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.373 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.374 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.374 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.375 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:48.376 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:48.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=as - 200 2 application/json; charset=utf-8 92.7913ms
2024-11-19 11:53:48.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=as - 200 528 application/json; charset=utf-8 93.5162ms
2024-11-19 11:53:48.662 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:48.662 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:48.664 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.666 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.666 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.667 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.667 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.668 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.668 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.669 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.670 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.670 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.671 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.671 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.672 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.672 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.673 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.673 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.674 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.674 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.675 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.676 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.677 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.677 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.678 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.679 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.680 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.681 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.681 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.682 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.683 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.684 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.684 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.685 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.685 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.686 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.686 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.687 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.688 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.688 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.689 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.690 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.690 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.691 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.691 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.692 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.692 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.693 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.694 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.695 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.695 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.696 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.696 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.697 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.698 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.698 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.699 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.699 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.700 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.700 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.701 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.702 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.702 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.703 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.703 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.704 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.705 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.705 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.706 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.706 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.707 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.707 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.708 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.708 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.709 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.710 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.711 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.711 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.712 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.712 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.713 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.713 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.714 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.714 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.716 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.716 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.717 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.718 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.718 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.719 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.719 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.720 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.720 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.721 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.721 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.722 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.722 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:48.723 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:48.723 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.724 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.724 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.725 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.726 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.727 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.728 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.729 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.730 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:48.730 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:48.731 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.732 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.732 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.733 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.733 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.734 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.735 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.736 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.736 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.737 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.737 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.738 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.738 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.738 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.739 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.739 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.741 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.9521ms
2024-11-19 11:53:48.742 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.027ms
2024-11-19 11:53:48.742 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.743 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.743 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.744 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.744 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.745 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.745 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:48.746 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:48.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 84.6852ms
2024-11-19 11:53:48.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 85.3252ms
2024-11-19 11:53:48.770 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=ae - null null
2024-11-19 11:53:48.770 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=ae - null null
2024-11-19 11:53:48.772 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.774 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:48.774 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.774 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:48.775 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.775 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:48.776 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.776 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:48.777 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.777 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:48.778 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.779 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.779 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.780 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:48.780 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.781 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.781 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.782 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:48.782 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.783 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:48.784 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.785 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:48.785 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.786 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.787 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.788 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:48.789 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.790 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:48.791 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.793 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.794 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.795 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:48.795 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.796 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.797 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.797 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:48.798 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.799 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.800 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.800 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.801 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.801 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:48.802 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.803 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:48.803 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.804 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.804 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.805 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:48.806 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.807 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.808 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.808 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.809 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.809 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.810 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.810 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:48.811 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.811 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:48.812 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.813 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.813 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.814 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:48.814 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.815 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.816 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.816 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.817 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.817 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:48.818 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.818 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:48.819 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.820 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.820 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.822 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:48.822 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.823 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.823 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.824 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.825 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.825 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:48.826 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.827 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:48.828 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.828 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:48.829 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.830 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.830 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:48.831 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.831 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:48.832 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.832 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.833 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.833 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.834 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:48.834 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:48.835 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.835 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:48.836 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.837 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:48.838 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.838 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:48.840 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:48.841 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.842 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.843 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:48.843 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:48.844 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.845 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.845 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.846 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:48.846 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.848 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:48.849 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.850 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:48.850 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.851 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:48.851 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.852 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:48.852 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.852 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:48.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:48.854 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.986ms
2024-11-19 11:53:48.855 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.3505ms
2024-11-19 11:53:48.855 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.856 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:48.857 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.857 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:48.858 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.858 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:48.859 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:48.859 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:48.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=ae - 200 2 application/json; charset=utf-8 90.1355ms
2024-11-19 11:53:48.861 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=ae - 200 2115 application/json; charset=utf-8 90.731ms
2024-11-19 11:53:49.311 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:49.311 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:49.316 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:49.317 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:49.317 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:49.318 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:49.318 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:49.318 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:49.319 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:49.319 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:49.320 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:49.320 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:49.321 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.322 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.322 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:49.323 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:49.323 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.323 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.324 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:49.324 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:49.325 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:49.326 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:49.326 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:49.327 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:49.328 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.328 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.329 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:49.330 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:49.331 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.331 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.332 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.333 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.334 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.334 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.334 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.335 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.335 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:49.336 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:49.336 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.337 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.338 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.338 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.339 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.339 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.340 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.340 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.341 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.341 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.342 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:49.342 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:49.343 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.344 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.344 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.345 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.345 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.346 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.346 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.347 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.348 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.348 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.349 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.349 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:49.350 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.351 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.351 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:49.352 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.352 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.353 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.353 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.354 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.354 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.355 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.356 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.356 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:49.357 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.357 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.358 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:49.358 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.359 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.359 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.360 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.360 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.361 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.362 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:49.362 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.364 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:49.364 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:49.365 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:49.365 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:49.365 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.366 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:49.366 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.367 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.367 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:49.368 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.368 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:49.369 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:49.369 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:49.370 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:49.370 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:49.371 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:49.372 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:49.372 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:49.374 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:49.374 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.375 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.376 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:49.376 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:49.377 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.378 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.378 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:49.379 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:49.380 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:49.380 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:49.381 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:49.383 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:49.383 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:49.383 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:49.384 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:49.384 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:49.384 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:49.385 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:49.385 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:49.386 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:49.388 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 54.7352ms
2024-11-19 11:53:49.388 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.9699ms
2024-11-19 11:53:49.389 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.390 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.391 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:49.392 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:49.392 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.393 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aw - null null
2024-11-19 11:53:49.393 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.394 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aw - null null
2024-11-19 11:53:49.394 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:49.395 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:49.396 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-11-19 11:53:49.398 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:49.398 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 87.7906ms
2024-11-19 11:53:49.399 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:49.400 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 89.0486ms
2024-11-19 11:53:49.400 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:49.402 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:49.404 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:49.405 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:49.405 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:49.406 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:49.406 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:49.407 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.408 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.408 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:49.409 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:49.410 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.410 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.411 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:49.411 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:49.412 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:49.413 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:49.413 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:49.414 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:49.415 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.415 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.417 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:49.417 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:49.418 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.419 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:49.420 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.421 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.421 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.423 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:49.424 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.424 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.425 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:49.426 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:49.426 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.427 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.428 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.428 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.429 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.429 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:49.430 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.431 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:49.431 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.432 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.432 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:49.433 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:49.434 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.434 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.435 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.436 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.437 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.437 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.438 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.438 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:49.439 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.440 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:49.440 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.441 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.441 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:49.442 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:49.443 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.444 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.444 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.445 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.445 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.446 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:49.447 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.447 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:49.448 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.448 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.449 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:49.449 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:49.450 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.451 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.451 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.452 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.452 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.453 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:49.453 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.454 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:49.455 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:49.456 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:49.456 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:49.457 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 11:53:49.458 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:49.458 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.458 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:49.459 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.460 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.460 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:49.461 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.461 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:49.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:49.462 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:49.463 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:49.464 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:49.464 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:49.466 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:49.466 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:49.468 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:49.468 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.469 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.470 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:49.470 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:49.471 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.472 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.473 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:49.473 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:49.474 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:49.475 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:49.476 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:49.477 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:49.477 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:49.478 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:49.478 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:49.478 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:49.479 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:49.479 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:49.480 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:49.481 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:49.481 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.4076ms
2024-11-19 11:53:49.482 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.2203ms
2024-11-19 11:53:49.482 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.483 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:49.484 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:49.484 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:49.485 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.485 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:49.486 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:49.487 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:49.488 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aw - 200 2 application/json; charset=utf-8 94.2227ms
2024-11-19 11:53:49.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aw - 200 2 application/json; charset=utf-8 95.3207ms
2024-11-19 11:53:49.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:49.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:49.995 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:49.996 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:49.997 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:49.997 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:49.998 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:49.998 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:49.998 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:49.999 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:49.999 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.000 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.001 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.001 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.002 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.002 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.003 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.003 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.003 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.004 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.004 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.005 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.006 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.007 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.007 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.008 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.009 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.010 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.010 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.011 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.012 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.012 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.013 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.013 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.014 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.014 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.015 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.016 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.016 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.017 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.017 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.018 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.018 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.019 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.019 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.020 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.021 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.021 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.022 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.022 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.023 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.023 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.024 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.025 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.025 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.026 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.026 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.027 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.027 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.028 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.029 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.029 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.030 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.030 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.031 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.031 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.032 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.032 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.033 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.034 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.034 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.035 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.035 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.036 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.036 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.037 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.037 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.038 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.038 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.039 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.040 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.040 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.041 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.041 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.042 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.044 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.043 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.044 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.045 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.045 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.046 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.046 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.047 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.048 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:50.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:50.050 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:50.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.051 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:50.052 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.053 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.054 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.054 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.056 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.056 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.057 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.057 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.058 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.058 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:50.059 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:50.060 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.060 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.061 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.063 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.063 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.063 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.064 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.064 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.065 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.065 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.067 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.5825ms
2024-11-19 11:53:50.068 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - null null
2024-11-19 11:53:50.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - null null
2024-11-19 11:53:50.070 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.071 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.4138ms
2024-11-19 11:53:50.072 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:50.073 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:50.074 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.074 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.075 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:50.075 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:50.076 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.076 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.077 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:50.077 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:50.078 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:50.078 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.079 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:50.079 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:50.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 90.1825ms
2024-11-19 11:53:50.080 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:50.081 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.081 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.083 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 93.6848ms
2024-11-19 11:53:50.084 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.085 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.087 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.087 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.087 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.088 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.088 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.089 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.090 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.091 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.092 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.092 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.093 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.094 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.095 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.096 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.096 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.097 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.098 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.100 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.101 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.101 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.102 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.103 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.103 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.104 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.105 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.105 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.106 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.106 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.107 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.108 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.108 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.109 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.109 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.110 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.110 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.111 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.112 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.113 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.114 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.114 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.115 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.115 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.116 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.116 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.117 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.118 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.118 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.119 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.119 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.120 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.120 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.121 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.122 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.122 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.123 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.123 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.124 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.125 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.125 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.126 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.126 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.127 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.127 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.128 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.129 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.129 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.130 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.130 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.131 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.132 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.133 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.133 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.134 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.135 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.135 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.135 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.136 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.136 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.137 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.137 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.139 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:50.140 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:50.140 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:50.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:50.141 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.142 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.143 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.144 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.145 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.146 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.146 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.147 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.148 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.149 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.149 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:50.150 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:50.150 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.151 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.152 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.153 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.154 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.154 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.154 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.155 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.155 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.156 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.156 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.157 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.157 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.0045ms
2024-11-19 11:53:50.158 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.0708ms
2024-11-19 11:53:50.159 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.159 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.160 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.161 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.161 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.162 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.162 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:50.163 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:50.163 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - 200 2 application/json; charset=utf-8 95.4068ms
2024-11-19 11:53:50.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - 200 2 application/json; charset=utf-8 95.9684ms
2024-11-19 11:53:50.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aqx - null null
2024-11-19 11:53:50.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aqx - null null
2024-11-19 11:53:50.670 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:50.670 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:50.671 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:50.671 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:50.672 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:50.672 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:50.672 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:50.673 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:50.674 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.675 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.675 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.676 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.677 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.677 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.677 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.678 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.678 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.679 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.679 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.680 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.681 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.682 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.682 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.683 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.684 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.684 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.685 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.686 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.686 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.687 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.688 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.688 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.689 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.690 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.690 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.691 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.691 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.692 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.692 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.693 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.693 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.694 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.695 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.695 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.696 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.696 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.697 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.697 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.698 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.698 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.699 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.700 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.700 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.701 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.701 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.702 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.702 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.703 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.703 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.704 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.704 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.705 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.705 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.706 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.707 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.707 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.708 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.709 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.709 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.710 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.710 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.711 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.711 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.712 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.713 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.713 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.714 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.714 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.715 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.715 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.716 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.716 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.717 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.718 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.719 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.719 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.719 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.720 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.720 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.721 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.721 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.722 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.722 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.723 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.723 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:50.724 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:50.724 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:50.725 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:50.726 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.726 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.727 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.728 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.729 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.730 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.730 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.731 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.731 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.732 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.733 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:50.733 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:50.734 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.734 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.736 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.737 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.738 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.737 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.738 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.738 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.740 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.740 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.741 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 53.832ms
2024-11-19 11:53:50.741 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.0541ms
2024-11-19 11:53:50.742 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.742 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.743 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.744 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.744 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.745 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.745 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:50.746 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:50.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aqx - 200 2 application/json; charset=utf-8 81.6904ms
2024-11-19 11:53:50.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aqx - 200 2 application/json; charset=utf-8 82.2033ms
2024-11-19 11:53:50.888 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - null null
2024-11-19 11:53:50.889 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - null null
2024-11-19 11:53:50.892 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:50.893 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:50.893 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:50.894 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:50.894 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:50.894 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:50.895 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:50.895 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:50.896 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.897 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:50.897 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.898 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.899 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.900 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:50.900 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.900 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.901 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.901 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:50.902 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.903 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:50.904 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.904 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:50.905 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.905 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.906 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.907 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:50.908 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.908 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:50.909 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.910 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.910 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.911 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:50.911 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.912 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.912 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.913 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:50.914 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.914 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.915 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.915 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.916 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.916 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:50.917 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.917 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:50.918 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.918 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.919 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.920 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:50.920 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.921 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.921 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.922 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.923 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.923 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.924 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.924 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:50.925 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.925 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:50.926 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.926 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.927 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.927 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:50.928 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.928 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.929 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.930 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.930 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.931 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.931 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:50.932 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.932 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:50.933 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.933 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.934 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.935 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:50.935 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.936 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.936 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.937 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.937 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.938 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:50.939 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:50.939 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.940 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:50.940 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.941 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:50.941 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.942 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:50.942 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.943 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.943 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.944 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.944 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.945 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:50.946 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:50.946 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:50.947 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:50.947 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.948 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:50.949 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.949 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:50.950 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:50.951 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.952 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.953 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.953 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:50.954 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.954 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.955 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:50.955 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:50.956 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.956 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:50.957 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.959 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:50.959 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.959 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:50.960 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.960 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:50.960 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.961 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:50.961 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:50.962 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 53.3749ms
2024-11-19 11:53:50.963 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 52.9009ms
2024-11-19 11:53:50.963 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.964 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:50.964 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.966 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:50.966 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.967 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:50.967 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:50.968 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:50.968 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - 200 2 application/json; charset=utf-8 80.1221ms
2024-11-19 11:53:50.969 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - 200 2 application/json; charset=utf-8 80.7601ms
2024-11-19 11:53:51.117 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aqx - null null
2024-11-19 11:53:51.117 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aqx - null null
2024-11-19 11:53:51.121 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.123 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.124 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.124 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.125 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.126 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.126 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.127 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.127 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.128 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.128 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.129 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.130 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.130 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.130 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.131 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.131 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.132 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.133 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.133 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.134 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.134 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.135 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.136 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.137 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.137 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.138 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.139 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.140 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.140 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.141 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.142 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.142 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.143 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.143 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.144 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.144 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.145 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.145 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.146 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.147 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.147 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.148 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.149 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.149 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.150 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.150 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.151 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.151 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.152 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.153 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.153 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.154 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.154 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.155 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.155 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.156 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.156 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.157 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.158 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.158 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.159 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.159 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.160 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.160 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.161 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.162 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.162 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.163 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.163 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.164 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.164 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.165 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.165 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.166 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.166 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.167 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.168 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.168 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.169 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.169 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.170 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.170 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.172 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.172 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.172 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.173 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.173 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.174 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.175 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.175 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.176 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.177 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.178 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.179 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:51.179 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - null null
2024-11-19 11:53:51.179 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - null null
2024-11-19 11:53:51.179 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.180 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.181 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.182 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.183 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-11-19 11:53:51.184 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.184 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.185 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.185 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.185 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.186 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.187 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.188 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.188 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.189 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:51.189 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.190 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.191 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.191 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.192 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.192 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.193 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:51.193 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:53:51.194 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.195 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.196 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.196 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.196 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.197 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.197 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (2ms).
2024-11-19 11:53:51.199 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.199 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.200 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.200 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.201 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.201 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.202 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.203 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.204 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.205 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.205 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.206 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.206 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.207 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.207 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.207 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.208 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.209 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.210 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.210 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.211 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 70.3627ms
2024-11-19 11:53:51.212 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.212 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.213 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.213 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.214 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.215 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.216 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 76.4903ms
2024-11-19 11:53:51.217 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.218 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.218 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.219 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.219 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.220 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.220 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.221 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.221 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:51.222 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.223 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.223 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.224 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aqx - 200 2 application/json; charset=utf-8 107.3028ms
2024-11-19 11:53:51.224 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.225 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.226 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 11:53:51.227 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.228 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aqx - 200 2 application/json; charset=utf-8 112.3864ms
2024-11-19 11:53:51.229 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.230 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.232 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.232 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.233 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.233 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.234 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.234 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.235 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.235 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.236 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.237 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.237 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.238 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.239 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.239 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.240 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.240 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.241 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.241 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.242 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.242 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.243 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.243 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.244 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.245 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.245 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.246 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.246 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.247 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.247 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.248 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.248 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.249 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.249 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.250 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.251 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.251 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.252 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.252 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.253 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.253 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.254 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.255 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.255 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.256 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.257 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.257 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.257 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.257 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.258 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.258 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.259 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.260 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.260 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.261 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.261 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.262 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.262 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:51.264 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.264 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.266 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.266 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.267 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.267 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.268 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.269 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.269 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.270 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.270 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.271 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.272 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.273 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.274 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.274 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.274 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.275 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.275 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.275 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.276 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.277 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.278 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 62.2407ms
2024-11-19 11:53:51.278 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.6753ms
2024-11-19 11:53:51.279 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.279 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.280 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.280 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.281 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.281 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.282 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:51.282 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - 200 2 application/json; charset=utf-8 104.1682ms
2024-11-19 11:53:51.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - 200 2 application/json; charset=utf-8 104.7089ms
2024-11-19 11:53:51.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aqx - null null
2024-11-19 11:53:51.378 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aqx - null null
2024-11-19 11:53:51.378 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.379 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.380 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.380 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.381 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.381 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.381 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.382 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.383 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.384 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.384 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.385 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.385 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.386 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.386 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.386 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.387 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.388 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.388 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.389 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.390 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.390 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.391 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.392 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.393 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.393 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.394 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.395 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.396 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.396 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.397 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.397 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.398 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.399 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.400 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.400 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.401 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.401 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.402 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.403 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.404 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.404 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.405 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.405 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.406 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.406 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.407 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.408 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.408 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.409 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.410 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.410 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.411 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.411 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.412 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.413 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.413 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.414 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.415 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.416 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.417 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.417 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.418 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.419 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.419 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.420 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.421 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.421 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.422 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.422 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.423 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.424 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.424 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.425 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.425 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.426 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.427 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.427 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.428 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.428 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.430 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.430 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.431 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.432 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.432 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.433 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.433 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.434 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.434 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.434 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.435 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.435 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.436 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.436 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.437 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.438 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.440 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.440 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:51.441 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.442 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.442 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.443 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.444 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.445 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.446 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.446 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.447 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.447 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.448 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.449 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.449 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.450 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.452 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.452 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.452 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.453 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.454 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.9609ms
2024-11-19 11:53:51.454 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.455 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.455 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.456 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.456 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.4685ms
2024-11-19 11:53:51.457 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.457 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.458 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.459 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.459 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aqx - 200 2 application/json; charset=utf-8 82.951ms
2024-11-19 11:53:51.460 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.462 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aqx - 200 2 application/json; charset=utf-8 84.5253ms
2024-11-19 11:53:51.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - null null
2024-11-19 11:53:51.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - null null
2024-11-19 11:53:51.701 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.703 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.704 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.704 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.706 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.706 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.707 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.707 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.709 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.708 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.710 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.711 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.711 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.712 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.712 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.712 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.713 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.713 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.714 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.715 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.715 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.716 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.717 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.717 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.718 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.719 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.720 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.721 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.721 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.722 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.724 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.725 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.725 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.725 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.726 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.727 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.727 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.728 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.729 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.728 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.730 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.730 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.731 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.731 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.732 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.733 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.733 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.734 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.735 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.735 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.736 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.737 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.737 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.738 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.738 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.739 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.739 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.740 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.740 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.741 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.741 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.742 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.743 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.743 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.744 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.745 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.745 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.746 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.746 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.747 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.747 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.748 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.748 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.749 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.750 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.750 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.751 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.751 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.752 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.752 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.753 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.753 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.754 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.755 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.756 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.756 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.756 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.757 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.757 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.758 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.759 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.759 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:51.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.763 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.763 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.765 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.766 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.766 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.767 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.768 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.768 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.769 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.769 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.770 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.771 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.771 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.772 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.773 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.774 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.774 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.775 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.775 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.775 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.776 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.776 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.776 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.777 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.778 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.7306ms
2024-11-19 11:53:51.778 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.172ms
2024-11-19 11:53:51.779 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.780 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.781 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.781 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.781 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.782 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.783 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.783 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=aq - 200 2 application/json; charset=utf-8 86.1956ms
2024-11-19 11:53:51.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=aq - 200 2 application/json; charset=utf-8 86.915ms
2024-11-19 11:53:51.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:51.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:51.915 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.916 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:51.916 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.917 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:51.917 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.918 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:51.918 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.919 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:51.919 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.920 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:51.920 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.921 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.921 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.922 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:51.922 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.923 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.923 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.924 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:51.925 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.925 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:51.926 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.927 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:51.927 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.928 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.929 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.930 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:51.930 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.931 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:51.932 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.932 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.933 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.934 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:51.934 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.935 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.935 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.936 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:51.936 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.937 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.937 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.938 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.939 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.939 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:51.940 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.940 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:51.941 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.941 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.942 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.942 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:51.943 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.943 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.944 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.945 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.945 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.946 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.946 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.947 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:51.947 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.948 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:51.949 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.949 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.950 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.951 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:51.951 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.952 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.952 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.953 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.954 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.954 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:51.955 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.955 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:51.956 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.956 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.957 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.957 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:51.958 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.959 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.959 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.960 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.961 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.961 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:51.962 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.962 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:51.963 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.963 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:51.964 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.965 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:51.965 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.965 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:51.966 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.966 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.967 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.967 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.968 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.968 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:51.969 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.969 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:51.970 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.970 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:51.971 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.971 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.973 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:51.974 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:51.975 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.976 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.976 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.977 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.977 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:51.979 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.978 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:51.980 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:51.980 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.981 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:51.982 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.983 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:51.983 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.984 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:51.984 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.984 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:51.985 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.985 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:51.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:51.987 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.2771ms
2024-11-19 11:53:51.989 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.990 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.0669ms
2024-11-19 11:53:51.990 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.990 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:51.991 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.992 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:51.992 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.993 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:51.994 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 83.2676ms
2024-11-19 11:53:51.994 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:51.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 85.5954ms
2024-11-19 11:53:52.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=ac - null null
2024-11-19 11:53:52.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=ac - null null
2024-11-19 11:53:52.065 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:52.067 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:52.068 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:52.068 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:52.069 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:52.069 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:52.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:52.070 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:52.071 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:52.071 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:52.072 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.073 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.073 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:52.074 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:52.074 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.074 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.075 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:52.075 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:52.077 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:52.078 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:52.078 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:52.079 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:52.080 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.080 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:52.082 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:52.083 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.084 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.085 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.086 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.086 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.087 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.087 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.088 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.088 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:52.089 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:52.090 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.091 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.091 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.092 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.092 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.093 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.093 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.094 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.094 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.095 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.096 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:52.096 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:52.097 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.097 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.098 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.099 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.100 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.100 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.101 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.102 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.102 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.103 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.103 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.104 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.104 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:52.105 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:52.106 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.106 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.107 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.107 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.108 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.108 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.109 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.110 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.110 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.111 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.111 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:52.112 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:52.113 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.113 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.114 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.114 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.115 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.115 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.116 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.116 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.117 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:52.118 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:52.119 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:52.119 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:52.120 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:52.120 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:52.120 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.121 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.121 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.123 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.123 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:52.124 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:52.124 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:52.125 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:52.125 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:52.126 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:52.126 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:52.127 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:52.128 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:52.129 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:52.130 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.131 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.131 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:52.132 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:52.132 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.133 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.134 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:52.134 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:52.135 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:52.136 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:52.137 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:52.138 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:52.138 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:52.139 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:52.139 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:52.139 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:52.140 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:52.140 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:52.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:52.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:52.143 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.1546ms
2024-11-19 11:53:52.143 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.838ms
2024-11-19 11:53:52.144 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.145 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.145 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:52.146 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:52.146 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.147 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.147 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:52.148 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:52.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=ac - 200 4197 application/json; charset=utf-8 86.4069ms
2024-11-19 11:53:52.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=ac - 200 2 application/json; charset=utf-8 86.871ms
2024-11-19 11:53:52.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:52.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:52.589 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:52.590 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:52.591 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:52.592 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:52.593 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:52.593 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:52.594 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:52.595 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:52.595 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:52.596 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:52.596 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.597 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.598 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:52.598 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:52.599 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.599 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.600 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:52.600 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:52.601 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:52.602 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:52.602 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:52.603 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:52.603 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.604 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.605 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:52.606 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:52.606 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.607 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.608 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.609 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.610 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.610 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.610 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.611 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:52.612 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.612 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.613 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:52.613 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.614 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.614 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.615 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.615 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.616 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.616 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.617 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.617 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:52.618 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.619 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.619 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:52.620 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.621 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.621 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.622 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.622 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.623 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.624 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.624 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.625 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.625 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.626 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:52.626 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.627 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.627 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:52.628 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.629 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.629 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.630 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.630 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.631 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.631 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.632 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.632 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:52.633 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.633 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.634 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:52.634 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.635 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.635 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.636 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.636 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.637 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.638 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:52.638 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.640 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:52.640 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:52.640 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:52.641 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.642 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:52.642 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.642 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:52.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:52.643 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.644 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:52.644 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:52.645 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:52.646 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:52.646 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:52.648 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:52.648 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:52.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:52.649 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.651 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:52.651 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:52.652 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.652 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.653 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 11:53:52.654 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 11:53:52.654 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:52.655 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.656 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:52.657 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:52.657 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:52.657 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:52.658 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:52.659 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:52.659 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:52.659 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:52.660 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:52.660 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:52.661 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 52.3091ms
2024-11-19 11:53:52.661 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:52.662 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.663 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:52.663 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:52.665 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.666 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.8749ms
2024-11-19 11:53:52.666 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:52.667 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.668 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 82.1682ms
2024-11-19 11:53:52.668 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:52.670 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.671 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:52.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 86.1947ms
2024-11-19 11:53:52.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=av - null null
2024-11-19 11:53:52.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=av - null null
2024-11-19 11:53:52.688 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:52.689 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:52.690 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:52.690 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:52.690 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:52.691 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:52.691 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:52.692 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:52.692 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:52.693 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:52.693 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.694 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.695 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:52.695 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:52.696 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.696 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.697 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:52.697 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:52.698 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:52.699 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:52.700 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:52.700 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:52.701 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.702 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.702 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:52.703 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:52.704 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.705 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:52.706 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.706 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.707 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.707 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:52.708 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.708 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.709 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:52.710 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:52.710 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.711 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.711 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.712 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.712 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.713 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:52.714 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.714 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:52.715 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.716 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.716 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:52.717 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:52.717 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.718 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.719 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.719 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.720 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.720 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.721 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.721 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:52.722 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.723 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:52.723 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.724 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.724 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:52.725 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:52.725 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.726 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.726 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.727 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.727 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.729 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.728 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:52.730 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.730 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:52.731 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:52.731 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.732 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.733 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:52.733 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.734 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.734 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.735 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.736 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.736 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:52.737 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:52.737 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:52.738 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:52.739 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:52.739 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:52.740 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:52.740 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.741 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:52.741 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.742 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.742 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:52.743 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:52.744 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:52.745 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:52.745 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:52.746 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:52.747 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:52.748 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:52.748 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:52.750 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:52.750 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.751 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.752 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:52.752 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:52.753 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.754 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.754 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:52.755 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:52.755 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:52.756 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:52.757 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:52.758 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:52.759 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:52.759 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:52.759 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:52.760 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:52.760 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:52.760 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:52.761 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:52.761 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:52.762 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.4584ms
2024-11-19 11:53:52.763 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 56.2817ms
2024-11-19 11:53:52.763 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.764 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:52.764 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:52.765 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:52.765 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.766 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:52.766 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 11:53:52.767 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:52.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=av - 200 2114 application/json; charset=utf-8 81.7612ms
2024-11-19 11:53:52.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=av - 200 2 application/json; charset=utf-8 82.62ms
2024-11-19 11:53:53.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - null null
2024-11-19 11:53:53.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - null null
2024-11-19 11:53:53.188 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:53.192 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:53.193 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:53.194 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:53.195 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:53.197 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:53.199 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:53.199 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:53.200 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:53.201 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:53.203 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.203 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.204 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:53.204 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:53.205 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.205 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.206 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:53.206 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:53.207 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:53.208 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:53.208 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:53.209 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:53.210 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.210 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.211 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:53.212 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:53.213 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.213 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.214 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.215 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.215 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.216 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.216 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.217 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.217 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:53.218 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:53.219 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.219 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.220 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.220 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.221 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.221 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.222 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.223 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.223 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.224 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.225 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:53.225 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:53.226 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.226 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.227 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.228 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.228 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.229 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.230 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.230 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.231 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.231 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.232 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.232 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.233 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:53.233 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:53.234 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.235 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.235 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.236 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.236 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.237 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.237 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.238 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.239 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.239 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.240 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:53.240 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:53.241 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.241 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.242 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.242 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.243 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.244 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.244 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.245 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.246 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:53.246 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:53.247 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:53.248 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:53.248 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:53.248 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:53.249 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.249 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.250 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.251 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.251 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:53.252 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:53.252 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:53.253 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:53.253 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:53.254 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 11:53:53.254 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:53.255 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:53.257 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 11:53:53.257 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 11:53:53.258 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.259 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.260 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:53.260 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:53.261 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.262 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.262 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:53.263 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:53.264 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:53.264 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:53.265 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:53.266 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:53.267 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:53.267 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:53.267 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:53.268 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:53.268 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:53.269 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:53.269 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:53.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:53.270 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.7289ms
2024-11-19 11:53:53.272 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.273 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 58.986ms
2024-11-19 11:53:53.273 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:53.274 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.274 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.275 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:53.275 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:53.276 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search=a - 200 2096 application/json; charset=utf-8 92.3707ms
2024-11-19 11:53:53.277 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:53.279 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=a - 200 25885 application/json; charset=utf-8 95.1349ms
2024-11-19 11:53:53.501 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - null null
2024-11-19 11:53:53.501 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 11:53:53.505 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:53.506 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 11:53:53.507 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:53.507 +07:00 [INF] CORS policy execution successful.
2024-11-19 11:53:53.508 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:53.508 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 11:53:53.508 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:53.509 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 11:53:53.509 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:53.510 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 11:53:53.511 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.511 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.512 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:53.512 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 11:53:53.512 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.513 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.513 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:53.514 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 11:53:53.515 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:53.515 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 11:53:53.516 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:53.516 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 11:53:53.517 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.518 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.519 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:53.520 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 11:53:53.520 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.521 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 11:53:53.522 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.522 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.523 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.523 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 11:53:53.524 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.524 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.525 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:53.525 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 11:53:53.526 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.527 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.527 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.528 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.528 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.529 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 11:53:53.530 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.530 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 11:53:53.531 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.531 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.532 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:53.532 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 11:53:53.533 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.533 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.534 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.534 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.535 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.535 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.536 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.537 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 11:53:53.537 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.538 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 11:53:53.538 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.539 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.539 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:53.540 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 11:53:53.540 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.541 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.542 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.542 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.543 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.543 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 11:53:53.544 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.544 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 11:53:53.545 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.545 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.546 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:53.546 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 11:53:53.547 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.548 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.548 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.549 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.550 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.550 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 11:53:53.551 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.551 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 11:53:53.552 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:53.552 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 11:53:53.553 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:53.554 +07:00 [DBG] Creating DbConnection.
2024-11-19 11:53:53.554 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:53.554 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 11:53:53.555 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.555 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.556 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.556 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:53.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 11:53:53.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:53.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 11:53:53.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:53.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 11:53:53.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:53.560 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:53.562 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 11:53:53.563 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 11:53:53.563 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.564 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.565 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:53.565 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 11:53:53.566 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.566 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.567 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:53.567 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 11:53:53.568 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:53.568 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 11:53:53.570 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:53.571 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 11:53:53.571 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:53.571 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 11:53:53.572 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:53.572 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 11:53:53.572 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:53.573 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 11:53:53.573 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:53.574 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 11:53:53.575 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 52.8826ms
2024-11-19 11:53:53.577 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.577 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 55.0352ms
2024-11-19 11:53:53.578 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:53.578 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 11:53:53.579 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.579 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 11:53:53.580 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:53.580 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 11:53:53.581 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=5&page_size=4&search= - 200 2096 application/json; charset=utf-8 80.5849ms
2024-11-19 11:53:53.581 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 11:53:53.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 83.2413ms
2024-11-19 11:56:17.721 +07:00 [DBG] Connection id "0HN87HVO5FAGE" received FIN.
2024-11-19 11:56:17.723 +07:00 [DBG] Connection id "0HN87HVO5FAGE" is closed. The last processed stream ID was 175.
2024-11-19 11:56:17.723 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGE completed.
2024-11-19 11:56:17.727 +07:00 [DBG] Connection id "0HN87HVO5FAGE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 11:56:17.731 +07:00 [DBG] Connection id "0HN87HVO5FAGE" stopped.
2024-11-19 12:10:02.810 +07:00 [DBG] Connection id "0HN87HVO5FAGF" accepted.
2024-11-19 12:10:02.812 +07:00 [DBG] Connection id "0HN87HVO5FAGF" started.
2024-11-19 12:10:02.853 +07:00 [DBG] Connection 0HN87HVO5FAGF established using the following protocol: "Tls13"
2024-11-19 12:10:02.857 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 12:10:02.857 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 12:10:02.860 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 12:10:02.860 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 12:10:02.862 +07:00 [INF] CORS policy execution successful.
2024-11-19 12:10:02.862 +07:00 [INF] CORS policy execution successful.
2024-11-19 12:10:02.864 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 12:10:02.864 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 12:10:02.865 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 12:10:02.865 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 12:10:02.866 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 12:10:02.866 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 12:10:02.869 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:02.869 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:02.870 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 12:10:02.870 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 12:10:02.871 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:02.871 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:02.872 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 12:10:02.872 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 12:10:02.873 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 12:10:02.874 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 12:10:02.875 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 12:10:02.876 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 12:10:02.876 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:02.877 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:02.878 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 12:10:02.879 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 12:10:02.880 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:02.881 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:02.882 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:02.883 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:02.886 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:02.886 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:02.887 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 12:10:02.887 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 12:10:02.888 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 12:10:02.888 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 12:10:02.889 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:02.890 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:02.890 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:02.891 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:02.892 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 12:10:02.893 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 12:10:02.893 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 12:10:02.894 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 12:10:02.895 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:02.896 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:02.896 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 12:10:02.897 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 12:10:02.898 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.898 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.899 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.900 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.900 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.901 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.902 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:02.902 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:02.903 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.904 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:02.904 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:02.905 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:02.905 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 12:10:02.906 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 12:10:02.907 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:02.908 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:02.909 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:02.909 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:02.910 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:02.910 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:02.911 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:02.912 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:02.912 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:02.913 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:02.914 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 12:10:02.914 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 12:10:02.915 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:02.916 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:02.917 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:02.917 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:02.918 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:02.918 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:02.919 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:02.919 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:02.925 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 12:10:02.925 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 12:10:02.928 +07:00 [DBG] Creating DbConnection.
2024-11-19 12:10:02.931 +07:00 [DBG] Created DbConnection. (3ms).
2024-11-19 12:10:02.932 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.932 +07:00 [DBG] Creating DbConnection.
2024-11-19 12:10:02.933 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 12:10:02.933 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.945 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.947 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 12:10:02.948 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 12:10:02.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 12:10:02.950 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.951 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 12:10:02.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 12:10:02.952 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 12:10:02.953 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 12:10:02.954 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 12:10:02.961 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 12:10:02.962 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 12:10:02.962 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.964 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.965 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 12:10:02.965 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 12:10:02.966 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.967 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.967 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 12:10:02.968 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 12:10:02.969 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 12:10:02.969 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 12:10:02.971 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 12:10:02.972 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 12:10:02.972 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 12:10:02.973 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 12:10:02.973 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 12:10:02.974 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 12:10:02.974 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 12:10:02.974 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 12:10:02.975 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 12:10:02.975 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 12:10:02.977 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 95.3193ms
2024-11-19 12:10:02.979 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 96.1791ms
2024-11-19 12:10:02.979 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:02.984 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:02.985 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 12:10:02.985 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 12:10:02.986 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.987 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:02.987 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 12:10:02.988 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 12:10:02.988 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2 application/json; charset=utf-8 132.0443ms
2024-11-19 12:10:02.989 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 132.7857ms
2024-11-19 12:10:05.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 12:10:05.979 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 12:10:05.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 12:10:05.982 +07:00 [INF] CORS policy execution successful.
2024-11-19 12:10:05.986 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 12:10:05.987 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 12:10:05.988 +07:00 [INF] CORS policy execution successful.
2024-11-19 12:10:05.989 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 12:10:05.989 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 12:10:05.991 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 12:10:05.991 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 12:10:05.993 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:05.994 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 12:10:05.995 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 12:10:05.996 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:05.996 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:05.997 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 12:10:05.997 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 12:10:05.998 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:05.999 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 12:10:06.000 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 12:10:06.002 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 12:10:06.003 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 12:10:06.003 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:06.004 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 12:10:06.006 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 12:10:06.007 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:06.007 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:06.008 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 12:10:06.009 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:06.010 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:06.011 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:06.012 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:06.014 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 12:10:06.016 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:06.017 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 12:10:06.018 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 12:10:06.021 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:06.023 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 12:10:06.023 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:06.024 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:06.025 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 12:10:06.025 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:06.027 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 12:10:06.028 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 12:10:06.029 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:06.027 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 12:10:06.030 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:06.029 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 12:10:06.031 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 12:10:06.032 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.033 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.034 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.035 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.036 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.037 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.037 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:06.038 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:06.039 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.039 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:06.040 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:06.041 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:06.041 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 12:10:06.042 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 12:10:06.043 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:06.043 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:06.044 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:06.045 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:06.045 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:06.046 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:06.047 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:06.049 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:06.050 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:06.051 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:06.052 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 12:10:06.052 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 12:10:06.054 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:06.055 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:06.056 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:06.057 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:06.058 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:06.059 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:06.061 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:06.062 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:06.063 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 12:10:06.063 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 12:10:06.064 +07:00 [DBG] Creating DbConnection.
2024-11-19 12:10:06.066 +07:00 [DBG] Creating DbConnection.
2024-11-19 12:10:06.066 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 12:10:06.066 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 12:10:06.067 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.067 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.068 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.069 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.070 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 12:10:06.070 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 12:10:06.071 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 12:10:06.071 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 12:10:06.072 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 12:10:06.073 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 12:10:06.073 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 12:10:06.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 12:10:06.078 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 12:10:06.079 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 12:10:06.080 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.081 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.082 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 12:10:06.083 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 12:10:06.083 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.084 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.085 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 12:10:06.085 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 12:10:06.086 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 12:10:06.087 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 12:10:06.089 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 12:10:06.090 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 12:10:06.090 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 12:10:06.091 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 12:10:06.091 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 12:10:06.091 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 12:10:06.092 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 12:10:06.092 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 12:10:06.093 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 12:10:06.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 12:10:06.096 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 87.0772ms
2024-11-19 12:10:06.098 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:06.106 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 12:10:06.107 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.106 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 94.5479ms
2024-11-19 12:10:06.108 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 12:10:06.109 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:06.110 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 137.4972ms
2024-11-19 12:10:06.111 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 12:10:06.113 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:06.114 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 12:10:06.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 142.6206ms
2024-11-19 12:10:08.580 +07:00 [DBG] Connection id "0HN87HVO5FAGF" received FIN.
2024-11-19 12:10:08.581 +07:00 [DBG] Connection id "0HN87HVO5FAGF" is closed. The last processed stream ID was 7.
2024-11-19 12:10:08.582 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGF completed.
2024-11-19 12:10:08.582 +07:00 [DBG] Connection id "0HN87HVO5FAGF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 12:10:08.596 +07:00 [DBG] Connection id "0HN87HVO5FAGF" stopped.
2024-11-19 12:10:27.160 +07:00 [DBG] Connection id "0HN87HVO5FAGG" accepted.
2024-11-19 12:10:27.161 +07:00 [DBG] Connection id "0HN87HVO5FAGG" started.
2024-11-19 12:10:27.166 +07:00 [DBG] Connection 0HN87HVO5FAGG established using the following protocol: "Tls13"
2024-11-19 12:10:27.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 12:10:27.170 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 12:10:27.173 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 12:10:27.175 +07:00 [INF] CORS policy execution successful.
2024-11-19 12:10:27.175 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 12:10:27.176 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 12:10:27.177 +07:00 [INF] CORS policy execution successful.
2024-11-19 12:10:27.180 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 12:10:27.181 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 12:10:27.182 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 12:10:27.183 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 12:10:27.184 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:27.185 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 12:10:27.187 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 12:10:27.188 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:27.188 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:27.189 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 12:10:27.190 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 12:10:27.191 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:27.193 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 12:10:27.194 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 12:10:27.195 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 12:10:27.197 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 12:10:27.197 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:27.199 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 12:10:27.203 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 12:10:27.203 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:27.205 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:27.210 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:27.209 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 12:10:27.212 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:27.213 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 12:10:27.214 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 12:10:27.215 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:27.216 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 12:10:27.217 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 12:10:27.217 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:27.219 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 12:10:27.220 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:27.221 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 12:10:27.221 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 12:10:27.222 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:27.223 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 12:10:27.224 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 12:10:27.224 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:27.225 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 12:10:27.225 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 12:10:27.226 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 12:10:27.227 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.228 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:27.228 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.229 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 12:10:27.230 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.230 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.231 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:27.232 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.233 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.232 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.236 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 12:10:27.237 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:27.238 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 12:10:27.238 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 12:10:27.239 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:27.243 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:27.244 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 12:10:27.244 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:27.245 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:27.246 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:27.245 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:27.248 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 12:10:27.249 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:27.250 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 12:10:27.250 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:27.251 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:27.252 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 12:10:27.252 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 12:10:27.257 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:27.265 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:27.260 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:27.272 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:27.267 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:27.276 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:27.274 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 12:10:27.280 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 12:10:27.280 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 12:10:27.282 +07:00 [DBG] Creating DbConnection.
2024-11-19 12:10:27.284 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 12:10:27.284 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.285 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 12:10:27.285 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.287 +07:00 [DBG] Creating DbConnection.
2024-11-19 12:10:27.287 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 12:10:27.288 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 12:10:27.288 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 12:10:27.290 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 12:10:27.290 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.291 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 12:10:27.292 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.294 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 12:10:27.295 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 12:10:27.297 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 12:10:27.298 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 12:10:27.309 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 12:10:27.314 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 12:10:27.315 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.315 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.316 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 12:10:27.319 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 3ms reading results.
2024-11-19 12:10:27.319 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.320 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.321 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 12:10:27.322 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 12:10:27.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 12:10:27.325 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 12:10:27.327 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 12:10:27.328 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 12:10:27.328 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 12:10:27.329 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 12:10:27.330 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 12:10:27.329 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 12:10:27.331 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 12:10:27.331 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 12:10:27.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 12:10:27.334 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 12:10:27.335 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 120.1171ms
2024-11-19 12:10:27.338 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:27.340 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 129.2778ms
2024-11-19 12:10:27.340 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 12:10:27.341 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 12:10:27.366 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 12:10:27.365 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.369 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 12:10:27.373 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-11-19 12:10:27.372 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-11-19 12:10:27.374 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 25885 application/json; charset=utf-8 205.8249ms
2024-11-19 12:10:27.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 228.0316ms
2024-11-19 12:10:28.597 +07:00 [DBG] Connection id "0HN87HVO5FAGG" received FIN.
2024-11-19 12:10:28.599 +07:00 [DBG] Connection id "0HN87HVO5FAGG" is closed. The last processed stream ID was 3.
2024-11-19 12:10:28.599 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGG completed.
2024-11-19 12:10:28.602 +07:00 [DBG] Connection id "0HN87HVO5FAGG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 12:10:28.611 +07:00 [DBG] Connection id "0HN87HVO5FAGG" stopped.
2024-11-19 14:23:53.963 +07:00 [DBG] Connection id "0HN87HVO5FAGH" accepted.
2024-11-19 14:23:53.970 +07:00 [DBG] Connection id "0HN87HVO5FAGH" started.
2024-11-19 14:23:53.993 +07:00 [DBG] Connection 0HN87HVO5FAGH established using the following protocol: "Tls13"
2024-11-19 14:23:53.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:23:54.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 65.8941ms
2024-11-19 14:23:55.009 +07:00 [DBG] Connection id "0HN87HVO5FAGH" received FIN.
2024-11-19 14:23:55.011 +07:00 [DBG] Connection id "0HN87HVO5FAGH" is closed. The last processed stream ID was 1.
2024-11-19 14:23:55.011 +07:00 [DBG] Connection id "0HN87HVO5FAGH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 14:23:55.013 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGH completed.
2024-11-19 14:23:55.014 +07:00 [DBG] Connection id "0HN87HVO5FAGH" stopped.
2024-11-19 14:24:29.334 +07:00 [DBG] Connection id "0HN87HVO5FAGI" accepted.
2024-11-19 14:24:29.336 +07:00 [DBG] Connection id "0HN87HVO5FAGI" started.
2024-11-19 14:24:29.380 +07:00 [DBG] Connection 0HN87HVO5FAGI established using the following protocol: "Tls13"
2024-11-19 14:24:29.435 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Appointment/${appointmentId} - null null
2024-11-19 14:24:29.545 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 14:24:29.545 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/${appointmentId}'
2024-11-19 14:24:29.547 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)' with route pattern 'api/Appointment/{id}' is valid for the request path '/api/Appointment/${appointmentId}'
2024-11-19 14:24:29.549 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-11-19 14:24:29.552 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 14:24:29.553 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-11-19 14:24:29.599 +07:00 [INF] Route matched with {action = "GetById", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetById(System.Guid) on controller CityInfo.API.Controllers.AppointmentController (CityInfo.API).
2024-11-19 14:24:29.600 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 14:24:29.600 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 14:24:29.601 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 14:24:29.602 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 14:24:29.603 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 14:24:29.604 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 14:24:29.607 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AppointmentController (CityInfo.API)
2024-11-19 14:24:29.608 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-11-19 14:24:29.609 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-11-19 14:24:29.633 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-11-19 14:24:29.634 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-11-19 14:24:29.635 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-11-19 14:24:29.639 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-11-19 14:24:29.643 +07:00 [DBG] The request has model state errors, returning an error response.
2024-11-19 14:24:29.658 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-11-19 14:24:29.661 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 14:24:29.666 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 14:24:29.670 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-11-19 14:24:29.671 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-11-19 14:24:29.672 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-19 14:24:29.754 +07:00 [INF] Executed action CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API) in 150.6985ms
2024-11-19 14:24:29.755 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AppointmentController.GetById (CityInfo.API)'
2024-11-19 14:24:29.757 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Appointment/${appointmentId} - 400 255 application/problem+json; charset=utf-8 355.1811ms
2024-11-19 14:24:29.867 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/favicon.ico - null null
2024-11-19 14:24:29.869 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 14:24:29.871 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-11-19 14:24:29.872 +07:00 [DBG] Request did not match any endpoints
2024-11-19 14:24:29.872 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 14:24:29.877 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/favicon.ico - 404 0 null 10.6264ms
2024-11-19 14:24:29.884 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7169/favicon.ico, Response status code: 404
2024-11-19 14:24:30.058 +07:00 [DBG] Connection id "0HN87HVO5FAGI" received FIN.
2024-11-19 14:24:30.059 +07:00 [DBG] Connection id "0HN87HVO5FAGI" is closed. The last processed stream ID was 3.
2024-11-19 14:24:30.059 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGI completed.
2024-11-19 14:24:30.060 +07:00 [DBG] Connection id "0HN87HVO5FAGI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 14:24:30.062 +07:00 [DBG] Connection id "0HN87HVO5FAGI" stopped.
2024-11-19 14:51:31.178 +07:00 [DBG] Connection id "0HN87HVO5FAGJ" accepted.
2024-11-19 14:51:31.188 +07:00 [DBG] Connection id "0HN87HVO5FAGJ" started.
2024-11-19 14:51:31.208 +07:00 [DBG] Connection 0HN87HVO5FAGJ established using the following protocol: "Tls13"
2024-11-19 14:51:31.217 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 14:51:31.257 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 17.3535ms
2024-11-19 14:51:31.594 +07:00 [DBG] Connection id "0HN87HVO5FAGJ" received FIN.
2024-11-19 14:51:31.596 +07:00 [DBG] Connection id "0HN87HVO5FAGJ" is closed. The last processed stream ID was 1.
2024-11-19 14:51:31.597 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGJ completed.
2024-11-19 14:51:31.598 +07:00 [DBG] Connection id "0HN87HVO5FAGJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 14:51:31.602 +07:00 [DBG] Connection id "0HN87HVO5FAGJ" stopped.
2024-11-19 14:51:45.092 +07:00 [DBG] Connection id "0HN87HVO5FAGK" accepted.
2024-11-19 14:51:45.093 +07:00 [DBG] Connection id "0HN87HVO5FAGK" started.
2024-11-19 14:51:45.098 +07:00 [DBG] Connection 0HN87HVO5FAGK established using the following protocol: "Tls13"
2024-11-19 14:51:45.128 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Patient - application/json-patch+json 331
2024-11-19 14:51:45.132 +07:00 [DBG] The request has an origin header: 'https://localhost:7169'.
2024-11-19 14:51:45.136 +07:00 [INF] CORS policy execution failed.
2024-11-19 14:51:45.137 +07:00 [INF] Request origin https://localhost:7169 does not have permission to access the resource.
2024-11-19 14:51:45.138 +07:00 [DBG] POST requests are not supported
2024-11-19 14:51:45.139 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 14:51:45.140 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 14:51:45.143 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 14:51:45.146 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 14:51:45.146 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 14:51:45.209 +07:00 [INF] Route matched with {action = "Add", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.PatientModel) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 14:51:45.210 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 14:51:45.212 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 14:51:45.213 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 14:51:45.214 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 14:51:45.214 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 14:51:45.215 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 14:51:45.219 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 14:51:45.220 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 14:51:45.236 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' using the name '' in request data ...
2024-11-19 14:51:45.246 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-11-19 14:51:45.247 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-11-19 14:51:45.289 +07:00 [DBG] Connection id "0HN87HVO5FAGK", Request id "0HN87HVO5FAGK:00000001": started reading request body.
2024-11-19 14:51:45.291 +07:00 [DBG] Connection id "0HN87HVO5FAGK", Request id "0HN87HVO5FAGK:00000001": done reading request body.
2024-11-19 14:51:45.385 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:51:45.386 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:51:45.387 +07:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 14:51:45.423 +07:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:51:45.442 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 14:51:45.500 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Patient.PatientId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 14:51:45.520 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 14:51:45.523 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-11-19 14:51:45.527 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-11-19 14:51:45.543 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-11-19 14:51:45.639 +07:00 [DBG] Creating DbConnection.
2024-11-19 14:51:45.641 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 14:51:45.641 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:51:45.658 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:51:45.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 14:51:45.662 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 14:51:45.666 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-11-19 14:51:45.667 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 255), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 255), @p8='?' (DbType = Guid), @p9='?' (Size = 15), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patient] ([PatientId], [Avatar], [Date], [Diseases], [Email], [FullName], [Gender], [Location], [PaymentId], [PhoneNumber], [Status], [Time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-19 14:51:45.713 +07:00 [ERR] Failed executing DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 255), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 255), @p8='?' (DbType = Guid), @p9='?' (Size = 15), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patient] ([PatientId], [Avatar], [Date], [Diseases], [Email], [FullName], [Gender], [Location], [PaymentId], [PhoneNumber], [Status], [Time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-19 14:51:45.718 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:51:45.719 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 14:51:45.815 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.DoctorManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Patient_Payment". The conflict occurred in database "DoctorDatabase", table "dbo.Payment", column 'PaymentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ffe6ac37-700b-485e-aaae-1ceb0e5ea206
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Patient_Payment". The conflict occurred in database "DoctorDatabase", table "dbo.Payment", column 'PaymentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ffe6ac37-700b-485e-aaae-1ceb0e5ea206
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-11-19 14:51:45.988 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 14:51:45.990 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 14:51:45.990 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-11-19 14:51:45.991 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-11-19 14:51:45.992 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-11-19 14:51:45.997 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.Add (CityInfo.API) in 781.7541ms
2024-11-19 14:51:45.998 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 14:51:45.998 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 14:51:45.999 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:51:45.999 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 14:51:46.000 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Patient - 500 201 application/problem+json; charset=utf-8 871.9838ms
2024-11-19 14:51:51.629 +07:00 [DBG] Connection id "0HN87HVO5FAGK" received FIN.
2024-11-19 14:51:51.630 +07:00 [DBG] Connection id "0HN87HVO5FAGK" is closed. The last processed stream ID was 1.
2024-11-19 14:51:51.630 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGK completed.
2024-11-19 14:51:51.631 +07:00 [DBG] Connection id "0HN87HVO5FAGK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 14:51:51.649 +07:00 [DBG] Connection id "0HN87HVO5FAGK" stopped.
2024-11-19 14:53:27.609 +07:00 [DBG] Connection id "0HN87HVO5FAGL" accepted.
2024-11-19 14:53:27.610 +07:00 [DBG] Connection id "0HN87HVO5FAGL" started.
2024-11-19 14:53:27.644 +07:00 [DBG] Connection 0HN87HVO5FAGL established using the following protocol: "Tls13"
2024-11-19 14:53:27.649 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Patient - application/json-patch+json 331
2024-11-19 14:53:27.653 +07:00 [DBG] The request has an origin header: 'https://localhost:7169'.
2024-11-19 14:53:27.653 +07:00 [INF] CORS policy execution failed.
2024-11-19 14:53:27.654 +07:00 [INF] Request origin https://localhost:7169 does not have permission to access the resource.
2024-11-19 14:53:27.654 +07:00 [DBG] POST requests are not supported
2024-11-19 14:53:27.655 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 14:53:27.655 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 14:53:27.656 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 14:53:27.656 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 14:53:27.657 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 14:53:27.657 +07:00 [INF] Route matched with {action = "Add", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.PatientModel) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 14:53:27.658 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 14:53:27.658 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 14:53:27.659 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 14:53:27.660 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 14:53:27.661 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 14:53:27.661 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 14:53:27.662 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 14:53:27.663 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 14:53:27.664 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' using the name '' in request data ...
2024-11-19 14:53:27.664 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-11-19 14:53:27.665 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-11-19 14:53:27.665 +07:00 [DBG] Connection id "0HN87HVO5FAGL", Request id "0HN87HVO5FAGL:00000001": started reading request body.
2024-11-19 14:53:27.666 +07:00 [DBG] Connection id "0HN87HVO5FAGL", Request id "0HN87HVO5FAGL:00000001": done reading request body.
2024-11-19 14:53:27.667 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:53:27.668 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:53:27.668 +07:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 14:53:27.669 +07:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:53:27.671 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 14:53:27.675 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Patient.PatientId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 14:53:27.675 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 14:53:27.676 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-11-19 14:53:27.677 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-11-19 14:53:27.677 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-11-19 14:53:27.678 +07:00 [DBG] Creating DbConnection.
2024-11-19 14:53:27.678 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 14:53:27.679 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:53:27.679 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:53:27.680 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 14:53:27.680 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 14:53:27.681 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 14:53:27.682 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 255), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 255), @p8='?' (DbType = Guid), @p9='?' (Size = 15), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patient] ([PatientId], [Avatar], [Date], [Diseases], [Email], [FullName], [Gender], [Location], [PaymentId], [PhoneNumber], [Status], [Time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-19 14:53:27.692 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 255), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 255), @p8='?' (DbType = Guid), @p9='?' (Size = 15), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patient] ([PatientId], [Avatar], [Date], [Diseases], [Email], [FullName], [Gender], [Location], [PaymentId], [PhoneNumber], [Status], [Time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-19 14:53:27.695 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:53:27.695 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 14:53:27.696 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:53:27.697 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 14:53:27.707 +07:00 [DBG] An entity of type 'Patient' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 14:53:27.710 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-11-19 14:53:27.710 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 14:53:27.712 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 14:53:27.712 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 14:53:27.712 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 14:53:27.713 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 14:53:27.713 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 14:53:27.716 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.Add (CityInfo.API) in 54.4884ms
2024-11-19 14:53:27.717 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 14:53:27.717 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 14:53:27.718 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 14:53:27.719 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 14:53:27.719 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Patient - 200 282 application/json; charset=utf-8 70.9109ms
2024-11-19 14:53:31.761 +07:00 [DBG] Connection id "0HN87HVO5FAGL" received FIN.
2024-11-19 14:53:31.762 +07:00 [DBG] Connection id "0HN87HVO5FAGL" is closed. The last processed stream ID was 1.
2024-11-19 14:53:31.762 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGL completed.
2024-11-19 14:53:31.763 +07:00 [DBG] Connection id "0HN87HVO5FAGL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 14:53:31.777 +07:00 [DBG] Connection id "0HN87HVO5FAGL" stopped.
2024-11-19 15:05:21.830 +07:00 [DBG] Connection id "0HN87HVO5FAGM" accepted.
2024-11-19 15:05:21.833 +07:00 [DBG] Connection id "0HN87HVO5FAGM" started.
2024-11-19 15:05:21.852 +07:00 [DBG] Connection 0HN87HVO5FAGM established using the following protocol: "Tls13"
2024-11-19 15:05:21.858 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:05:21.858 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:05:21.863 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:05:21.863 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:05:21.864 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:05:21.864 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:05:21.866 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:05:21.867 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:05:21.867 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:05:21.867 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:05:21.868 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:05:21.869 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:05:21.871 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:05:21.871 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:05:21.872 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:05:21.872 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:05:21.874 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:05:21.874 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:05:21.875 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:05:21.875 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:05:21.876 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:05:21.877 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:05:21.878 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:05:21.879 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:05:21.880 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:05:21.881 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:05:21.881 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:05:21.882 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:05:21.883 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:05:21.884 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:05:21.885 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:05:21.885 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:05:21.890 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:05:21.890 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:05:21.891 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:05:21.892 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:05:21.892 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:05:21.894 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:05:21.894 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:05:21.895 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:05:21.896 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:05:21.896 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:05:21.897 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:05:21.897 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:05:21.898 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:05:21.898 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:05:21.899 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:05:21.899 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:05:21.900 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:05:21.901 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:05:21.901 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.902 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.902 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.903 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.903 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.904 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:05:21.905 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.905 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.906 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:05:21.906 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:05:21.907 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:05:21.908 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:05:21.908 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:05:21.909 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:05:21.910 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:05:21.910 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:05:21.911 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:05:21.911 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:05:21.912 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:05:21.913 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:05:21.913 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:05:21.914 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:05:21.915 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:05:21.915 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:05:21.916 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:05:21.917 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:05:21.917 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:05:21.918 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:05:21.918 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:05:21.919 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:05:21.920 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:05:21.920 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:05:21.921 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:05:21.922 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:05:21.958 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:05:21.958 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:05:21.966 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:05:21.968 +07:00 [DBG] Created DbConnection. (2ms).
2024-11-19 15:05:21.969 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:21.970 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:05:21.971 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:05:21.972 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:21.982 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:21.985 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:05:21.986 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:05:21.986 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-11-19 15:05:21.987 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:05:21.988 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:21.989 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:05:21.990 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:05:21.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:05:21.991 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 15:05:22.009 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE 0 = 1
2024-11-19 15:05:22.009 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:05:22.010 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:22.012 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:05:22.013 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:22.013 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:22.014 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 15:05:22.014 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:05:22.015 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:22.016 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:05:22.016 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:05:22.017 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:05:22.018 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:05:22.020 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:05:22.020 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:05:22.020 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:05:22.021 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:05:22.021 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:05:22.022 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:05:22.022 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:05:22.023 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:05:22.024 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:05:22.026 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 141.3637ms
2024-11-19 15:05:22.027 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:05:22.028 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:05:22.028 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:22.030 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:05:22.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2 application/json; charset=utf-8 179.2526ms
2024-11-19 15:05:22.040 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 155.2827ms
2024-11-19 15:05:22.042 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:05:22.043 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:05:22.044 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:05:22.045 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:05:22.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 188.2213ms
2024-11-19 15:05:27.680 +07:00 [DBG] Connection id "0HN87HVO5FAGM" received FIN.
2024-11-19 15:05:27.681 +07:00 [DBG] Connection id "0HN87HVO5FAGM" is closed. The last processed stream ID was 3.
2024-11-19 15:05:27.681 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGM completed.
2024-11-19 15:05:27.682 +07:00 [DBG] Connection id "0HN87HVO5FAGM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:05:27.702 +07:00 [DBG] Connection id "0HN87HVO5FAGM" stopped.
2024-11-19 15:06:36.591 +07:00 [DBG] Connection id "0HN87HVO5FAGN" accepted.
2024-11-19 15:06:36.596 +07:00 [DBG] Connection id "0HN87HVO5FAGN" started.
2024-11-19 15:06:36.602 +07:00 [DBG] Connection 0HN87HVO5FAGN established using the following protocol: "Tls13"
2024-11-19 15:06:36.606 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:06:36.606 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:06:36.612 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:06:36.613 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:06:36.614 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:06:36.614 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:06:36.615 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:06:36.615 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:06:36.616 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:06:36.616 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:06:36.617 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:06:36.617 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:06:36.618 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:36.619 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:36.619 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:06:36.620 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:06:36.620 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:36.621 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:36.622 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:06:36.622 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:06:36.623 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:06:36.623 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:06:36.624 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:06:36.625 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:06:36.625 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:36.626 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:36.627 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:06:36.628 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:06:36.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:36.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:36.630 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:36.631 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:36.632 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:36.632 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:36.632 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:06:36.633 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:06:36.633 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:06:36.634 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:06:36.635 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:36.635 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:36.636 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:36.636 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:36.637 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:06:36.637 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:06:36.638 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:06:36.638 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:06:36.639 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:36.640 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:36.640 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:06:36.641 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:06:36.641 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.642 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.643 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.643 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.644 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.644 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.645 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:36.645 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:36.646 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.647 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:36.647 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:36.648 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:36.649 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:06:36.650 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:06:36.651 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:36.651 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:36.652 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:36.652 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:36.653 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:36.653 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:36.654 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:36.654 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:36.655 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:36.656 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:36.656 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:06:36.657 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:06:36.658 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:36.658 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:36.659 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:36.660 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:36.663 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:36.669 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:36.670 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:36.671 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:36.672 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:06:36.673 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:06:36.675 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:06:36.676 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:06:36.676 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:06:36.676 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:06:36.677 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.677 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.678 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.679 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.679 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:06:36.680 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:06:36.680 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:06:36.681 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:06:36.681 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:06:36.682 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:06:36.684 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:06:36.685 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:06:36.694 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:06:36.694 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:06:36.695 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.697 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.697 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:06:36.698 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:06:36.698 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.699 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.700 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:06:36.700 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:06:36.701 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:06:36.702 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:06:36.703 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:06:36.704 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:06:36.705 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:06:36.705 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:06:36.705 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:06:36.706 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:06:36.706 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:06:36.706 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:06:36.708 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:06:36.708 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:06:36.709 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 79.4781ms
2024-11-19 15:06:36.711 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:36.713 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:06:36.743 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.744 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 113.5289ms
2024-11-19 15:06:36.745 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:36.744 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:06:36.746 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:06:36.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 141.6521ms
2024-11-19 15:06:36.748 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:36.751 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 15:06:36.752 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 146.1222ms
2024-11-19 15:06:38.917 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:06:38.917 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:06:38.918 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:06:38.919 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:06:38.920 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:06:38.920 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:06:38.920 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:06:38.921 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:06:38.921 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:06:38.921 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:06:38.922 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:06:38.922 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:06:38.923 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:38.923 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:38.924 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:06:38.924 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:06:38.925 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:38.925 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:38.926 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:06:38.927 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:06:38.928 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:06:38.928 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:06:38.929 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:06:38.930 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:06:38.931 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:38.931 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:38.932 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:06:38.934 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:06:38.935 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:38.936 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:06:38.937 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:38.938 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:38.938 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:38.939 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:06:38.939 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:06:38.941 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:06:38.942 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:06:38.943 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:06:38.944 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:38.945 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:38.945 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:38.946 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:06:38.946 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:06:38.947 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:06:38.948 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:06:38.948 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:06:38.949 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:38.949 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:38.950 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:06:38.950 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:06:38.951 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.951 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.952 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.953 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.953 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.954 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.954 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:38.955 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:06:38.955 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.956 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:06:38.956 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:38.957 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:38.957 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:06:38.958 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:06:38.958 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:38.959 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:38.959 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:38.960 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:38.960 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:38.961 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:06:38.962 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:38.962 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:06:38.963 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:38.963 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:38.964 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:06:38.964 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:06:38.965 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:38.965 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:38.966 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:38.966 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:38.967 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:38.967 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:06:38.968 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:38.968 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:06:38.969 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:06:38.970 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:06:38.970 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:06:38.971 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:06:38.971 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:06:38.972 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:06:38.972 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.972 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.973 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.973 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.974 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:06:38.975 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:06:38.975 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:06:38.975 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:06:38.976 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:06:38.976 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:06:38.977 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:06:38.978 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:06:38.979 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:06:38.980 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:06:38.980 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.981 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.982 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:06:38.982 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:06:38.983 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.983 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.984 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:06:38.984 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:06:38.985 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:06:38.986 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:06:38.987 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:06:38.988 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:06:38.988 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:06:38.988 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:06:38.989 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:06:38.989 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:06:38.989 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:06:38.990 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:06:38.990 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:06:38.991 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:06:38.992 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 54.2074ms
2024-11-19 15:06:38.993 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:38.994 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 57.1992ms
2024-11-19 15:06:38.994 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:06:38.995 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:06:38.996 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.996 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:06:38.997 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:06:38.998 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:06:38.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 81.7244ms
2024-11-19 15:06:38.998 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:06:39.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 83.9322ms
2024-11-19 15:08:41.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:08:41.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:08:41.711 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:08:41.712 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:08:41.712 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:08:41.712 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:08:41.713 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:08:41.713 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:08:41.714 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:08:41.714 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:08:41.715 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:08:41.716 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:08:41.716 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:08:41.717 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:08:41.717 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:08:41.718 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:08:41.718 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:08:41.719 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:08:41.719 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:08:41.720 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:08:41.720 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:08:41.721 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:08:41.722 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:08:41.723 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:08:41.723 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:08:41.724 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:08:41.725 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:08:41.726 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:08:41.726 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:08:41.727 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:08:41.728 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:08:41.729 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:08:41.730 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:08:41.731 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:08:41.731 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:08:41.732 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:08:41.732 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:08:41.733 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:08:41.734 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:08:41.735 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:08:41.736 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:08:41.737 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:08:41.738 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:08:41.739 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:08:41.739 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:08:41.740 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:08:41.741 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:08:41.742 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:08:41.742 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:08:41.743 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:08:41.744 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.745 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.746 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.746 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.747 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.748 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.748 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:08:41.749 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:08:41.750 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.750 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:08:41.751 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:08:41.752 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:08:41.752 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:08:41.754 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:08:41.755 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:08:41.755 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:08:41.756 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:08:41.757 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:08:41.757 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:08:41.758 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:08:41.759 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:08:41.759 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:08:41.760 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:08:41.760 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:08:41.761 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:08:41.762 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:08:41.763 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:08:41.764 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:08:41.764 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:08:41.765 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:08:41.766 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:08:41.766 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:08:41.767 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:08:41.768 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:08:41.769 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:08:41.773 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:08:41.774 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:08:41.775 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:08:41.775 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 15:08:41.776 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:08:41.776 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.776 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.777 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.778 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.779 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:08:41.779 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:08:41.780 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:08:41.780 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:08:41.781 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:08:41.782 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:08:41.782 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:08:41.783 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:08:41.796 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:08:41.796 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:08:41.798 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.799 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.799 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:08:41.800 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:08:41.800 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.801 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.801 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:08:41.802 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:08:41.803 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:08:41.803 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:08:41.805 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:08:41.806 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:08:41.807 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:08:41.807 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:08:41.808 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:08:41.808 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:08:41.809 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:08:41.809 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:08:41.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:08:41.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:08:41.811 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 82.1715ms
2024-11-19 15:08:41.815 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:08:41.822 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:08:41.823 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 94.6178ms
2024-11-19 15:08:41.823 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.823 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:08:41.824 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:08:41.824 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:08:41.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 120.0221ms
2024-11-19 15:08:41.826 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:08:41.828 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-11-19 15:08:41.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 123.6353ms
2024-11-19 15:09:48.047 +07:00 [DBG] Connection id "0HN87HVO5FAGN" received FIN.
2024-11-19 15:09:48.050 +07:00 [DBG] Connection id "0HN87HVO5FAGN" is closed. The last processed stream ID was 11.
2024-11-19 15:09:48.054 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGN completed.
2024-11-19 15:09:48.054 +07:00 [DBG] Connection id "0HN87HVO5FAGN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:09:48.060 +07:00 [DBG] Connection id "0HN87HVO5FAGN" stopped.
2024-11-19 15:25:58.632 +07:00 [DBG] Connection id "0HN87HVO5FAGO" accepted.
2024-11-19 15:25:58.634 +07:00 [DBG] Connection id "0HN87HVO5FAGO" started.
2024-11-19 15:25:58.646 +07:00 [DBG] Connection 0HN87HVO5FAGO established using the following protocol: "Tls13"
2024-11-19 15:25:58.649 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:25:58.649 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:25:58.654 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:25:58.655 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:25:58.656 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:25:58.656 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:25:58.657 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:25:58.657 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:25:58.658 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:25:58.658 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:25:58.659 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:25:58.659 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:25:58.660 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:25:58.660 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:25:58.661 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:25:58.661 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:25:58.662 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:25:58.663 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:25:58.664 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:25:58.664 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:25:58.665 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:25:58.665 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:25:58.666 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:25:58.666 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:25:58.667 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:25:58.667 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:25:58.668 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:25:58.669 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:25:58.670 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:25:58.670 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:25:58.671 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:25:58.672 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:25:58.673 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:25:58.673 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:25:58.674 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:25:58.674 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:25:58.675 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:25:58.675 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:25:58.676 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:25:58.677 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:25:58.677 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:25:58.678 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:25:58.679 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:25:58.679 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:25:58.680 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:25:58.680 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:25:58.681 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:25:58.681 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:25:58.682 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:25:58.682 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:25:58.683 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.683 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.684 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.685 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.685 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.686 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.686 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:25:58.687 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:25:58.687 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.688 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:25:58.688 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:25:58.689 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:25:58.689 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:25:58.689 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:25:58.690 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:25:58.691 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:25:58.692 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:25:58.693 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:25:58.693 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:25:58.694 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:25:58.694 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:25:58.695 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:25:58.695 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:25:58.696 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:25:58.696 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:25:58.697 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:25:58.698 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:25:58.698 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:25:58.699 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:25:58.699 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:25:58.700 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:25:58.700 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:25:58.701 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:25:58.701 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:25:58.704 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:25:58.704 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:25:58.706 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:25:58.706 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:25:58.713 +07:00 [DBG] Created DbConnection. (7ms).
2024-11-19 15:25:58.713 +07:00 [DBG] Created DbConnection. (7ms).
2024-11-19 15:25:58.714 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.714 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.732 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.733 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:25:58.734 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:25:58.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:25:58.735 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:25:58.737 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.737 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:25:58.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:25:58.738 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:25:58.739 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:25:58.744 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:25:58.745 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:25:58.746 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.748 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 15:25:58.748 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.749 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.749 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 2ms reading results.
2024-11-19 15:25:58.750 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:25:58.750 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.751 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:25:58.752 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:25:58.753 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:25:58.754 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:25:58.754 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:25:58.755 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:25:58.755 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:25:58.756 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:25:58.756 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:25:58.756 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:25:58.757 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:25:58.757 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:25:58.758 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 86.149ms
2024-11-19 15:25:58.758 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:25:58.759 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:25:58.760 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:25:58.762 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.763 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 92.1611ms
2024-11-19 15:25:58.767 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-11-19 15:25:58.770 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:25:58.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 121.8728ms
2024-11-19 15:25:58.771 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:25:58.774 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:25:58.775 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:25:58.775 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 126.6204ms
2024-11-19 15:26:04.367 +07:00 [DBG] Connection id "0HN87HVO5FAGO" received FIN.
2024-11-19 15:26:04.368 +07:00 [DBG] Connection id "0HN87HVO5FAGO" is closed. The last processed stream ID was 3.
2024-11-19 15:26:04.368 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGO completed.
2024-11-19 15:26:04.368 +07:00 [DBG] Connection id "0HN87HVO5FAGO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:26:04.383 +07:00 [DBG] Connection id "0HN87HVO5FAGO" stopped.
2024-11-19 15:35:08.278 +07:00 [DBG] Connection id "0HN87HVO5FAGP" accepted.
2024-11-19 15:35:08.312 +07:00 [DBG] Connection id "0HN87HVO5FAGP" started.
2024-11-19 15:35:08.318 +07:00 [DBG] Connection 0HN87HVO5FAGP established using the following protocol: "Tls13"
2024-11-19 15:35:08.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:35:08.324 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:35:08.327 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:35:08.329 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:35:08.329 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:35:08.329 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:35:08.330 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:35:08.330 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:35:08.331 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:35:08.331 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:35:08.332 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:35:08.333 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:08.333 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:35:08.334 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:35:08.334 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:08.335 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:08.335 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:35:08.336 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:35:08.336 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:08.338 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:35:08.338 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:35:08.339 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:35:08.340 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:35:08.341 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:08.341 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:35:08.343 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:35:08.343 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:08.344 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:08.345 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:35:08.346 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:08.347 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:08.348 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:08.348 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:08.349 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:35:08.350 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:08.350 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:35:08.351 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:35:08.352 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:08.352 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:35:08.353 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:08.354 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:08.354 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:35:08.355 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:08.355 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:35:08.356 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:35:08.357 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:08.358 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:35:08.367 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:35:08.368 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:08.368 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.369 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:35:08.371 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.372 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.372 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.373 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.374 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:08.375 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.375 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.376 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:08.377 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:08.377 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:08.378 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:35:08.379 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:08.379 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:08.380 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:35:08.381 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:08.381 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:08.382 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:08.383 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:08.383 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:08.384 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:08.384 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:08.385 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:08.386 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:35:08.388 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:08.387 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:08.388 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:08.389 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:35:08.390 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:08.390 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:08.391 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:08.391 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:08.393 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:08.393 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:35:08.393 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:08.395 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:35:08.396 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:35:08.396 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 15:35:08.397 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:35:08.397 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.397 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:35:08.398 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.406 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:35:08.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:35:08.409 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:35:08.410 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:35:08.412 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.412 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:35:08.413 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:35:08.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:35:08.415 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:35:08.421 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:35:08.422 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:35:08.423 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.423 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.424 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:35:08.424 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:35:08.425 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.426 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.426 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:35:08.427 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:35:08.428 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:35:08.428 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:35:08.430 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:35:08.431 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:35:08.431 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:35:08.431 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:35:08.432 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:35:08.432 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:35:08.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:35:08.433 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:35:08.433 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:35:08.434 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:35:08.435 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 86.9585ms
2024-11-19 15:35:08.437 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:08.438 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:35:08.439 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.440 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:35:08.441 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 94.399ms
2024-11-19 15:35:08.442 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 119.0421ms
2024-11-19 15:35:08.445 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:08.447 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:35:08.449 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:08.450 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:35:08.450 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 128.0952ms
2024-11-19 15:35:10.160 +07:00 [DBG] Connection id "0HN87HVO5FAGP" received FIN.
2024-11-19 15:35:10.160 +07:00 [DBG] Connection id "0HN87HVO5FAGP" is closed. The last processed stream ID was 3.
2024-11-19 15:35:10.161 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGP completed.
2024-11-19 15:35:10.161 +07:00 [DBG] Connection id "0HN87HVO5FAGP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:35:10.164 +07:00 [DBG] Connection id "0HN87HVO5FAGP" stopped.
2024-11-19 15:35:47.013 +07:00 [DBG] Connection id "0HN87HVO5FAGQ" accepted.
2024-11-19 15:35:47.015 +07:00 [DBG] Connection id "0HN87HVO5FAGQ" started.
2024-11-19 15:35:47.020 +07:00 [DBG] Connection 0HN87HVO5FAGQ established using the following protocol: "Tls13"
2024-11-19 15:35:47.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:35:47.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:35:47.032 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:35:47.033 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:35:47.034 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:35:47.034 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:35:47.034 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:35:47.035 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:35:47.035 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:35:47.036 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:35:47.036 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:35:47.037 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:35:47.038 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:47.038 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:47.039 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:35:47.039 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:35:47.040 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:47.040 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:47.041 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:35:47.041 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:35:47.042 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:35:47.043 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:35:47.043 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:35:47.044 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:35:47.045 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:47.045 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:47.046 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:35:47.047 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:35:47.048 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:47.049 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:35:47.050 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:47.051 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:47.052 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:47.052 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:35:47.053 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:35:47.053 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:35:47.054 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:35:47.055 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:35:47.055 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:47.056 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:47.057 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:47.057 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:35:47.058 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:35:47.058 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:35:47.059 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:35:47.060 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:35:47.060 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:47.061 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:47.061 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:35:47.062 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:35:47.062 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.063 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.064 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.065 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.065 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.066 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.066 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:47.067 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:35:47.067 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.068 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:35:47.069 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:47.069 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:47.071 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:35:47.071 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:35:47.072 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:47.072 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:47.073 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:47.074 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:47.074 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:47.075 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:35:47.075 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:47.076 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:35:47.076 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:47.077 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:47.078 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:35:47.079 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:35:47.079 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:47.080 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:47.080 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:47.081 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:47.081 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:47.082 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:35:47.083 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:47.083 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:35:47.084 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:35:47.084 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:35:47.085 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:35:47.086 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 15:35:47.087 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:35:47.087 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.087 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:35:47.088 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.088 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:35:47.089 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.090 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:35:47.090 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:35:47.091 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:35:47.091 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:35:47.092 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:35:47.093 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:35:47.094 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:35:47.100 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:35:47.101 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:35:47.102 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.103 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.104 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:35:47.104 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:35:47.105 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.105 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.106 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:35:47.106 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:35:47.107 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:35:47.108 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:35:47.108 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:35:47.109 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:35:47.110 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:35:47.110 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:35:47.110 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:35:47.111 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:35:47.111 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:35:47.111 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:35:47.112 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:35:47.112 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:35:47.115 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 63.9418ms
2024-11-19 15:35:47.116 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 66.0954ms
2024-11-19 15:35:47.118 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:47.119 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:35:47.120 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:35:47.121 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:35:47.121 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.122 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:35:47.122 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:35:47.123 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:35:47.123 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 96.001ms
2024-11-19 15:35:47.124 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26217 application/json; charset=utf-8 97.1721ms
2024-11-19 15:35:55.244 +07:00 [DBG] Connection id "0HN87HVO5FAGQ" received FIN.
2024-11-19 15:35:55.245 +07:00 [DBG] Connection id "0HN87HVO5FAGQ" is closed. The last processed stream ID was 3.
2024-11-19 15:35:55.245 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGQ completed.
2024-11-19 15:35:55.246 +07:00 [DBG] Connection id "0HN87HVO5FAGQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:35:55.259 +07:00 [DBG] Connection id "0HN87HVO5FAGQ" stopped.
2024-11-19 15:39:04.934 +07:00 [DBG] Connection id "0HN87HVO5FAGR" accepted.
2024-11-19 15:39:04.938 +07:00 [DBG] Connection id "0HN87HVO5FAGR" started.
2024-11-19 15:39:04.944 +07:00 [DBG] Connection 0HN87HVO5FAGR established using the following protocol: "Tls13"
2024-11-19 15:39:04.960 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/Patient - null null
2024-11-19 15:39:04.962 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:39:04.962 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:39:04.971 +07:00 [DBG] The request is a preflight request.
2024-11-19 15:39:04.995 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/Patient - 204 null null 35.0205ms
2024-11-19 15:39:04.999 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Patient - application/json 52
2024-11-19 15:39:05.000 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:39:05.000 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:39:05.001 +07:00 [DBG] POST requests are not supported
2024-11-19 15:39:05.001 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:39:05.002 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:39:05.002 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:39:05.003 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:39:05.003 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:39:05.004 +07:00 [INF] Route matched with {action = "Add", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.PatientModel) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:39:05.004 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:39:05.005 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:39:05.006 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:39:05.007 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:39:05.007 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:39:05.008 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:39:05.009 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:39:05.010 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 15:39:05.013 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' using the name '' in request data ...
2024-11-19 15:39:05.015 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-11-19 15:39:05.016 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-11-19 15:39:05.020 +07:00 [DBG] Connection id "0HN87HVO5FAGR", Request id "0HN87HVO5FAGR:00000003": started reading request body.
2024-11-19 15:39:05.021 +07:00 [DBG] Connection id "0HN87HVO5FAGR", Request id "0HN87HVO5FAGR:00000003": done reading request body.
2024-11-19 15:39:05.028 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:39:05.029 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:39:05.029 +07:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 15:39:05.051 +07:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:39:05.053 +07:00 [DBG] The request has model state errors, returning an error response.
2024-11-19 15:39:05.054 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-11-19 15:39:05.055 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:39:05.057 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:39:05.057 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-11-19 15:39:05.060 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-11-19 15:39:05.060 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-19 15:39:05.063 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.Add (CityInfo.API) in 54.5729ms
2024-11-19 15:39:05.063 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:39:05.064 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Patient - 400 567 application/problem+json; charset=utf-8 65.4308ms
2024-11-19 15:39:45.597 +07:00 [DBG] Connection id "0HN87HVO5FAGR" received FIN.
2024-11-19 15:39:45.602 +07:00 [DBG] Connection id "0HN87HVO5FAGR" is closed. The last processed stream ID was 3.
2024-11-19 15:39:45.603 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGR completed.
2024-11-19 15:39:45.604 +07:00 [DBG] Connection id "0HN87HVO5FAGR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:39:45.608 +07:00 [DBG] Connection id "0HN87HVO5FAGR" stopped.
2024-11-19 15:43:48.179 +07:00 [DBG] Connection id "0HN87HVO5FAGS" accepted.
2024-11-19 15:43:48.182 +07:00 [DBG] Connection id "0HN87HVO5FAGS" started.
2024-11-19 15:43:48.188 +07:00 [DBG] Connection 0HN87HVO5FAGS established using the following protocol: "Tls13"
2024-11-19 15:43:48.189 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/Patient - null null
2024-11-19 15:43:48.193 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:43:48.194 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:43:48.194 +07:00 [DBG] The request is a preflight request.
2024-11-19 15:43:48.195 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/Patient - 204 null null 5.4585ms
2024-11-19 15:43:48.196 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Patient - application/json 291
2024-11-19 15:43:48.197 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:43:48.197 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:43:48.198 +07:00 [DBG] POST requests are not supported
2024-11-19 15:43:48.198 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:43:48.199 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:43:48.199 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:43:48.200 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:43:48.200 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:43:48.201 +07:00 [INF] Route matched with {action = "Add", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.PatientModel) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:43:48.201 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:43:48.202 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:43:48.202 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:43:48.203 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:43:48.204 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:43:48.204 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:43:48.205 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:43:48.206 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 15:43:48.207 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' using the name '' in request data ...
2024-11-19 15:43:48.208 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-11-19 15:43:48.208 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-11-19 15:43:48.209 +07:00 [DBG] Connection id "0HN87HVO5FAGS", Request id "0HN87HVO5FAGS:00000003": started reading request body.
2024-11-19 15:43:48.209 +07:00 [DBG] Connection id "0HN87HVO5FAGS", Request id "0HN87HVO5FAGS:00000003": done reading request body.
2024-11-19 15:43:48.213 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:43:48.214 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:43:48.214 +07:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 15:43:48.217 +07:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:43:48.223 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:43:48.228 +07:00 [DBG] 'DoctorManagementContext' generated a value for the property 'Patient.PatientId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 15:43:48.234 +07:00 [DBG] Context 'DoctorManagementContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 15:43:48.235 +07:00 [DBG] SaveChanges starting for 'DoctorManagementContext'.
2024-11-19 15:43:48.235 +07:00 [DBG] DetectChanges starting for 'DoctorManagementContext'.
2024-11-19 15:43:48.237 +07:00 [DBG] DetectChanges completed for 'DoctorManagementContext'.
2024-11-19 15:43:48.242 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:43:48.243 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 15:43:48.244 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:43:48.253 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:43:48.254 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:43:48.254 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:43:48.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:43:48.259 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 255), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 255), @p8='?' (DbType = Guid), @p9='?' (Size = 15), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patient] ([PatientId], [Avatar], [Date], [Diseases], [Email], [FullName], [Gender], [Location], [PaymentId], [PhoneNumber], [Status], [Time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-19 15:43:48.270 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 255), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 255), @p8='?' (DbType = Guid), @p9='?' (Size = 15), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patient] ([PatientId], [Avatar], [Date], [Diseases], [Email], [FullName], [Gender], [Location], [PaymentId], [PhoneNumber], [Status], [Time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-11-19 15:43:48.271 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:43:48.272 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:43:48.272 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:43:48.273 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:43:48.274 +07:00 [DBG] An entity of type 'Patient' tracked by 'DoctorManagementContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-11-19 15:43:48.275 +07:00 [DBG] SaveChanges completed for 'DoctorManagementContext' with 1 entities written to the database.
2024-11-19 15:43:48.275 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:43:48.276 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:43:48.277 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:43:48.277 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:43:48.277 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:43:48.278 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:43:48.279 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.Add (CityInfo.API) in 74.2118ms
2024-11-19 15:43:48.279 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:43:48.280 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:43:48.280 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:43:48.281 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:43:48.281 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Patient - 200 291 application/json; charset=utf-8 85.2919ms
2024-11-19 15:44:12.517 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H - null null
2024-11-19 15:44:12.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H - null null
2024-11-19 15:44:12.523 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:12.524 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:12.525 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:12.525 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:12.526 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:12.526 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:12.526 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:12.527 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:12.527 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:12.528 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:12.528 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.529 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.529 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:12.530 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:12.530 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.531 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.531 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:12.531 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:12.533 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:12.532 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:12.534 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:12.534 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:12.535 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.535 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.536 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:12.537 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:12.537 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.538 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.539 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.539 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.541 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.541 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.542 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.542 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.542 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:12.543 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:12.543 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.544 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.544 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.545 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.545 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.546 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.547 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.547 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.548 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.548 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.549 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:12.549 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:12.550 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.550 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.551 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.551 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.552 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.552 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.553 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.553 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.554 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.554 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.555 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.555 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.556 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:12.556 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:12.557 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.557 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.558 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.558 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.559 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.559 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.560 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.560 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.561 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.561 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.562 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:12.562 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:12.563 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.563 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.564 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.564 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.565 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.565 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.566 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.566 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.568 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:12.568 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:12.571 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:12.571 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:12.571 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:12.571 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.572 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:12.572 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.573 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.573 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:12.574 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:12.575 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:12.575 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:12.578 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.578 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:12.579 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:12.579 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:12.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:12.586 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:12.587 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:12.587 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.588 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.588 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:12.589 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:44:12.590 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.590 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.591 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:44:12.591 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:44:12.592 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:12.592 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:12.593 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:12.594 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:12.595 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:12.595 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:12.595 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:12.596 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:12.596 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:12.596 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:12.597 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:12.597 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:12.598 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 59.8359ms
2024-11-19 15:44:12.600 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.604 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:12.604 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 64.4301ms
2024-11-19 15:44:12.605 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.608 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.609 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-11-19 15:44:12.610 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:12.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H - 200 2133 application/json; charset=utf-8 89.0072ms
2024-11-19 15:44:12.611 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.613 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:12.614 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H - 200 13057 application/json; charset=utf-8 96.3579ms
2024-11-19 15:44:12.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ho - null null
2024-11-19 15:44:12.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=Ho - null null
2024-11-19 15:44:12.790 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:12.791 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:12.791 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:12.792 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:12.792 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:12.792 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:12.793 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:12.793 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:12.793 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:12.794 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:12.794 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.795 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.795 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:12.796 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:12.796 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.797 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.798 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:12.797 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:12.798 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:12.799 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:12.799 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:12.800 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:12.801 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.801 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.802 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:12.803 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:12.803 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.804 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.805 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.805 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.806 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.806 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.807 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.807 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.808 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:12.808 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:12.809 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.809 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.810 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.810 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.811 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.811 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.812 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.812 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.813 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.813 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.814 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:12.814 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:12.815 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.815 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.816 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.816 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.817 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.817 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.818 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.818 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.819 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.820 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.820 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.821 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.821 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:12.822 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:12.822 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.823 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.823 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.824 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.825 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.825 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:12.826 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.826 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:12.827 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.827 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.828 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:12.828 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:12.829 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.829 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.830 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.830 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.831 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.831 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:12.832 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.832 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:12.833 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:12.834 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:12.835 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:12.835 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:12.835 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:12.836 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:12.836 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.836 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.837 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.837 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.838 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:12.839 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:12.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:12.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:12.840 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:12.840 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:12.841 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:12.841 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:12.843 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:12.843 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:12.844 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.845 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.845 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:12.846 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:44:12.846 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.847 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.847 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:12.848 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:44:12.848 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:12.849 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:12.850 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:12.851 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:12.851 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:12.851 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:12.852 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:12.852 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:12.853 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:12.853 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:12.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:12.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:12.855 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.9499ms
2024-11-19 15:44:12.855 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.774ms
2024-11-19 15:44:12.856 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.856 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.857 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:12.857 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:12.858 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.858 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:12.859 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:12.859 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:12.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=Ho - 200 537 application/json; charset=utf-8 71.6274ms
2024-11-19 15:44:12.861 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ho - 200 537 application/json; charset=utf-8 72.3557ms
2024-11-19 15:44:12.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H%E1%BB%8D - null null
2024-11-19 15:44:12.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H%E1%BB%8D - null null
2024-11-19 15:44:12.960 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:12.960 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:12.961 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:12.961 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:12.962 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:12.962 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:12.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:12.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:12.964 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:12.964 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:12.972 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.972 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.973 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:12.973 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:12.974 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.974 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:12.975 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:12.975 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:12.976 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:12.977 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:12.977 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:12.978 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:12.979 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.979 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.980 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:12.981 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:12.982 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.982 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:12.983 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.984 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.984 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.985 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:12.985 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.986 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.986 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:12.987 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:12.987 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.988 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.989 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.989 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.990 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.990 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:12.991 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.991 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:12.992 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.992 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.993 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:12.993 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:12.994 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.994 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.995 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.996 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.996 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.997 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.997 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.998 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:12.998 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.999 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:12.999 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:13.000 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:13.000 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:13.001 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:13.002 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:13.002 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:13.003 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:13.003 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:13.004 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:13.005 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:13.005 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:13.004 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:13.006 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:13.007 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:13.008 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:13.007 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:13.008 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:13.009 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:13.009 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:13.010 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:13.011 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:13.011 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:13.012 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:13.012 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:13.013 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:13.013 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:13.013 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:13.014 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.015 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:13.015 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.016 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:13.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:13.016 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:13.017 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:13.017 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.018 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:13.019 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.019 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:13.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:13.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:13.021 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:13.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:13.022 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:13.023 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:44:13.025 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:13.025 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.026 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.026 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:13.027 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:44:13.027 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:13.028 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.029 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:13.029 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:13.029 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:13.030 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:13.030 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:13.031 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:13.032 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:13.032 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:13.033 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:13.033 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:13.034 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.925ms
2024-11-19 15:44:13.034 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:13.035 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:13.035 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:13.036 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:13.036 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 53.225ms
2024-11-19 15:44:13.037 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.037 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:13.038 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:13.038 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:13.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H%E1%BB%8D - 200 342 application/json; charset=utf-8 80.6418ms
2024-11-19 15:44:13.039 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:13.041 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:13.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H%E1%BB%8D - 200 342 application/json; charset=utf-8 83.6185ms
2024-11-19 15:44:14.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H - null null
2024-11-19 15:44:14.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H - null null
2024-11-19 15:44:14.170 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:14.171 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:14.172 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:14.172 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:14.173 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:14.173 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:14.173 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:14.174 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:14.174 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:14.175 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:14.175 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:14.176 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:14.177 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:14.177 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:14.177 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:14.178 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:14.179 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:14.179 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:14.180 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:14.181 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:14.181 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:14.182 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:14.183 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:14.183 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:14.184 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:14.185 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:14.186 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:14.186 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:14.187 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:14.188 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:14.188 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:14.189 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:14.189 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:14.189 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:14.190 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:14.190 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:14.191 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:14.191 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:14.192 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:14.193 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:14.193 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:14.194 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:14.194 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:14.195 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:14.195 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:14.196 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:14.196 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:14.197 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:14.198 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.198 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.199 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.199 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.200 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.201 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.201 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:14.202 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:14.202 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.203 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:14.203 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:14.204 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:14.204 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:14.205 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:14.205 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:14.206 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:14.207 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:14.207 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:14.208 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:14.208 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:14.209 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:14.209 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:14.210 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:14.210 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:14.211 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:14.211 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:14.212 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:14.213 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:14.213 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:14.214 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:14.214 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:14.215 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:14.215 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:14.216 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:14.217 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:14.217 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:14.218 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:14.218 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:14.218 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:14.219 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:14.219 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.219 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.220 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.220 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.221 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:14.222 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:14.222 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:14.222 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:14.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:14.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:14.224 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:14.225 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:14.226 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:14.227 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:14.228 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.229 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.229 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:14.230 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:14.230 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.231 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.231 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:14.232 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:14.232 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:14.233 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:14.234 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:14.235 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:14.236 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:14.236 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:14.236 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:14.237 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:14.237 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:14.237 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:14.238 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:14.238 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:14.239 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 51.9972ms
2024-11-19 15:44:14.241 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:14.241 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 53.8219ms
2024-11-19 15:44:14.242 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:14.246 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:14.246 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.246 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:14.247 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:44:14.248 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:14.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H - 200 2133 application/json; charset=utf-8 79.9567ms
2024-11-19 15:44:14.249 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:14.251 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H - 200 13057 application/json; charset=utf-8 82.4225ms
2024-11-19 15:44:15.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ho - null null
2024-11-19 15:44:15.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=Ho - null null
2024-11-19 15:44:15.272 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:15.273 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:15.273 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:15.274 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:15.274 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:15.274 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:15.275 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:15.275 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:15.276 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:15.276 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:15.277 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.278 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.278 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:15.279 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:15.279 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.280 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.280 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:15.280 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:15.283 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:15.281 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:15.283 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:15.284 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:15.284 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.285 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.286 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:15.286 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:15.287 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.288 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.288 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.289 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.290 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.290 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.290 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.291 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.291 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:15.292 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:15.292 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.293 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.293 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.294 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.294 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.295 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.295 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.296 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.296 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.297 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.297 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:15.298 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:15.298 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.299 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.299 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.300 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.300 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.301 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.301 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.302 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.302 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.303 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.303 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.304 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.304 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:15.305 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:15.305 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.306 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.306 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.307 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.307 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.308 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.308 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.309 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.309 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.310 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.311 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:15.311 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:15.312 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.312 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.313 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.313 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.314 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.314 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.314 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.315 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.316 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:15.316 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:15.317 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:15.318 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:15.318 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:15.318 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:15.318 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.319 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.319 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.320 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:15.321 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:15.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:15.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:15.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:15.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:15.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:15.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:15.325 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:15.325 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:15.326 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.326 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.327 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:15.327 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:44:15.328 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.328 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.329 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:44:15.329 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:44:15.330 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:15.330 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:15.331 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:15.333 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:15.332 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:15.333 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:15.334 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:15.333 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:15.334 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:15.334 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:15.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:15.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:15.336 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 46.8899ms
2024-11-19 15:44:15.336 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 48.2591ms
2024-11-19 15:44:15.337 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.338 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.338 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:15.339 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:15.339 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.340 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:44:15.340 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.341 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=Ho - 200 537 application/json; charset=utf-8 70.8031ms
2024-11-19 15:44:15.341 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:15.343 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=Ho - 200 537 application/json; charset=utf-8 73.0988ms
2024-11-19 15:44:15.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H%E1%BB%8D - null null
2024-11-19 15:44:15.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H%E1%BB%8D - null null
2024-11-19 15:44:15.443 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:15.444 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:44:15.444 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:15.445 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:44:15.445 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:15.445 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:44:15.446 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:15.446 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:44:15.447 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:15.447 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:44:15.448 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.448 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.449 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:15.449 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:44:15.450 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.450 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.451 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:15.451 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:44:15.452 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:15.452 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:44:15.453 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:15.453 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:44:15.454 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.454 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.455 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:15.456 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:44:15.457 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.457 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:44:15.458 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.458 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.459 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.459 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:44:15.460 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.460 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.461 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:15.461 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:44:15.462 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.462 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.463 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.463 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.464 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.464 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:44:15.464 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.465 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:44:15.465 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.466 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.466 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:15.467 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:44:15.467 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.468 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.468 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.469 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.470 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.470 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.471 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.471 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:44:15.472 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.472 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:44:15.473 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.473 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.473 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:15.474 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:44:15.474 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.475 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.475 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.476 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.476 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.477 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:44:15.477 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.478 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:44:15.478 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.479 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.479 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:15.480 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:44:15.480 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.481 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.481 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.482 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.482 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.483 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:44:15.483 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.484 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:44:15.485 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:15.485 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:44:15.486 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:15.486 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:44:15.486 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:15.487 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:44:15.488 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.488 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.489 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.489 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:15.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:44:15.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:15.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:44:15.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:44:15.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:44:15.493 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:15.493 +07:00 [DBG] Executing DbCommand [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:15.495 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
2024-11-19 15:44:15.496 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 100), @__search_0_contains_1='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
WHERE [p].[FullName] LIKE @__search_0_contains ESCAPE N'\' OR CONVERT(varchar(36), [p].[PatientId]) LIKE @__search_0_contains_1 ESCAPE N'\'
ORDER BY [p].[FullName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2024-11-19 15:44:15.496 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.497 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.497 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:15.498 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:44:15.499 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.499 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.500 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:15.500 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:44:15.501 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:15.502 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:44:15.503 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:15.504 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:15.504 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:44:15.505 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:15.505 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:44:15.505 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:15.506 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:44:15.506 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:15.507 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:44:15.507 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.6166ms
2024-11-19 15:44:15.508 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:44:15.508 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.509 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 50.9674ms
2024-11-19 15:44:15.509 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:15.510 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:44:15.511 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.511 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:44:15.512 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:15.512 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:44:15.513 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search=H%E1%BB%8D - 200 342 application/json; charset=utf-8 71.3606ms
2024-11-19 15:44:15.513 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:44:15.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search=H%E1%BB%8D - 200 342 application/json; charset=utf-8 74.1549ms
2024-11-19 15:45:36.037 +07:00 [DBG] Connection id "0HN87HVO5FAGS" received FIN.
2024-11-19 15:45:36.039 +07:00 [DBG] Connection id "0HN87HVO5FAGS" is closed. The last processed stream ID was 27.
2024-11-19 15:45:36.039 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGS completed.
2024-11-19 15:45:36.043 +07:00 [DBG] Connection id "0HN87HVO5FAGS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:45:36.046 +07:00 [DBG] Connection id "0HN87HVO5FAGS" stopped.
2024-11-19 15:46:25.065 +07:00 [DBG] Connection id "0HN87HVO5FAGT" accepted.
2024-11-19 15:46:25.067 +07:00 [DBG] Connection id "0HN87HVO5FAGT" started.
2024-11-19 15:46:25.073 +07:00 [DBG] Connection 0HN87HVO5FAGT established using the following protocol: "Tls13"
2024-11-19 15:46:25.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:46:25.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:46:25.080 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:25.081 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:25.081 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:25.081 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:25.082 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:25.082 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:25.082 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:25.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:25.083 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:25.084 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:25.085 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:25.085 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:25.086 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:25.086 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:25.086 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:25.087 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:25.087 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:25.088 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:25.088 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:25.089 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:25.090 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:25.090 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:25.091 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:25.091 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:25.092 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:25.093 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:25.093 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:25.094 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:25.095 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:25.095 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:25.096 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:25.097 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:25.097 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:25.097 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:25.098 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:25.098 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:25.099 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:25.099 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:25.100 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:25.100 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:25.101 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:25.101 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:25.102 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:25.102 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:25.103 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:25.103 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:25.104 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:25.104 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.105 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:25.106 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.106 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.107 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.107 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.108 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:25.108 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.109 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.109 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:25.110 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:25.110 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:25.111 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:25.111 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:25.112 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:25.112 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:25.113 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:25.113 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:25.114 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:25.114 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:25.115 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:25.115 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:25.116 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:25.116 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:25.117 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:25.117 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:25.118 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:25.118 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:25.119 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:25.120 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:25.120 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:25.121 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:25.121 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:25.122 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:25.123 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:25.123 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:25.123 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:25.124 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:25.125 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:25.125 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:25.125 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:25.126 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.126 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.127 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.127 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:25.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:25.128 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:25.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:25.129 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:25.130 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:25.130 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:25.131 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:25.139 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:25.140 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:25.141 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.141 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.142 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:25.142 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:25.143 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.144 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.144 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:25.145 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:25.146 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:25.147 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:25.146 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:25.148 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:25.149 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:25.149 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:25.149 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:25.150 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:25.150 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:25.151 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:25.151 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:25.152 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:25.155 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 60.4484ms
2024-11-19 15:46:25.157 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 61.4396ms
2024-11-19 15:46:25.161 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:25.161 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:25.162 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:25.163 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.162 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:25.164 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:25.164 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:25.165 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 90.5725ms
2024-11-19 15:46:25.165 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:46:25.168 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 93.6484ms
2024-11-19 15:46:29.201 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:46:29.203 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - null null
2024-11-19 15:46:29.203 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:29.204 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:29.204 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:29.205 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:29.206 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:29.206 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:29.207 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:29.207 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:29.207 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:29.208 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:29.208 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.209 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.210 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:29.210 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:29.210 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.211 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.211 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:29.212 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:29.212 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:29.213 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:29.213 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:29.214 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:29.214 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.215 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.216 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:29.217 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:29.217 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.218 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.218 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.219 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.220 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.220 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.220 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.221 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.221 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:29.222 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:29.222 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.223 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.224 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.224 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.225 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.225 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.226 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.226 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.227 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.227 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.227 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:29.228 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:29.228 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.229 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.229 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.230 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.231 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.231 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.231 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.232 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.232 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.233 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.233 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.234 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.234 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:29.235 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:29.235 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.236 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.236 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.237 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.237 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.238 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.238 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.239 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.239 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.240 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.240 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:29.241 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:29.241 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.242 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.242 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.243 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.243 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.244 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.244 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.245 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.245 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:29.246 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:29.246 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:29.247 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:29.247 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:29.247 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:29.248 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.248 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.249 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.249 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:29.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:29.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:29.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:29.252 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:46:29.252 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:46:29.253 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:29.254 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-19 15:46:29.255 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:29.256 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.257 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:29.258 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.258 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-11-19 15:46:29.258 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:46:29.259 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.260 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:29.260 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:29.261 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:29.262 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.262 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:29.262 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:46:29.263 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:29.263 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:29.264 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:29.264 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:29.265 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:29.266 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:29.267 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:29.267 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:29.269 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 50.3758ms
2024-11-19 15:46:29.269 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:29.272 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.272 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 53.2413ms
2024-11-19 15:46:29.273 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:29.273 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.274 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.274 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:29.275 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:29.275 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 74.6828ms
2024-11-19 15:46:29.276 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:46:29.279 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=2&page_size=4&search= - 200 2107 application/json; charset=utf-8 76.3317ms
2024-11-19 15:46:29.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:46:29.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - null null
2024-11-19 15:46:29.402 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:29.403 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:29.403 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:29.403 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:29.404 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:29.404 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:29.405 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:29.405 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:29.406 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:29.406 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:29.407 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.407 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.408 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:29.408 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:29.409 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.409 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.410 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:29.410 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:29.411 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:29.412 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:29.412 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:29.413 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:29.414 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.414 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.415 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:29.416 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:29.416 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.417 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.418 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.419 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.419 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.420 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.420 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.421 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.421 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:29.422 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:29.422 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.423 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.423 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.424 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.424 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.425 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.426 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.426 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.427 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.427 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.428 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:29.428 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:29.429 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.429 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.430 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.430 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.431 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.431 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.432 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.432 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.433 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.433 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.434 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.434 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.435 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:29.435 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:29.436 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.437 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.437 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.438 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.438 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.439 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.439 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.440 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.440 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.441 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.441 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:29.442 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:29.442 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.443 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.443 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.444 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.444 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.445 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.445 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.446 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.447 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:29.447 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:29.448 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:29.448 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:29.448 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:29.449 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:29.449 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.450 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.450 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.450 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.451 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:29.451 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:29.452 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:29.452 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:29.453 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:29.453 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:29.454 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:29.454 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:29.456 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:29.456 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:29.457 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.457 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.458 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:29.458 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:46:29.459 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.460 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.460 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:29.461 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:46:29.461 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:29.462 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:29.463 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:29.464 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:29.464 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:29.464 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:29.464 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:29.465 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:29.465 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:29.465 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:29.466 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:29.466 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:29.468 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.7995ms
2024-11-19 15:46:29.469 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 51.0076ms
2024-11-19 15:46:29.469 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.470 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.470 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:29.471 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:29.471 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.471 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.472 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:29.472 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:46:29.473 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=3&page_size=4&search= - 200 2123 application/json; charset=utf-8 73.0016ms
2024-11-19 15:46:29.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 74.0172ms
2024-11-19 15:46:29.783 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:46:29.784 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - null null
2024-11-19 15:46:29.785 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:29.786 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:29.786 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:29.787 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:29.787 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:29.787 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:29.788 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:29.788 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:29.788 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:29.789 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:29.790 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.790 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.790 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:29.791 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:29.791 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.792 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.792 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:29.793 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:29.793 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:29.794 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:29.795 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:29.795 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:29.796 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.796 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.797 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:29.798 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:29.799 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.799 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:29.800 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.801 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.801 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.802 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:29.802 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.803 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.803 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:29.804 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:29.804 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.805 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.805 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.806 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.806 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.807 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:29.808 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.808 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:29.809 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.809 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.810 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:29.810 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:29.811 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.811 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.812 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.812 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.813 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.814 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.814 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.815 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:29.815 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.816 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:29.816 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.817 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.817 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:29.818 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:29.818 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.819 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.819 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.820 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.821 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.821 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:29.822 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.822 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:29.823 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.823 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.824 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:29.824 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:29.825 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.825 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.826 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.826 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.827 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.827 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:29.828 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.829 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:29.829 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:29.830 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:29.831 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:29.832 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:29.832 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:29.832 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:29.832 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.833 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.833 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.834 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.834 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:29.835 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:29.835 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:29.836 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:29.836 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:46:29.837 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:29.837 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:29.838 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:29.839 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:29.840 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:29.841 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.841 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.842 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:29.842 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:29.843 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.843 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.844 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:29.844 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:46:29.845 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:29.845 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:29.846 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:29.847 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:29.848 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:29.848 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:29.848 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:29.849 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:29.849 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:29.849 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:29.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:29.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:29.852 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 51.7515ms
2024-11-19 15:46:29.853 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 52.8489ms
2024-11-19 15:46:29.853 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.854 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:29.854 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:29.856 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.855 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:29.856 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:29.857 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:29.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=4&page_size=4&search= - 200 2100 application/json; charset=utf-8 74.1901ms
2024-11-19 15:46:29.858 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:46:29.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 77.0926ms
2024-11-19 15:46:31.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:46:31.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=13&page_size=4&search= - null null
2024-11-19 15:46:31.079 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:31.080 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:31.081 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:31.081 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:31.081 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:31.082 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:31.082 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:31.082 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:31.083 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:31.083 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:31.084 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:31.085 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:31.085 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:31.085 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:31.086 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:31.086 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:31.087 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:31.087 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:31.088 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:31.088 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:31.089 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:31.089 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:31.090 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:31.090 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:31.091 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:31.092 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:31.093 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:31.093 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:31.094 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:31.095 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:31.095 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:31.096 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:31.096 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:31.097 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:31.097 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:31.098 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:31.098 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:31.099 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:31.099 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:31.100 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:31.100 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:31.101 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:31.101 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:31.102 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:31.102 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:31.103 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:31.103 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:31.104 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:31.104 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.105 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.105 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.106 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.106 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.107 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.107 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:31.108 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:31.108 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.109 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:31.109 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:31.110 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:31.110 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:31.111 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:31.111 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:31.112 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:31.112 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:31.113 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:31.113 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:31.114 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:31.114 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:31.115 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:31.115 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:31.116 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:31.116 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:31.116 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:31.117 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:31.118 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:31.118 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:31.118 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:31.119 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:31.120 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:31.120 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:31.120 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:31.122 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:31.122 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:31.122 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:31.123 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:31.123 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:31.123 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:31.124 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.124 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.125 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.125 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.126 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:31.126 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:31.127 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:31.127 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:31.127 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:31.128 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:31.128 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:31.129 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:31.130 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:31.131 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:31.132 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.132 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.133 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:31.133 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:31.134 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.134 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.135 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:31.135 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (0ms).
2024-11-19 15:46:31.136 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:31.136 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:31.137 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:31.138 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:31.139 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:31.139 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:31.139 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:31.139 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:31.140 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:31.140 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:31.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:31.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:31.143 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 47.9016ms
2024-11-19 15:46:31.144 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.6297ms
2024-11-19 15:46:31.145 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:31.148 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:31.148 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:31.149 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:31.149 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.150 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:31.150 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:31.151 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:46:31.151 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=13&page_size=4&search= - 200 1205 application/json; charset=utf-8 74.1703ms
2024-11-19 15:46:31.152 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 74.7015ms
2024-11-19 15:46:34.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:46:34.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:46:34.528 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:34.529 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:46:34.529 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:34.530 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:46:34.530 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:34.530 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:46:34.531 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:34.531 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:46:34.532 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:34.532 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:46:34.533 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:34.533 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:34.534 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:34.534 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:46:34.534 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:34.535 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:34.535 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:34.535 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:46:34.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:34.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:46:34.538 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:34.538 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:46:34.539 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:34.540 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:34.540 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:34.541 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:46:34.542 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:34.542 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:46:34.543 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:34.544 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:34.545 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:34.545 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:46:34.546 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:34.546 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:46:34.547 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:34.547 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:46:34.548 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:34.548 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:34.549 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:34.549 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:46:34.550 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:34.550 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:46:34.551 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:34.551 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:46:34.551 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:34.552 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:34.552 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:34.553 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:46:34.553 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.554 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.555 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.555 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.556 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.556 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.557 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:34.557 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:46:34.558 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.558 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:46:34.559 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:34.559 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:34.559 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:34.560 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:46:34.560 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:34.561 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:34.561 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:34.562 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:34.562 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:34.563 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:46:34.564 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:34.564 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:46:34.565 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:34.565 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:34.566 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:34.566 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:46:34.567 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:34.567 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:34.568 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:34.568 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:34.569 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:34.569 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:46:34.570 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:34.570 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:46:34.571 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:34.572 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:46:34.572 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:34.573 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:46:34.573 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:34.573 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:46:34.574 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.574 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.574 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.575 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.575 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:34.576 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:46:34.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:34.577 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-11-19 15:46:34.577 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:34.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:46:34.578 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:34.579 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:34.580 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:46:34.581 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:46:34.581 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.582 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.582 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:46:34.583 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 0ms reading results.
2024-11-19 15:46:34.583 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.584 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.585 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:34.585 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:46:34.586 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:34.586 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:46:34.587 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:34.588 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:46:34.588 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:34.588 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:46:34.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:34.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:46:34.589 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:34.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:46:34.590 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:34.591 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:46:34.593 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 49.672ms
2024-11-19 15:46:34.593 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 48.8595ms
2024-11-19 15:46:34.594 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:34.594 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:46:34.595 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:34.595 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:46:34.595 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.596 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:46:34.596 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:34.597 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:46:34.597 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 71.3356ms
2024-11-19 15:46:34.598 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 71.8403ms
2024-11-19 15:47:01.143 +07:00 [DBG] Connection id "0HN87HVO5FAGT" received FIN.
2024-11-19 15:47:01.144 +07:00 [DBG] Connection id "0HN87HVO5FAGT" is closed. The last processed stream ID was 23.
2024-11-19 15:47:01.145 +07:00 [DBG] Connection id "0HN87HVO5FAGT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:47:01.150 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGT completed.
2024-11-19 15:47:01.152 +07:00 [DBG] Connection id "0HN87HVO5FAGT" stopped.
2024-11-19 15:48:37.225 +07:00 [DBG] Connection id "0HN87HVO5FAGU" accepted.
2024-11-19 15:48:37.236 +07:00 [DBG] Connection id "0HN87HVO5FAGU" started.
2024-11-19 15:48:37.244 +07:00 [DBG] Connection 0HN87HVO5FAGU established using the following protocol: "Tls13"
2024-11-19 15:48:37.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - null null
2024-11-19 15:48:37.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - null null
2024-11-19 15:48:37.254 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:48:37.256 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:48:37.256 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:48:37.257 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:48:37.258 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:48:37.258 +07:00 [DBG] The request path  does not match the path filter
2024-11-19 15:48:37.258 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:48:37.259 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:48:37.259 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:48:37.260 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:48:37.261 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:48:37.261 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:48:37.261 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:48:37.262 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:48:37.262 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:48:37.263 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:48:37.263 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:48:37.264 +07:00 [INF] Route matched with {action = "GetAllPatient", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatient(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:48:37.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:48:37.265 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:48:37.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:48:37.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:48:37.267 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:48:37.268 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:48:37.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:48:37.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:48:37.270 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:48:37.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:48:37.271 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:48:37.272 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:48:37.273 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:48:37.273 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:48:37.274 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:48:37.274 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2024-11-19 15:48:37.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:48:37.275 +07:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2024-11-19 15:48:37.276 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:48:37.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:48:37.277 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:48:37.278 +07:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2024-11-19 15:48:37.278 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:48:37.279 +07:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2024-11-19 15:48:37.279 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:48:37.280 +07:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2024-11-19 15:48:37.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:48:37.281 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:48:37.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:48:37.282 +07:00 [DBG] Attempting to bind parameter 'sortBy' of type 'System.String' using the name '' in request data ...
2024-11-19 15:48:37.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.284 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.285 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.286 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.287 +07:00 [DBG] Done attempting to bind parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.287 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:48:37.288 +07:00 [DBG] Attempting to validate the bound parameter 'sortBy' of type 'System.String' ...
2024-11-19 15:48:37.288 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.289 +07:00 [DBG] Done attempting to validate the bound parameter 'sortBy' of type 'System.String'.
2024-11-19 15:48:37.289 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:48:37.290 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-11-19 15:48:37.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:48:37.291 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-11-19 15:48:37.292 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:48:37.293 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:48:37.294 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:48:37.295 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-11-19 15:48:37.295 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:48:37.296 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-11-19 15:48:37.298 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:48:37.299 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-11-19 15:48:37.300 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:48:37.304 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:48:37.304 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:48:37.305 +07:00 [DBG] Attempting to bind parameter 'page_size' of type 'System.Int32' using the name 'page_size' in request data ...
2024-11-19 15:48:37.306 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:48:37.307 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:48:37.308 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:48:37.309 +07:00 [DBG] Done attempting to bind parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:48:37.309 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:48:37.310 +07:00 [DBG] Attempting to validate the bound parameter 'page_size' of type 'System.Int32' ...
2024-11-19 15:48:37.311 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:48:37.311 +07:00 [DBG] Done attempting to validate the bound parameter 'page_size' of type 'System.Int32'.
2024-11-19 15:48:37.313 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:48:37.313 +07:00 [DBG] Entity Framework Core 8.0.8 initialized 'DoctorManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-11-19 15:48:37.315 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:48:37.316 +07:00 [DBG] Creating DbConnection.
2024-11-19 15:48:37.316 +07:00 [DBG] Created DbConnection. (1ms).
2024-11-19 15:48:37.316 +07:00 [DBG] Created DbConnection. (0ms).
2024-11-19 15:48:37.317 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.317 +07:00 [DBG] Opening connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.318 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.319 +07:00 [DBG] Opened connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:48:37.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-11-19 15:48:37.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:48:37.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-11-19 15:48:37.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:48:37.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-11-19 15:48:37.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:48:37.324 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:48:37.334 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
2024-11-19 15:48:37.334 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientId], [p].[Status], [p].[Gender], [p].[Avatar], [p].[FullName], [p].[Date], [p].[Time], [p].[Location], [p].[Email], [p].[PhoneNumber], [p].[Diseases], [p].[PaymentId], (DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date])) - CASE
    WHEN GETDATE() < DATEADD(year, CAST(DATEPART(year, GETDATE()) - DATEPART(year, [p].[Date]) AS int), [p].[Date]) THEN 1
    ELSE 0
END AS [Age]
FROM [Patient] AS [p]
ORDER BY [p].[FullName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-11-19 15:48:37.336 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.336 +07:00 [DBG] Closing data reader to 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.337 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:48:37.338 +07:00 [DBG] A data reader for 'DoctorDatabase' on server '.\sqlexpress' is being disposed after spending 1ms reading results.
2024-11-19 15:48:37.339 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.340 +07:00 [DBG] Closing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.340 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:48:37.341 +07:00 [DBG] Closed connection to database 'DoctorDatabase' on server '.\sqlexpress' (1ms).
2024-11-19 15:48:37.342 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:48:37.342 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:48:37.343 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:48:37.344 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:48:37.345 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:48:37.345 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-11-19 15:48:37.346 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:48:37.346 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-11-19 15:48:37.347 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:48:37.347 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-11-19 15:48:37.348 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:48:37.348 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PatientVM, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 15:48:37.350 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 78.0885ms
2024-11-19 15:48:37.352 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API) in 80.6534ms
2024-11-19 15:48:37.355 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:48:37.356 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.GetAllPatient (CityInfo.API)'
2024-11-19 15:48:37.357 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:48:37.357 +07:00 [DBG] 'DoctorManagementContext' disposed.
2024-11-19 15:48:37.358 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.358 +07:00 [DBG] Disposing connection to database 'DoctorDatabase' on server '.\sqlexpress'.
2024-11-19 15:48:37.359 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-11-19 15:48:37.359 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-11-19 15:48:37.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=4&search= - 200 2113 application/json; charset=utf-8 111.5794ms
2024-11-19 15:48:37.361 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/Patient?page=1&page_size=0&search= - 200 26558 application/json; charset=utf-8 113.2185ms
2024-11-19 15:48:41.257 +07:00 [DBG] Connection id "0HN87HVO5FAGU" received FIN.
2024-11-19 15:48:41.258 +07:00 [DBG] Connection id "0HN87HVO5FAGU" is closed. The last processed stream ID was 3.
2024-11-19 15:48:41.258 +07:00 [DBG] The connection queue processing loop for 0HN87HVO5FAGU completed.
2024-11-19 15:48:41.259 +07:00 [DBG] Connection id "0HN87HVO5FAGU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-19 15:48:41.271 +07:00 [DBG] Connection id "0HN87HVO5FAGU" stopped.
2024-11-19 15:57:21.906 +07:00 [DBG] Connection id "0HN87HVO5FAGV" accepted.
2024-11-19 15:57:21.907 +07:00 [DBG] Connection id "0HN87HVO5FAGV" started.
2024-11-19 15:57:21.915 +07:00 [DBG] Connection 0HN87HVO5FAGV established using the following protocol: "Tls13"
2024-11-19 15:57:21.920 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/Patient - null null
2024-11-19 15:57:21.924 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:57:21.925 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:57:21.925 +07:00 [DBG] The request is a preflight request.
2024-11-19 15:57:21.926 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/Patient - 204 null null 6.0104ms
2024-11-19 15:57:21.927 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/Patient - application/json 260
2024-11-19 15:57:21.928 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-11-19 15:57:21.929 +07:00 [INF] CORS policy execution successful.
2024-11-19 15:57:21.929 +07:00 [DBG] POST requests are not supported
2024-11-19 15:57:21.929 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Patient'
2024-11-19 15:57:21.930 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)' with route pattern 'api/Patient' is valid for the request path '/api/Patient'
2024-11-19 15:57:21.931 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:57:21.931 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-11-19 15:57:21.932 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:57:21.932 +07:00 [INF] Route matched with {action = "Add", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Add(CityInfo.API.Models.PatientModel) on controller CityInfo.API.Controllers.PatientController (CityInfo.API).
2024-11-19 15:57:21.933 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-11-19 15:57:21.933 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-11-19 15:57:21.934 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:57:21.935 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-11-19 15:57:21.935 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-11-19 15:57:21.936 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:57:21.937 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PatientController (CityInfo.API)
2024-11-19 15:57:21.937 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 15:57:21.938 +07:00 [DBG] Attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel' using the name '' in request data ...
2024-11-19 15:57:21.939 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-11-19 15:57:21.939 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-11-19 15:57:21.940 +07:00 [DBG] Connection id "0HN87HVO5FAGV", Request id "0HN87HVO5FAGV:00000003": started reading request body.
2024-11-19 15:57:21.941 +07:00 [DBG] Connection id "0HN87HVO5FAGV", Request id "0HN87HVO5FAGV:00000003": done reading request body.
2024-11-19 15:57:21.945 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:57:21.945 +07:00 [DBG] Done attempting to bind parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:57:21.946 +07:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel' ...
2024-11-19 15:57:21.948 +07:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'CityInfo.API.Models.PatientModel'.
2024-11-19 15:57:21.948 +07:00 [DBG] The request has model state errors, returning an error response.
2024-11-19 15:57:21.949 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-11-19 15:57:21.949 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-11-19 15:57:21.950 +07:00 [DBG] No information found on request to perform content negotiation.
2024-11-19 15:57:21.951 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-11-19 15:57:21.952 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-11-19 15:57:21.952 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-19 15:57:21.953 +07:00 [INF] Executed action CityInfo.API.Controllers.PatientController.Add (CityInfo.API) in 17.0385ms
2024-11-19 15:57:21.954 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PatientController.Add (CityInfo.API)'
2024-11-19 15:57:21.954 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/Patient - 400 289 application/problem+json; charset=utf-8 27.0665ms
